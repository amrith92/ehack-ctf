!function(bf,aj){function az(b,a){for(var c,d=[],f=0;f<b.length;++f){if(c=aA[b[f]]||bU(b[f]),!c){throw"module definition dependecy not found: "+b[f]}d.push(c)}a.apply(null,d)}function aG(a,b,c){if("string"!=typeof a){throw"invalid module definition, module id must be defined and be a string"}if(b===aj){throw"invalid module definition, dependencies must be specified"}if(c===aj){throw"invalid module definition, definition function must be specified"}az(b,function(){aA[a]=c.apply(null,arguments)})}function bI(a){return !!aA[a]}function bU(a){for(var b=bf,c=a.split(/[.\/]/),d=0;d<c.length;++d){if(!b[c[d]]){return}b=b[c[d]]}return b}function ar(d){for(var f=0;f<d.length;f++){for(var g=bf,b=d[f],c=b.split(/[.\/]/),e=0;e<c.length-1;++e){g[c[e]]===aj&&(g[c[e]]={}),g=g[c[e]]}g[c[c.length-1]]=aA[b]}}var aA={},af="tinymce/dom/EventUtils",br="tinymce/dom/Sizzle",bk="tinymce/dom/DomQuery",aV="tinymce/html/Styles",bn="tinymce/dom/TreeWalker",bG="tinymce/util/Tools",aw="tinymce/dom/Range",bm="tinymce/html/Entities",bl="tinymce/Env",a9="tinymce/dom/DOMUtils",ao="tinymce/dom/ScriptLoader",bA="tinymce/AddOnManager",by="tinymce/html/Node",bR="tinymce/html/Schema",bO="tinymce/html/SaxParser",a4="tinymce/html/DomParser",aK="tinymce/html/Writer",ak="tinymce/html/Serializer",bJ="tinymce/dom/Serializer",bK="tinymce/dom/TridentSelection",av="tinymce/util/VK",aL="tinymce/dom/ControlSelection",ay="tinymce/dom/Selection",bw="tinymce/dom/RangeUtils",bH="tinymce/Formatter",bu="tinymce/UndoManager",aC="tinymce/EnterKey",aT="tinymce/ForceBlocks",bh="tinymce/EditorCommands",bE="tinymce/util/URI",aS="tinymce/util/Class",a3="tinymce/ui/Selector",a7="tinymce/ui/Collection",aH="tinymce/ui/DomUtils",ba="tinymce/ui/Control",aU="tinymce/ui/Factory",aF="tinymce/ui/Container",a1="tinymce/ui/DragHelper",aR="tinymce/ui/Scrollable",bb="tinymce/ui/Panel",ax="tinymce/ui/Movable",bB="tinymce/ui/Resizable",bq="tinymce/ui/FloatPanel",aZ="tinymce/ui/KeyboardNavigation",aW="tinymce/ui/Window",aE="tinymce/ui/MessageBox",bN="tinymce/WindowManager",bQ="tinymce/util/Quirks",bi="tinymce/util/Observable",a2="tinymce/Shortcuts",bL="tinymce/Editor",aQ="tinymce/util/I18n",bz="tinymce/FocusManager",aJ="tinymce/EditorManager",bv="tinymce/LegacyInput",ag="tinymce/util/XHR",bd="tinymce/util/JSON",bp="tinymce/util/JSONRequest",ac="tinymce/util/JSONP",aY="tinymce/util/LocalStorage",bC="tinymce/Compat",aD="tinymce/ui/Layout",bD="tinymce/ui/AbsoluteLayout",be="tinymce/ui/Tooltip",bj="tinymce/ui/Widget",bc="tinymce/ui/Button",aM="tinymce/ui/ButtonGroup",ai="tinymce/ui/Checkbox",a6="tinymce/ui/PanelButton",bM="tinymce/ui/ColorButton",bo="tinymce/ui/ComboBox",a0="tinymce/ui/Path",ab="tinymce/ui/ElementPath",bx="tinymce/ui/FormItem",al="tinymce/ui/Form",aI="tinymce/ui/FieldSet",am="tinymce/ui/FilePicker",bg="tinymce/ui/FitLayout",a5="tinymce/ui/FlexLayout",ae="tinymce/ui/FlowLayout",ah="tinymce/ui/FormatControls",an="tinymce/ui/GridLayout",aX="tinymce/ui/Iframe",aq="tinymce/ui/Label",au="tinymce/ui/Toolbar",ad="tinymce/ui/MenuBar",a8="tinymce/ui/MenuButton",ap="tinymce/ui/ListBox",bs="tinymce/ui/MenuItem",bP="tinymce/ui/Menu",aO="tinymce/ui/Radio",bF="tinymce/ui/ResizeHandle",bT="tinymce/ui/Spacer",aN="tinymce/ui/SplitButton",aa="tinymce/ui/StackLayout",bS="tinymce/ui/TabPanel",aB="tinymce/ui/TextBox",aP="tinymce/ui/Throbber";aG(af,[],function(){function f(i,a,k,l){i.addEventListener?i.addEventListener(a,k,l||!1):i.attachEvent&&i.attachEvent("on"+a,k)}function d(i,a,k,l){i.removeEventListener?i.removeEventListener(a,k,l||!1):i.detachEvent&&i.detachEvent("on"+a,k)}function g(k,p){function v(){return !1}function y(){return !0}var q,x=p||{},w;for(q in k){"layerX"!==q&&"layerY"!==q&&(x[q]=k[q])}if(x.target||(x.target=x.srcElement||document),k&&c.test(k.type)&&k.pageX===w&&k.clientX!==w){var z=x.target.ownerDocument||document,m=z.documentElement,a=z.body;x.pageX=k.clientX+(m&&m.scrollLeft||a&&a.scrollLeft||0)-(m&&m.clientLeft||a&&a.clientLeft||0),x.pageY=k.clientY+(m&&m.scrollTop||a&&a.scrollTop||0)-(m&&m.clientTop||a&&a.clientTop||0)}return x.preventDefault=function(){x.isDefaultPrevented=y,k&&(k.preventDefault?k.preventDefault():k.returnValue=!1)},x.stopPropagation=function(){x.isPropagationStopped=y,k&&(k.stopPropagation?k.stopPropagation():k.cancelBubble=!0)},x.stopImmediatePropagation=function(){x.isImmediatePropagationStopped=y,x.stopPropagation()},x.isDefaultPrevented||(x.isDefaultPrevented=v,x.isPropagationStopped=v,x.isImmediatePropagationStopped=v),x}function h(p,u,v){function e(){v.domLoaded||(v.domLoaded=!0,u(q))}function m(){"complete"===t.readyState&&(d(t,"readystatechange",m),e())}function k(){try{t.documentElement.doScroll("left")}catch(a){return setTimeout(k,0),void 0}e()}var t=p.document,q={type:"ready"};return v.domLoaded?(u(q),void 0):(t.addEventListener?f(p,"DOMContentLoaded",e):(f(t,"readystatechange",m),t.documentElement.doScroll&&p===p.top&&k()),f(p,"load",e),void 0)}function j(){function r(s,l){var u,v,w,a;if(u=k[l][s.type]){for(v=0,w=u.length;w>v;v++){if(a=u[v],a&&a.func.call(a.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped()){return}}}}var m=this,k={},q,o,n,e,p;o=b+(+new Date).toString(32),e="onmouseenter" in document.documentElement,n="onfocusin" in document.documentElement,p={mouseenter:"mouseover",mouseleave:"mouseout"},q=1,m.domLoaded=!1,m.events=k,m.bind=function(s,E,H,z){function u(t){r(g(t||a.event),G)}var G,A,B,F,i,l,D,a=window;if(s&&3!==s.nodeType&&8!==s.nodeType){for(s[o]?G=s[o]:(G=q++,s[o]=G,k[G]={}),z=z||s,E=E.split(" "),B=E.length;B--;){F=E[B],l=u,i=D=!1,"DOMContentLoaded"===F&&(F="ready"),m.domLoaded&&"ready"===F&&"complete"==s.readyState?H.call(z,g({type:F})):(e||(i=p[F],i&&(l=function(w){var v,x;if(v=w.currentTarget,x=w.relatedTarget,x&&v.contains){x=v.contains(x)}else{for(;x&&x!==v;){x=x.parentNode}}x||(w=g(w||a.event),w.type="mouseout"===w.type?"mouseleave":"mouseenter",w.target=v,r(w,G))})),n||"focusin"!==F&&"focusout"!==F||(D=!0,i="focusin"===F?"focus":"blur",l=function(t){t=g(t||a.event),t.type="focus"===t.type?"focusin":"focusout",r(t,G)}),A=k[G][F],A?"ready"===F&&m.domLoaded?H({type:F}):A.push({func:H,scope:z}):(k[G][F]=A=[{func:H,scope:z}],A.fakeName=i,A.capture=D,A.nativeHandler=l,"ready"===F?h(s,l,m):f(s,i||F,l,D)))}return s=A=0,H}},m.unbind=function(s,v,z){var t,y,B,a,x,w;if(!s||3===s.nodeType||8===s.nodeType){return m}if(t=s[o]){if(w=k[t],v){for(v=v.split(" "),B=v.length;B--;){if(x=v[B],y=w[x]){if(z){for(a=y.length;a--;){y[a].func===z&&y.splice(a,1)}}z&&0!==y.length||(delete w[x],d(s,y.fakeName||x,y.nativeHandler,y.capture))}}}else{for(x in w){y=w[x],d(s,y.fakeName||x,y.nativeHandler,y.capture)}w={}}for(x in w){return m}delete k[t];try{delete s[o]}catch(A){s[o]=null}}return m},m.fire=function(l,i,s){var a;if(!l||3===l.nodeType||8===l.nodeType){return m}s=g(null,s),s.type=i,s.target=l;do{a=l[o],a&&r(s,a),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!s.isPropagationStopped());return m},m.clean=function(i){var a,l,s=m.unbind;if(!i||3===i.nodeType||8===i.nodeType){return m}if(i[o]&&s(i),i.getElementsByTagName||(i=i.document),i&&i.getElementsByTagName){for(s(i),l=i.getElementsByTagName("*"),a=l.length;a--;){i=l[a],i[o]&&s(i)}}return m},m.destroy=function(){k={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var b="mce-data-",c=/^(?:mouse|contextmenu)|click/;return j.Event=new j,j.Event.bind(window,"ready",function(){}),j}),aG(br,[],function(){function cB(a){return cV.test(a+"")}function b4(){var b,a=[];return b=function(c,d){return a.push(c+=" ")>cc.cacheLength&&delete b[a.shift()],b[c]=d,d}}function cZ(a){return a[cq]=!0,a}function c8(b){var a=cY.createElement("div");try{return !!b(a)}catch(c){return !1}finally{a=null}}function bZ(d,j,q,z){var k,y,A,w,D,f,b,C,x,v;if((j?j.ownerDocument||j:cu)!==cY&&cP(j),j=j||cY,q=q||[],!d||"string"!=typeof d){return q}if(1!==(w=j.nodeType)&&9!==w){return[]}if(b6&&!z){if(k=cA.exec(d)){if(A=k[1]){if(9===w){if(y=j.getElementById(A),!y||!y.parentNode){return q}if(y.id===A){return q.push(y),q}}else{if(j.ownerDocument&&(y=j.ownerDocument.getElementById(A))&&ch(j,y)&&y.id===A){return q.push(y),q}}}else{if(k[2]){return c4.apply(q,j.getElementsByTagName(d)),q}if((A=k[3])&&ca.getElementsByClassName&&j.getElementsByClassName){return c4.apply(q,j.getElementsByClassName(A)),q}}}if(ca.qsa&&!ci.test(d)){if(b=!0,C=cq,x=j,v=9===w&&d,1===w&&"object"!==j.nodeName.toLowerCase()){for(f=ck(d),(b=j.getAttribute("id"))?C=b.replace(ce,"\\$&"):j.setAttribute("id",C),C="[id='"+C+"'] ",D=f.length;D--;){f[D]=C+cI(f[D])}x=b7.test(d)&&j.parentNode||j,v=f.join(",")}if(v){try{return c4.apply(q,x.querySelectorAll(v)),q}catch(B){}finally{b||j.removeAttribute("id")}}}}return cQ(d.replace(bV,"$1"),j,q,z)}function b5(b,a){var c=a&&b,d=c&&(~a.sourceIndex||cL)-(~b.sourceIndex||cL);if(d){return d}if(c){for(;c=c.nextSibling;){if(c===a){return -1}}}return b?1:-1}function t(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function cM(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function cF(a){return cZ(function(b){return b=+b,cZ(function(e,f){for(var g,c=a([],e.length,b),d=c.length;d--;){e[g=c[d]]&&(e[g]=!(f[g]=e[g]))}})})}function ck(b,f){var h,m,g,k,j,p,d,a=co[b+" "];if(a){return f?0:a.slice(0)}for(j=b,p=[],d=cc.preFilter;j;){(!h||(m=cz.exec(j)))&&(m&&(j=j.slice(m[0].length)||j),p.push(g=[])),h=!1,(m=cK.exec(j))&&(h=m.shift(),g.push({value:h,type:m[0].replace(bV," ")}),j=j.slice(h.length));for(k in cc.filter){!(m=cU[k].exec(j))||d[k]&&!(m=d[k](m))||(h=m.shift(),g.push({value:h,type:k,matches:m}),j=j.slice(h.length))}if(!h){break}}return f?j.length:j?bZ.error(b):co(b,p).slice(0)}function cI(b){for(var a=0,c=b.length,d="";c>a;a++){d+=b[a].value}return d}function cX(c,b,d){var f=b.dir,g=d&&"parentNode"===f,a=cj++;return b.first?function(h,i,e){for(;h=h[f];){if(1===h.nodeType||g){return c(h,i,e)}}}:function(i,k,h){var e,o,m,j=cw+" "+a;if(h){for(;i=i[f];){if((1===i.nodeType||g)&&c(i,k,h)){return !0}}}else{for(;i=i[f];){if(1===i.nodeType||g){if(m=i[cq]||(i[cq]={}),(o=m[f])&&o[0]===j){if((e=o[1])===!0||e===cr){return e===!0}}else{if(o=m[f]=[j],o[1]=c(i,k,h)||cr,o[1]===!0){return !0}}}}}}}function b1(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function cH(b,f,h,m,g){for(var k,p=[],j=0,q=b.length,d=null!=f;q>j;j++){(k=b[j])&&(!h||h(k,m,g))&&(p.push(k),d&&f.push(j))}return p}function cG(f,d,g,h,b,c){return h&&!h[cq]&&(h=cG(h)),b&&!b[cq]&&(b=cG(b,c)),cZ(function(k,z,n,C){var j,e,o,m=[],B=[],w=z.length,A=k||cS(d||"*",n.nodeType?[n]:n,[]),q=!f||!k&&d?A:cH(A,m,f,n,C),x=g?b||(k?f:w||h)?[]:z:q;if(g&&g(q,x,n,C),h){for(j=cH(x,B),h(j,[],n,C),e=j.length;e--;){(o=j[e])&&(x[B[e]]=!(q[B[e]]=o))}}if(k){if(b||f){if(b){for(j=[],e=x.length;e--;){(o=x[e])&&j.push(q[e]=o)}b(null,x=[],j,C)}for(e=x.length;e--;){(o=x[e])&&(j=b?cD.call(k,o):m[e])>-1&&(k[j]=!(z[j]=o))}}}else{x=cH(x===z?x.splice(w,x.length):x),b?b(null,z,x,C):c4.apply(z,x)}})}function cv(d){for(var g,j,p,h=d.length,m=cc.relative[d[0].type],q=m||cc.relative[" "],k=m?1:0,v=cX(function(a){return a===g},q,!0),f=cX(function(a){return cD.call(g,a)>-1},q,!0),b=[function(a,c,i){return !m&&(i||c!==b0)||((g=c).nodeType?v(a,c,i):f(a,c,i))}];h>k;k++){if(j=cc.relative[d[k].type]){b=[cX(b1(b),j)]}else{if(j=cc.filter[d[k].type].apply(null,d[k].matches),j[cq]){for(p=++k;h>p&&!cc.relative[d[p].type];p++){}return cG(k>1&&b1(b),k>1&&cI(d.slice(0,k-1)).replace(bV,"$1"),j,p>k&&cv(d.slice(k,p)),h>p&&cv(d=d.slice(p)),h>p&&cI(d))}b.push(j)}}return b1(b)}function bY(d,c){var f=0,g=c.length>0,a=d.length>0,b=function(n,q,I,m,j){var z,o,H,B=[],G=0,A="0",D=n&&[],F=null!=j,e=b0,k=n||a&&cc.find.TAG("*",j&&q.parentNode||q),E=cw+=null==e?1:Math.random()||0.1;for(F&&(b0=q!==cY&&q,cr=f);null!=(z=k[A]);A++){if(a&&z){for(o=0;H=d[o++];){if(H(z,q,I)){m.push(z);break}}F&&(cw=E,cr=++f)}g&&((z=!H&&z)&&G--,n&&D.push(z))}if(G+=A,g&&A!==G){for(o=0;H=c[o++];){H(D,B,q,I)}if(n){if(G>0){for(;A--;){D[A]||B[A]||(B[A]=cl.call(m))}}B=cH(B)}c4.apply(m,B),F&&!n&&B.length>0&&G+c.length>1&&bZ.uniqueSort(m)}return F&&(cw=E,b0=e),D};return g?cZ(b):b}function cS(b,a,c){for(var d=0,f=a.length;f>d;d++){bZ(b,a[d],c)}return c}function cQ(b,f,h,m){var g,k,p,j,q,d=ck(b);if(!m&&1===d.length){if(k=d[0]=d[0].slice(0),k.length>2&&"ID"===(p=k[0]).type&&9===f.nodeType&&b6&&cc.relative[k[1].type]){if(f=(cc.find.ID(p.matches[0].replace(cs,c3),f)||[])[0],!f){return h}b=b.slice(k.shift().value.length)}for(g=cU.needsContext.test(b)?0:k.length;g--&&(p=k[g],!cc.relative[j=p.type]);){if((q=cc.find[j])&&(m=q(p.matches[0].replace(cs,c3),b7.test(k[0].type)&&f.parentNode||f))){if(k.splice(g,1),b=m.length&&cI(k),!b){return c4.apply(h,m),h}break}}}return c1(b,d)(m,f,!b6,h,b7.test(b)),h}function c7(){}var c5,cr,cc,bX,c0,c1,b0,cd,b3,cP,cY,cN,b6,ci,cC,cW,ch,cq="sizzle"+-new Date,cu=window.document,ca={},cw=0,cj=0,b9=b4(),co=b4(),cg=b4(),cx=!1,b2=function(){return 0},cT=typeof aj,cL=1<<31,cn=[],cl=cn.pop,b8=cn.push,c4=cn.push,c6=cn.slice,cD=cn.indexOf||function(b){for(var a=0,c=this.length;c>a;a++){if(this[a]===b){return a}}return -1},cp="[\\x20\\t\\r\\n\\f]",c2="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cf=c2.replace("w","w#"),cR="([*^$|!~]?=)",cb="\\["+cp+"*("+c2+")"+cp+"*(?:"+cR+cp+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cf+")|)|)"+cp+"*\\]",cO=":("+c2+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+cb.replace(3,8)+")*)|.*)\\)|)",bV=new RegExp("^"+cp+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cp+"+$","g"),cz=new RegExp("^"+cp+"*,"+cp+"*"),cK=new RegExp("^"+cp+"*([\\x20\\t\\r\\n\\f>+~])"+cp+"*"),r=new RegExp(cO),cm=new RegExp("^"+cf+"$"),cU={ID:new RegExp("^#("+c2+")"),CLASS:new RegExp("^\\.("+c2+")"),NAME:new RegExp("^\\[name=['\"]?("+c2+")['\"]?\\]"),TAG:new RegExp("^("+c2.replace("w","w*")+")"),ATTR:new RegExp("^"+cb),PSEUDO:new RegExp("^"+cO),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cp+"*(even|odd|(([+-]|)(\\d*)n|)"+cp+"*(?:([+-]|)"+cp+"*(\\d+)|))"+cp+"*\\)|)","i"),needsContext:new RegExp("^"+cp+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cp+"*((?:-\\d)?\\d*)"+cp+"*\\)|)(?=[^-]|$)","i")},b7=/[\x20\t\r\n\f]*[+~]/,cV=/^[^{]+\{\s*\[native code/,cA=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cE=/^(?:input|select|textarea|button)$/i,cy=/^h\d$/i,ce=/'|\\/g,bW=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cs=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c3=function(b,a){var c="0x"+a-65536;return c!==c?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{c4.apply(cn=c6.call(cu.childNodes),cu.childNodes),cn[cu.childNodes.length].nodeType}catch(cJ){c4={apply:cn.length?function(b,a){b8.apply(b,c6.call(a))}:function(b,a){for(var c=b.length,d=0;b[c++]=a[d++];){}b.length=c-1}}}c0=bZ.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return a?"HTML"!==a.nodeName:!1},cP=bZ.setDocument=function(a){var b=a?a.ownerDocument||a:cu;return b!==cY&&9===b.nodeType&&b.documentElement?(cY=b,cN=b.documentElement,b6=!c0(b),ca.getElementsByTagName=c8(function(c){return c.appendChild(b.createComment("")),!c.getElementsByTagName("*").length}),ca.attributes=c8(function(d){d.innerHTML="<select></select>";var c=typeof d.lastChild.getAttribute("multiple");return"boolean"!==c&&"string"!==c}),ca.getElementsByClassName=c8(function(c){return c.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",c.getElementsByClassName&&c.getElementsByClassName("e").length?(c.lastChild.className="e",2===c.getElementsByClassName("e").length):!1}),ca.getByName=c8(function(d){d.id=cq+0,d.appendChild(cY.createElement("a")).setAttribute("name",cq),d.appendChild(cY.createElement("i")).setAttribute("name",cq),cN.appendChild(d);var c=b.getElementsByName&&b.getElementsByName(cq).length===2+b.getElementsByName(cq+0).length;return cN.removeChild(d),c}),ca.sortDetached=c8(function(c){return c.compareDocumentPosition&&1&c.compareDocumentPosition(cY.createElement("div"))}),cc.attrHandle=c8(function(c){return c.innerHTML="<a href='#'></a>",c.firstChild&&typeof c.firstChild.getAttribute!==cT&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}},ca.getByName?(cc.find.ID=function(d,c){if(typeof c.getElementById!==cT&&b6){var f=c.getElementById(d);return f&&f.parentNode?[f]:[]}},cc.filter.ID=function(d){var c=d.replace(cs,c3);return function(f){return f.getAttribute("id")===c}}):(cc.find.ID=function(c,d){if(typeof d.getElementById!==cT&&b6){var f=d.getElementById(c);return f?f.id===c||typeof f.getAttributeNode!==cT&&f.getAttributeNode("id").value===c?[f]:aj:[]}},cc.filter.ID=function(d){var c=d.replace(cs,c3);return function(f){var g=typeof f.getAttributeNode!==cT&&f.getAttributeNode("id");return g&&g.value===c}}),cc.find.TAG=ca.getElementsByTagName?function(d,c){return typeof c.getElementsByTagName!==cT?c.getElementsByTagName(d):void 0}:function(f,d){var g,h=[],j=0,c=d.getElementsByTagName(f);if("*"===f){for(;g=c[j++];){1===g.nodeType&&h.push(g)}return h}return c},cc.find.NAME=ca.getByName&&function(d,c){return typeof c.getElementsByName!==cT?c.getElementsByName(name):void 0},cc.find.CLASS=ca.getElementsByClassName&&function(d,c){return typeof c.getElementsByClassName!==cT&&b6?c.getElementsByClassName(d):void 0},cC=[],ci=[":focus"],(ca.qsa=cB(b.querySelectorAll))&&(c8(function(c){c.innerHTML="<select><option selected=''></option></select>",c.querySelectorAll("[selected]").length||ci.push("\\["+cp+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),c.querySelectorAll(":checked").length||ci.push(":checked")}),c8(function(c){c.innerHTML="<input type='hidden' i=''/>",c.querySelectorAll("[i^='']").length&&ci.push("[*^$]="+cp+"*(?:\"\"|'')"),c.querySelectorAll(":enabled").length||ci.push(":enabled",":disabled"),c.querySelectorAll("*,:x"),ci.push(",.*:")})),(ca.matchesSelector=cB(cW=cN.matchesSelector||cN.mozMatchesSelector||cN.webkitMatchesSelector||cN.oMatchesSelector||cN.msMatchesSelector))&&c8(function(c){ca.disconnectedMatch=cW.call(c,"div"),cW.call(c,"[s!='']:x"),cC.push("!=",cO)}),ci=new RegExp(ci.join("|")),cC=cC.length&&new RegExp(cC.join("|")),ch=cB(cN.contains)||cN.compareDocumentPosition?function(d,c){var f=9===d.nodeType?d.documentElement:d,g=c&&c.parentNode;return d===g||!(!g||1!==g.nodeType||!(f.contains?f.contains(g):d.compareDocumentPosition&&16&d.compareDocumentPosition(g)))}:function(d,c){if(c){for(;c=c.parentNode;){if(c===d){return !0}}}return !1},b2=cN.compareDocumentPosition?function(d,c){if(d===c){return cx=!0,0}var f=c.compareDocumentPosition&&d.compareDocumentPosition&&d.compareDocumentPosition(c);return f?1&f||cd&&c.compareDocumentPosition(d)===f?d===b||ch(cu,d)?-1:c===b||ch(cu,c)?1:b3?cD.call(b3,d)-cD.call(b3,c):0:4&f?-1:1:d.compareDocumentPosition?-1:1}:function(h,g){var j,p=0,d=h.parentNode,f=g.parentNode,m=[h],k=[g];if(h===g){return cx=!0,0}if(!d||!f){return h===b?-1:g===b?1:d?-1:f?1:0}if(d===f){return b5(h,g)}for(j=h;j=j.parentNode;){m.unshift(j)}for(j=g;j=j.parentNode;){k.unshift(j)}for(;m[p]===k[p];){p++}return p?b5(m[p],k[p]):m[p]===cu?-1:k[p]===cu?1:0},cY):cY},bZ.matches=function(b,a){return bZ(b,null,null,a)},bZ.matchesSelector=function(b,a){if((b.ownerDocument||b)!==cY&&cP(b),a=a.replace(bW,"='$1']"),ca.matchesSelector&&b6&&(!cC||!cC.test(a))&&!ci.test(a)){try{var c=cW.call(b,a);if(c||ca.disconnectedMatch||b.document&&11!==b.document.nodeType){return c}}catch(d){}}return bZ(a,cY,null,[b]).length>0},bZ.contains=function(b,a){return(b.ownerDocument||b)!==cY&&cP(b),ch(b,a)},bZ.attr=function(b,a){var c;return(b.ownerDocument||b)!==cY&&cP(b),b6&&(a=a.toLowerCase()),(c=cc.attrHandle[a])?c(b):!b6||ca.attributes?b.getAttribute(a):((c=b.getAttributeNode(a))||b.getAttribute(a))&&b[a]===!0?a:c&&c.specified?c.value:null},bZ.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},bZ.uniqueSort=function(b){var a,c=[],d=0,f=0;if(cx=!ca.detectDuplicates,cd=!ca.sortDetached,b3=!ca.sortStable&&b.slice(0),b.sort(b2),cx){for(;a=b[f++];){a===b[f]&&(d=c.push(f))}for(;d--;){b.splice(c[d],1)}}return b},bX=bZ.getText=function(b){var a,c="",d=0,f=b.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof b.textContent){return b.textContent}for(b=b.firstChild;b;b=b.nextSibling){c+=bX(b)}}else{if(3===f||4===f){return b.nodeValue}}}else{for(;a=b[d];d++){c+=bX(a)}}return c},cc=bZ.selectors={cacheLength:50,createPseudo:cZ,match:cU,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cs,c3),a[3]=(a[4]||a[5]||"").replace(cs,c3),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||bZ.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&bZ.error(a[0]),a},PSEUDO:function(b){var a,c=!b[5]&&b[2];return cU.CHILD.test(b[0])?null:(b[4]?b[2]=b[4]:c&&r.test(c)&&(a=ck(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return !0}:(a=a.replace(cs,c3).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(b){var a=b9[b+" "];return a||(a=new RegExp("(^|"+cp+")"+b+"("+cp+"|$)"))&&b9(b,function(c){return a.test(c.className||typeof c.getAttribute!==cT&&c.getAttribute("class")||"")})},ATTR:function(b,a,c){return function(d){var e=bZ.attr(d,b);return null==e?"!="===a:a?(e+="","="===a?e===c:"!="===a?e!==c:"^="===a?c&&0===e.indexOf(c):"*="===a?c&&e.indexOf(c)>-1:"$="===a?c&&e.slice(-c.length)===c:"~="===a?(" "+e+" ").indexOf(c)>-1:"|="===a?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(g,f,h,j,k){var b="nth"!==g.slice(0,3),d="last"!==g.slice(-4),c="of-type"===f;return 1===j&&0===k?function(a){return !!a.parentNode}:function(i,o,D){var e,a,w,s,C,z,q=b!==d?"nextSibling":"previousSibling",B=i.parentNode,x=c&&i.nodeName.toLowerCase(),A=!D&&!c;if(B){if(b){for(;q;){for(w=i;w=w[q];){if(c?w.nodeName.toLowerCase()===x:1===w.nodeType){return !1}}z=q="only"===g&&!z&&"nextSibling"}return !0}if(z=[d?B.firstChild:B.lastChild],d&&A){for(a=B[cq]||(B[cq]={}),e=a[g]||[],C=e[0]===cw&&e[1],s=e[0]===cw&&e[2],w=C&&B.childNodes[C];w=++C&&w&&w[q]||(s=C=0)||z.pop();){if(1===w.nodeType&&++s&&w===i){a[g]=[cw,C,s];break}}}else{if(A&&(e=(i[cq]||(i[cq]={}))[g])&&e[0]===cw){s=e[1]}else{for(;(w=++C&&w&&w[q]||(s=C=0)||z.pop())&&((c?w.nodeName.toLowerCase()!==x:1!==w.nodeType)||!++s||(A&&((w[cq]||(w[cq]={}))[g]=[cw,s]),w!==i));){}}}return s-=k,s===j||0===s%j&&s/j>=0}}},PSEUDO:function(b,a){var c,d=cc.pseudos[b]||cc.setFilters[b.toLowerCase()]||bZ.error("unsupported pseudo: "+b);return d[cq]?d(a):d.length>1?(c=[b,b,"",a],cc.setFilters.hasOwnProperty(b.toLowerCase())?cZ(function(h,j){for(var k,f=d(h,a),g=f.length;g--;){k=cD.call(h,f[g]),h[k]=!(j[k]=f[g])}}):function(f){return d(f,0,c)}):d}},pseudos:{not:cZ(function(b){var a=[],c=[],d=c1(b.replace(bV,"$1"));return d[cq]?cZ(function(k,j,l,m){for(var f,h=d(k,null,m,[]),g=k.length;g--;){(f=h[g])&&(k[g]=!(j[g]=f))}}):function(g,h,f){return a[0]=g,d(a,null,f,c),!c.pop()}}),has:cZ(function(a){return function(b){return bZ(a,b).length>0}}),contains:cZ(function(a){return function(b){return(b.textContent||b.innerText||bX(b)).indexOf(a)>-1}}),lang:cZ(function(a){return cm.test(a||"")||bZ.error("unsupported lang: "+a),a=a.replace(cs,c3).toLowerCase(),function(b){var c;do{if(c=b6?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===cN},focus:function(a){return a===cY.activeElement&&(!cY.hasFocus||cY.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType){return !1}}return !0},parent:function(a){return !cc.pseudos.empty(a)},header:function(a){return cy.test(a.nodeName)},input:function(a){return cE.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:cF(function(){return[0]}),last:cF(function(b,a){return[a-1]}),eq:cF(function(b,a,c){return[0>c?c+a:c]}),even:cF(function(b,a){for(var c=0;a>c;c+=2){b.push(c)}return b}),odd:cF(function(b,a){for(var c=1;a>c;c+=2){b.push(c)}return b}),lt:cF(function(b,a,c){for(var d=0>c?c+a:c;--d>=0;){b.push(d)}return b}),gt:cF(function(b,a,c){for(var d=0>c?c+a:c;++d<a;){b.push(d)}return b})}};for(c5 in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){cc.pseudos[c5]=t(c5)}for(c5 in {submit:!0,reset:!0}){cc.pseudos[c5]=cM(c5)}return c1=bZ.compile=function(c,b){var d,f=[],g=[],a=cg[c+" "];if(!a){for(b||(b=ck(c)),d=b.length;d--;){a=cv(b[d]),a[cq]?f.push(a):g.push(a)}a=cg(c,bY(g,f))}return a},cc.pseudos.nth=cc.pseudos.eq,c7.prototype=cc.filters=cc.pseudos,cc.setFilters=new c7,ca.sortStable=cq.split("").sort(b2).join("")===cq,cP(),[0,0].sort(b2),ca.detectDuplicates=cx,"function"==typeof aG&&aG.amd?aG(function(){return bZ}):window.Sizzle=bZ,bZ}),aG(bk,[af,br],function(M,Q){function H(a){return"undefined"!=typeof a}function E(a){return"string"==typeof a}function T(b){var a,c,d;for(d=J.createElement("div"),a=J.createDocumentFragment(),d.innerHTML=b;c=d.firstChild;){a.appendChild(c)}return a}function G(b,a,c){var d;if("string"==typeof a){a=T(a)}else{if(a.length){for(d=0;d<a.length;d++){G(b,a[d],c)}return b}}for(d=b.length;d--;){c.call(b[d],a.parentNode?a:a)}return b}function k(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")}function P(b,a){var c;for(b=b||[],"string"==typeof b&&(b=b.split(" ")),a=a||{},c=b.length;c--;){a[b[c]]={}}return a}function A(b,a){return new A.fn.init(b,a)}function U(b){var a=arguments,c,d,f;for(d=1;d<a.length;d++){c=a[d];for(f in c){b[f]=c[f]}}return b}function j(b){var a=[],c,d;for(c=0,d=b.length;d>c;c++){a[c]=b[c]}return a}function K(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function F(f,d){var g,h,l,b,c;if(f){if(g=f.length,g===b){for(h in f){if(f.hasOwnProperty(h)&&(c=f[h],d.call(c,c,h)===!1)){break}}}else{for(l=0;g>l&&(c=f[l],d.call(c,c,h)!==!1);l++){}}}return f}function I(b,c,d){for(var f=[],a=b[c];a&&9!==a.nodeType&&(d===aj||1!==a.nodeType||!A(a).is(d));){1===a.nodeType&&f.push(a),a=a[c]}return f}function D(b,a,c,d){for(var f=[];b;b=b[c]){d&&b.nodeType!==d||b===a||f.push(b)}return f}var J=document,L=Array.prototype.push,t=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,z=M.Event,q=P("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),R=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},B=/^\s*|\s*$/g,O=function(a){return null===a||a===aj?"":(""+a).replace(B,"")};return A.fn=A.prototype={constructor:A,selector:"",length:0,init:function(d,c){var f=this,g,b;if(!d){return f}if(d.nodeType){return f.context=f[0]=d,f.length=1,f}if(E(d)){if(g="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&d.length>=3?[null,d,null]:S.exec(d),!g){return A(c||document).find(d)}if(g[1]){for(b=T(d).firstChild;b;){this.add(b),b=b.nextSibling}}else{if(b=J.getElementById(g[2]),b.id!==g[2]){return f.find(d)}f.length=1,f[0]=b}}else{this.add(d)}return f},toArray:function(){return j(this)},add:function(b){var a=this;return R(b)?L.apply(a,b):b instanceof A?a.add(b.toArray()):L.call(a,b),a},attr:function(a,b){var c=this;if("object"==typeof a){F(a,function(f,d){c.attr(d,f)})}else{if(!H(b)){return c[0]&&1===c[0].nodeType?c[0].getAttribute(a):aj}this.each(function(){1===this.nodeType&&this.setAttribute(a,b)})}return c},css:function(a,b){var c=this;if("object"==typeof a){F(a,function(f,d){c.css(d,f)})}else{if(a=a.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),!H(b)){return c[0]?c[0].style[a]:aj}"number"!=typeof b||q[a]||(b+="px"),c.each(function(){var d=this.style;"opacity"===a&&this.runtimeStyle&&"undefined"==typeof this.runtimeStyle.opacity&&(d.filter=""===b?"":"alpha(opacity="+100*b+")");try{d[a]=b}catch(e){}})}return c},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],z.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(b){var a=this,c;if(H(b)){for(c=a.length;c--;){a[c].innerHTML=b}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(H(b)){for(c=a.length;c--;){a[c].innerText=a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return G(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return G(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){var a=this;return a[0]&&a[0].parentNode?G(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?G(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},appendTo:function(a){return A(a).append(this),this},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return -1!==b.indexOf(" ")?F(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(){var d=this,e;k(d,b)!==a&&(e=d.className,a?d.className+=e?" "+b:b:d.className=O((" "+e+" ").replace(" "+b+" "," ")))}),c},hasClass:function(a){return k(this[0],a)},each:function(a){return F(this,a)},on:function(b,a){return this.each(function(){z.bind(this,b,a)})},off:function(b,a){return this.each(function(){z.unbind(this,b,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new A(t.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(b){var a=this;return a[0]&&a[0].parentNode.replaceChild(A(b)[0],a[0]),a},wrap:function(a){return a=A(a)[0],this.each(function(){var b=this,c=a.cloneNode(!1);b.parentNode.insertBefore(c,b),c.appendChild(b)})},unwrap:function(){return this.each(function(){for(var b=this,a=b.firstChild,c;a;){c=a,a=a.nextSibling,b.parentNode.insertBefore(c,b)}})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),A(a)},find:function(b){var a,c,d=[];for(a=0,c=this.length;c>a;a++){A.find(b,this[a],d)}return A(d)},push:L,sort:[].sort,splice:[].splice},U(A,{extend:U,toArray:j,inArray:K,isArray:R,each:F,trim:O,makeMap:P,find:Q,expr:Q.selectors,unique:Q.uniqueSort,text:Q.getText,isXMLDoc:Q.isXML,contains:Q.contains,filter:function(b,a,c){return c&&(b=":not("+b+")"),1===a.length?A.find.matchesSelector(a[0],b)?[a[0]]:[]:A.find.matches(b,a)}}),F({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return I(a,"parentNode")},parentsUntil:function(b,a){return I(b,"parentNode",a)},next:function(a){return D(a,"nextSibling",1)},prev:function(a){return D(a,"previousSibling",1)},nextNodes:function(a){return D(a,"nextSibling")},prevNodes:function(a){return D(a,"previousSibling")},children:function(a){return D(a.firstChild,"nextSibling",1)},contents:function(a){return j(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){A.fn[b]=function(c){var d=this,e;if(d.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}return d[0]&&(e=a(d[0],c)),e=A(e),c&&"parentsUntil"!==b?e.filter(c):e}}),A.fn.filter=function(a){return A.filter(a)},A.fn.is=function(a){return !!a&&this.filter(a).length>0},A.fn.init.prototype=A.fn,A}),aG(aV,[],function(){return function(f,h){function k(c,a,d,l){function o(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+o(a)+o(d)+o(l)}var v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,q=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,m,x,g={},b,p="\ufeff";for(f=f||{},b=("\\\" \\' \\; \\: ; : "+p).split(" "),x=0;x<b.length;x++){g[b[x]]=p+x,g[p+x]=b[x]}return{toHex:function(a){return a.replace(v,k)},parse:function(e){function o(s,l){var u,y,C,d;u=A[s+"-top"+l],u&&(y=A[s+"-right"+l],u==y&&(C=A[s+"-bottom"+l],y==C&&(d=A[s+"-left"+l],C==d&&(A[s+l]=d,delete A[s+"-top"+l],delete A[s+"-right"+l],delete A[s+"-bottom"+l],delete A[s+"-left"+l]))))}function G(l){var d=A[l],s;if(d&&!(d.indexOf(" ")<0)){for(d=d.split(" "),s=d.length;s--;){if(d[s]!==d[0]){return !1}}return A[l]=d[0],!0}}function c(l,d,s,u){G(d)&&G(s)&&G(u)&&(A[l]=A[d]+" "+A[s]+" "+A[u],delete A[d],delete A[s],delete A[u])}function r(d){return B=!0,g[d]}function n(l,d){return B&&(l=l.replace(/\uFEFF[0-9]/g,function(s){return g[s]})),d||(l=l.replace(/\\([\'\";:])/g,"$1")),l}function F(s,l,u,y,C,d){return(C=C||d)?(C=n(C),"'"+C.replace(/\'/g,"\\'")+"'"):(l=n(l||u||y),D&&(l=D.call(a,l,"style")),"url('"+l.replace(/\'/g,"\\'")+"')")}var A={},i,E,z,B,D=f.url_converter,a=f.url_converter_scope||this;if(e){for(e=e.replace(/\\[\"\';:\uFEFF]/g,r).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,r)});i=q.exec(e);){E=i[1].replace(w,"").toLowerCase(),z=i[2].replace(w,""),E&&z.length>0&&("font-weight"===E&&"700"===z?z="bold":("color"===E||"background-color"===E)&&(z=z.toLowerCase()),z=z.replace(v,k),z=z.replace(j,F),A[E]=B?n(z,!0):z),q.lastIndex=i.index+i[0].length}o("border",""),o("border","-width"),o("border","-color"),o("border","-style"),o("padding",""),o("margin",""),c("border","border-width","border-style","border-color"),"medium none"===A.border&&delete A.border}return A},serialize:function(l,s){function t(y){var A,e,i,z;if(A=h.styles[y]){for(e=0,i=A.length;i>e;e++){y=A[e],z=l[y],z!==m&&z.length>0&&(u+=(u.length>0?" ":"")+y+": "+z+";")}}}var u="",c,d;if(s&&h&&h.styles){t("*"),t(s)}else{for(c in l){d=l[c],d!==m&&d.length>0&&(u+=(u.length>0?" ":"")+c+": "+d+";")}}return u}}}}),aG(bn,[],function(){return function(b,a){function c(h,j,k,l){var f,g;if(h){if(!l&&h[j]){return h[j]}if(h!=a){if(f=h[k]){return f}for(g=h.parentNode;g&&g!=a;g=g.parentNode){if(f=g[k]){return f}}}}}var d=b;this.current=function(){return d},this.next=function(f){return d=c(d,"firstChild","nextSibling",f)},this.prev=function(f){return d=c(d,"lastChild","previousSibling",f)}}}),aG(bG,[],function(){function j(a,c){return c?"array"==c&&D(a)?!0:typeof a==c:a!==aj}function t(c){var a=[],d,f;for(d=0,f=c.length;f>d;d++){a[d]=c[d]}return a}function B(c,a,d){var f;for(c=c||[],a=a||",","string"==typeof c&&(c=c.split(a)),d=d||{},f=c.length;f--;){d[c[f]]={}}return d}function q(c,d,f){var g,a;if(!c){return 0}if(f=f||c,c.length!==aj){for(g=0,a=c.length;a>g;g++){if(d.call(f,c[g],g,c)===!1){return 0}}}else{for(g in c){if(c.hasOwnProperty(g)&&d.call(f,c[g],g,c)===!1){return 0}}}return 1}function A(c,a){var d=[];return q(c,function(f){d.push(a(f))}),d}function C(c,a){var d=[];return q(c,function(f){(!a||a(f))&&d.push(f)}),d}function x(d,g,m){var G=this,h,u,H,p,I,f=0;if(d=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(d),H=d[3].match(/(^|\.)(\w+)$/i)[2],u=G.createNS(d[3].replace(/\.\w+$/,""),m),!u[H]){if("static"==d[2]){return u[H]=g,this.onCreate&&this.onCreate(d[2],d[3],u[H]),void 0}g[H]||(g[H]=function(){},f=1),u[H]=g[H],G.extend(u[H].prototype,g),d[5]&&(h=G.resolve(d[5]).prototype,p=d[5].match(/\.(\w+)$/i)[1],I=u[H],u[H]=f?function(){return h[p].apply(this,arguments)}:function(){return this.parent=h[p],I.apply(this,arguments)},u[H].prototype[H]=u[H],G.each(h,function(c,a){u[H].prototype[a]=h[a]}),G.each(g,function(c,a){h[a]?u[H].prototype[a]=function(){return this.parent=h[a],c.apply(this,arguments)}:a!=H&&(u[H].prototype[a]=c)})),G.each(g["static"],function(c,a){u[H][a]=c})}}function F(c,a){var d,f;if(c){for(d=0,f=c.length;f>d;d++){if(c[d]===a){return d}}}return -1}function k(g,h){var l,m,c,f=arguments,d;for(l=1,m=f.length;m>l;l++){h=f[l];for(c in h){h.hasOwnProperty(c)&&(d=h[c],d!==aj&&(g[c]=d))}}return g}function b(c,a,d,f){f=f||this,c&&(d&&(c=c[d]),q(c,function(g,h){return a.call(f,g,h,d)===!1?!1:(b(g,a,d,f),void 0)}))}function y(c,a){var d,f;for(a=a||window,c=c.split("."),d=0;d<c.length;d++){f=c[d],a[f]||(a[f]={}),a=a[f]}return a}function w(c,a){var d,f;for(a=a||window,c=c.split("."),d=0,f=c.length;f>d&&(a=a[c[d]],a);d++){}return a}function E(a,c){return !a||j(a,"array")?a:A(a.split(c||","),v)}var z=/^\s*|\s*$/g,v=function(a){return null===a||a===aj?"":(""+a).replace(z,"")},D=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:v,isArray:D,is:j,toArray:t,makeMap:B,each:q,map:A,grep:C,inArray:F,extend:k,create:x,walk:b,createNS:y,resolve:w,explode:E}}),aG(aw,[bG],function(b){function a(cf){function cg(){return G.createDocumentFragment()}function bV(d,c){K(bt,d,c)}function bY(d,c){K(e,d,c)}function t(c){bV(c.parentNode,cb(c))}function ca(c){bV(c.parentNode,cb(c)+1)}function ck(c){bY(c.parentNode,cb(c))}function Q(c){bY(c.parentNode,cb(c)+1)}function co(c){c?(cs[bX]=cs[Z],cs[ci]=cs[at]):(cs[Z]=cs[bX],cs[at]=cs[ci]),cs.collapsed=bt}function cq(c){t(c),Q(c)}function cj(c){bV(c,0),bY(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cm(d,g){var j=cs[Z],p=cs[at],h=cs[bX],m=cs[ci],q=g.startContainer,k=g.startOffset,u=g.endContainer,f=g.endOffset;return 0===d?bZ(j,p,q,k):1===d?bZ(h,m,q,k):2===d?bZ(h,m,u,f):3===d?bZ(j,p,u,f):void 0}function b8(){cr(b1)}function b7(){return cr(cn)}function b5(){return cr(cl)}function cp(f){var d=this[Z],g=this[at],h,c;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(c=d.childNodes[g]),c?d.insertBefore(f,c):d.appendChild(f)):g?g>=d.nodeValue.length?cf.insertAfter(f,d):(h=d.splitText(g),d.parentNode.insertBefore(f,h)):d.parentNode.insertBefore(f,d)}function b4(d){var c=cs.extractContents();cs.insertNode(d),d.appendChild(c),cs.selectNode(d)}function b0(){return bW(new a(cf),{startContainer:cs[Z],startOffset:cs[at],endContainer:cs[bX],endOffset:cs[ci],collapsed:cs.collapsed,commonAncestorContainer:cs.commonAncestorContainer})}function Y(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function X(){return cs[Z]==cs[bX]&&cs[at]==cs[ci]}function bZ(f,h,n,j){var m,p,k,q,g,d;if(f==n){return h==j?0:j>h?-1:1}for(m=n;m&&m.parentNode!=f;){m=m.parentNode}if(m){for(p=0,k=f.firstChild;k!=m&&h>p;){p++,k=k.nextSibling}return p>=h?-1:1}for(m=f;m&&m.parentNode!=n;){m=m.parentNode}if(m){for(p=0,k=n.firstChild;k!=m&&j>p;){p++,k=k.nextSibling}return j>p?-1:1}for(q=cf.findCommonAncestor(f,n),g=f;g&&g.parentNode!=q;){g=g.parentNode}for(g||(g=q),d=n;d&&d.parentNode!=q;){d=d.parentNode}if(d||(d=q),g==d){return 0}for(k=q.firstChild;k;){if(k==g){return -1}if(k==d){return 1}k=k.nextSibling}}function K(f,d,g){var h,c;for(f?(cs[Z]=d,cs[at]=g):(cs[bX]=d,cs[ci]=g),h=cs[bX];h.parentNode;){h=h.parentNode}for(c=cs[Z];c.parentNode;){c=c.parentNode}c==h?bZ(cs[Z],cs[at],cs[bX],cs[ci])>0&&cs.collapse(f):cs.collapse(f),cs.collapsed=X(),cs.commonAncestorContainer=cf.findCommonAncestor(cs[Z],cs[bX])}function cr(d){var g,j=0,p=0,h,m,q,k,u,f;if(cs[Z]==cs[bX]){return b2(d)}for(g=cs[bX],h=g.parentNode;h;g=h,h=h.parentNode){if(h==cs[Z]){return cd(g,d)}++j}for(g=cs[Z],h=g.parentNode;h;g=h,h=h.parentNode){if(h==cs[bX]){return b6(g,d)}++p}for(m=p-j,q=cs[Z];m>0;){q=q.parentNode,m--}for(k=cs[bX];0>m;){k=k.parentNode,m++}for(u=q.parentNode,f=k.parentNode;u!=f;u=u.parentNode,f=f.parentNode){q=u,k=f}return cc(q,k,d)}function b2(f){var h,k,j,p,q,m,r,g,d;if(f!=b1&&(h=cg()),cs[at]==cs[ci]){return h}if(3==cs[Z].nodeType){if(k=cs[Z].nodeValue,j=k.substring(cs[at],cs[ci]),f!=cl&&(p=cs[Z],g=cs[at],d=cs[ci]-cs[at],0===g&&d>=p.nodeValue.length-1?p.parentNode.removeChild(p):p.deleteData(g,d),cs.collapse(bt)),f==b1){return}return j.length>0&&h.appendChild(G.createTextNode(j)),h}for(p=Y(cs[Z],cs[at]),q=cs[ci]-cs[at];p&&q>0;){m=p.nextSibling,r=b3(p,f),h&&h.appendChild(r),--q,p=m}return f!=cl&&cs.collapse(bt),h}function cd(h,g){var j,m,c,f,d,k;if(g!=b1&&(j=cg()),m=ch(h,g),j&&j.appendChild(m),c=cb(h),f=c-cs[at],0>=f){return g!=cl&&(cs.setEndBefore(h),cs.collapse(e)),j}for(m=h.previousSibling;f>0;){d=m.previousSibling,k=b3(m,g),j&&j.insertBefore(k,j.firstChild),--f,m=d}return g!=cl&&(cs.setEndBefore(h),cs.collapse(e)),j}function b6(h,g){var j,m,c,f,d,k;for(g!=b1&&(j=cg()),c=ce(h,g),j&&j.appendChild(c),m=cb(h),++m,f=cs[ci]-m,c=h.nextSibling;c&&f>0;){d=c.nextSibling,k=b3(c,g),j&&j.appendChild(k),--f,c=d}return g!=cl&&(cs.setStartAfter(h),cs.collapse(bt)),j}function cc(g,j,m){var k,r,v,p,w,h,f,q;for(m!=b1&&(r=cg()),k=ce(g,m),r&&r.appendChild(k),v=g.parentNode,p=cb(g),w=cb(j),++p,h=w-p,f=g.nextSibling;h>0;){q=f.nextSibling,k=b3(f,m),r&&r.appendChild(k),f=q,--h}return k=ch(j,m),r&&r.appendChild(k),m!=cl&&(cs.setStartAfter(g),cs.collapse(bt)),r}function ch(c,d){var g=Y(cs[bX],cs[ci]-1),k,f,j,m,h,p=g!=cs[bX];if(g==c){return J(g,p,e,d)}for(k=g.parentNode,f=J(k,e,e,d);k;){for(;g;){j=g.previousSibling,m=J(g,p,e,d),d!=b1&&f.insertBefore(m,f.firstChild),p=bt,g=j}if(k==c){return f}g=k.previousSibling,k=k.parentNode,h=J(k,e,e,d),d!=b1&&h.appendChild(f),f=h}}function ce(c,d){var g=Y(cs[Z],cs[at]),k=g!=cs[Z],f,j,m,h,p;if(g==c){return J(g,k,bt,d)}for(f=g.parentNode,j=J(f,e,bt,d);f;){for(;g;){m=g.nextSibling,h=J(g,k,bt,d),d!=b1&&j.appendChild(h),k=bt,g=m}if(f==c){return j}g=f.nextSibling,f=f.parentNode,p=J(f,e,bt,d),d!=b1&&p.appendChild(j),j=p}}function J(d,g,m,h){var k,n,j,p,f;if(g){return b3(d,h)}if(3==d.nodeType){if(k=d.nodeValue,m?(p=cs[at],n=k.substring(p),j=k.substring(0,p)):(p=cs[ci],n=k.substring(0,p),j=k.substring(p)),h!=cl&&(d.nodeValue=j),h==b1){return}return f=cf.clone(d,e),f.nodeValue=n,f}if(h!=b1){return cf.clone(d,e)}}function b3(d,c){return c!=b1?c==cl?cf.clone(d,bt):d:(d.parentNode.removeChild(d),void 0)}function b9(){return cf.create("body",null,b5()).outerText}var cs=this,G=cf.doc,cn=0,cl=1,b1=2,bt=!0,e=!1,at="startOffset",Z="startContainer",bX="endContainer",ci="endOffset",bW=b.extend,cb=cf.nodeIndex;return bW(cs,{startContainer:G,startOffset:0,endContainer:G,endOffset:0,collapsed:bt,commonAncestorContainer:G,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:bV,setEnd:bY,setStartBefore:t,setStartAfter:ca,setEndBefore:ck,setEndAfter:Q,collapse:co,selectNode:cq,selectNodeContents:cj,compareBoundaryPoints:cm,deleteContents:b8,extractContents:b7,cloneContents:b5,insertNode:cp,surroundContents:b4,cloneRange:b0,toStringIE:b9}),cs}return a.prototype.toString=function(){return this.toStringIE()},a}),aG(bm,[bG],function(g){function j(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function m(f,d){var l,o,s,c={};if(f){for(f=f.split(","),d=d||10,l=0;l<f.length;l+=2){o=String.fromCharCode(parseInt(f[l],d)),w[o]||(s="&"+f[l+1]+";",c[o]=s,c[s]=o)}return c}}var x=g.makeMap,k,w,y,q=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/[<>&\"\']/g,b=/&(#x|#)?([\w]+);/g,v={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};w={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},y={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=m("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var p={encodeRaw:function(c,a){return c.replace(a?q:z,function(d){return w[d]||d})},encodeAllRaw:function(a){return(""+a).replace(h,function(c){return w[c]||c})},encodeNumeric:function(c,a){return c.replace(a?q:z,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":w[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?q:z,function(f){return w[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?q:z,function(n){return w[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return p.encodeNamed(a,c,f)}return f=m(f)||k,i=x(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:p.encodeNamed:i.numeric?p.encodeNumeric:p.encodeRaw},decode:function(a){return a.replace(b,function(c,d,f){return d?(f=parseInt(f,2===d.length?16:10),f>65535?(f-=65536,String.fromCharCode(55296+(f>>10),56320+(1023&f))):v[f]||String.fromCharCode(f)):y[c]||k[c]||j(c)})}};return p}),aG(bl,[],function(){var b=navigator,c=b.userAgent,f,j,d,h,k,g;f=window.opera&&window.opera.buildNumber,j=/WebKit/.test(c),d=!j&&!f&&/MSIE/gi.test(c)&&/Explorer/gi.test(b.appName),d=d&&/MSIE (\w+)\./.exec(c)[1],h=!j&&/Gecko/.test(c),k=-1!=c.indexOf("Mac"),g=/(iPad|iPhone)/.test(c);var m=!g||c.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:f,webkit:j,ie:d,gecko:h,mac:k,iOS:g,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=d,range:window.getSelection&&"Range" in window,documentMode:d?document.documentMode||7:10}}),aG(a9,[br,aV,af,bn,aw,bm,bl,bG],function(G,I,B,x,K,A,k,H){function t(c,b){var d=this,a;d.doc=c,d.win=window,d.files={},d.counter=0,d.stdMode=!D||c.documentMode>=8,d.boxModel=!D||"CSS1Compat"==c.compatMode||d.stdMode,d.hasOuterHTML="outerHTML" in c.createElement("a"),d.settings=b=C({keep_values:!1,hex_colors:1},b),d.schema=b.schema,d.styles=new I({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),d.fixDoc(c),d.events=b.ownEvents?new B(b.proxy):B.Event,a=b.schema?b.schema.getBlockElements():{},d.isBlock=function(g){if(!g){return !1}var f=g.nodeType;return f?!(1!==f||!a[g.nodeName]):!!a[g]}}var L=H.each,j=H.is,E=H.grep,z=H.trim,C=H.extend,w=k.webkit,D=k.ie,F=/^([a-z0-9],?)+$/i,q=/^[ \t\r\n]*$/,J=H.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return t.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(b){var a=this.settings,c;if(D&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(b,a){var c=this,d,f;return !D||1!==b.nodeType||a?b.cloneNode(a):(f=c.doc,a?d.firstChild:(d=f.createElement(b.nodeName),L(c.getAttribs(b),function(e){c.setAttrib(d,e.nodeName,c.getAttrib(b,e.nodeName))}),d))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(b){var a=this,c,d;return b=a.get(b),c=a.getPos(b),d=a.getSize(b),{x:c.x,y:c.y,w:d.w,h:d.h}},getSize:function(b){var a=this,c,d;return b=a.get(b),c=a.getStyle(b,"width"),d=a.getStyle(b,"height"),-1===c.indexOf("px")&&(c=0),-1===d.indexOf("px")&&(d=0),{w:parseInt(c,10)||b.offsetWidth||b.clientWidth,h:parseInt(d,10)||b.offsetHeight||b.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(f,g,h,l){var b=this,d,c=[];for(f=b.get(f),l=l===aj,h=h||("BODY"!=b.getRoot().nodeName?b.getRoot().parentNode:null),j(g,"string")&&(d=g,g="*"===g?function(a){return 1==a.nodeType}:function(a){return b.is(a,d)});f&&f!=h&&f.nodeType&&9!==f.nodeType;){if(!g||g(f)){if(!l){return f}c.push(f)}f=f.parentNode}return l?c:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,b){var c=this;return G(a,c.get(b)||c.get(c.settings.root_element)||c.doc,[])},is:function(a,b){var c;if(a.length===aj){if("*"===b){return 1==a.nodeType}if(F.test(b)){for(b=b.toLowerCase().split(/,/),a=a.nodeName.toLowerCase(),c=b.length-1;c>=0;c--){if(b[c]==a){return !0}}return !1}}return a.nodeType&&1!=a.nodeType?!1:G.matches(b,a.nodeType?[a]:a).length>0},add:function(c,b,d,f,g){var a=this;return this.run(c,function(i){var h;return h=j(b,"string")?a.doc.createElement(b):b,a.setAttribs(h,d),f&&(f.nodeType?h.appendChild(f):a.setHTML(h,f)),g?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(b,a,c){var d="",f;d+="<"+b;for(f in a){a.hasOwnProperty(f)&&null!==a[f]&&(d+=" "+f+'="'+this.encode(a[f])+'"')}return"undefined"!=typeof c?d+">"+c+"</"+b+">":d+" />"},createFragment:function(b){var a,c,d=this.doc,f;for(f=d.createElement("div"),a=d.createDocumentFragment(),b&&(f.innerHTML=b);c=f.firstChild;){a.appendChild(c)}return a},remove:function(b,a){return this.run(b,function(c){var d,f=c.parentNode;if(!f){return null}if(a){for(;d=c.firstChild;){!D||3!==d.nodeType||d.nodeValue?f.insertBefore(d,c):c.removeChild(d)}}return f.removeChild(c)})},setStyle:function(b,a,c){return this.run(b,function(g){var h=this,l,d;if(a){if("string"==typeof a){l=g.style,a=a.replace(/-(\D)/g,function(m,i){return i.toUpperCase()}),"number"!=typeof c||J[a]||(c+="px"),"opacity"===a&&g.runtimeStyle&&"undefined"==typeof g.runtimeStyle.opacity&&(l.filter=""===c?"":"alpha(opacity="+100*c+")"),"float"==a&&(a="cssFloat" in g.style?"cssFloat":"styleFloat");try{l[a]=c}catch(f){}h.settings.update_styles&&g.removeAttribute("data-mce-style")}else{for(d in a){h.setStyle(g,d,a[d])}}}})},getStyle:function(a,b,c){if(a=this.get(a)){if(this.doc.defaultView&&c){b=b.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(d){return null}}return b=b.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}),"float"==b&&(b=D?"styleFloat":"cssFloat"),b.currentStyle&&c?a.currentStyle[b]:a.style?a.style[b]:aj}},setStyles:function(b,a){this.setStyle(b,a)},css:function(b,a,c){this.setStyle(b,a,c)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(b,a,c){var d=this;if(b&&a){return this.run(b,function(g){var h=d.settings,f=g.getAttribute(a);if(null!==c){switch(a){case"style":if(!j(c,"string")){return L(c,function(e,i){d.setStyle(g,i,e)}),void 0}h.keep_values&&(c?g.setAttribute("data-mce-style",c,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=c;break;case"class":g.className=c||"";break;case"src":case"href":h.keep_values&&(h.url_converter&&(c=h.url_converter.call(h.url_converter_scope||d,c,a,g)),d.setAttrib(g,"data-mce-"+a,c,2));break;case"shape":g.setAttribute("data-mce-style",c)}}j(c)&&null!==c&&0!==c.length?g.setAttribute(a,""+c,2):g.removeAttribute(a,2),f!=c&&h.onSetAttrib&&h.onSetAttrib({attrElm:g,attrName:a,attrValue:c})})}},setAttribs:function(b,a){var c=this;return this.run(b,function(d){L(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(c,b,d){var f,g=this,a;if(c=g.get(c),!c||1!==c.nodeType){return d===a?!1:d}if(j(d)||(d=""),/^(src|href|style|coords|shape)$/.test(b)&&(f=c.getAttribute("data-mce-"+b))){return f}if(D&&g.props[b]&&(f=c[g.props[b]],f=f&&f.nodeValue?f.nodeValue:f),f||(f=c.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b)){return c[g.props[b]]===!0&&""===f?b:f?b:""}if("FORM"===c.nodeName&&c.getAttributeNode(b)){return c.getAttributeNode(b).nodeValue}if("style"===b&&(f=f||c.style.cssText,f&&(f=g.serializeStyle(g.parseStyle(f),c.nodeName),g.settings.keep_values&&c.setAttribute("data-mce-style",f))),w&&"class"===b&&f&&(f=f.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),D){switch(b){case"rowspan":case"colspan":1===f&&(f="");break;case"size":("+0"===f||20===f||0===f)&&(f="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===f&&(f="");break;case"hspace":-1===f&&(f="");break;case"maxlength":case"tabindex":(32768===f||2147483647===f||"32768"===f)&&(f="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===f?b:d;case"shape":f=f.toLowerCase();break;default:0===b.indexOf("on")&&f&&(f=(""+f).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return f!==a&&null!==f&&""!==f?""+f:d},getPos:function(g,f){var h=this,l=0,m=0,b,d=h.doc,c;if(g=h.get(g),f=f||d.body,g){if(f===d.body&&g.getBoundingClientRect){return c=g.getBoundingClientRect(),f=h.boxModel?d.documentElement:d.body,l=c.left+(d.documentElement.scrollLeft||d.body.scrollLeft)-f.clientTop,m=c.top+(d.documentElement.scrollTop||d.body.scrollTop)-f.clientLeft,{x:l,y:m}}for(b=g;b&&b!=f&&b.nodeType;){l+=b.offsetLeft||0,m+=b.offsetTop||0,b=b.offsetParent}for(b=g.parentNode;b&&b!=f&&b.nodeType;){l-=b.scrollLeft||0,m-=b.scrollTop||0,b=b.parentNode}}return{x:l,y:m}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(c){var b=this,d=b.doc,f,g;if(b!==t.DOM&&d===document){var a=t.DOM.addedStyles;if(a=a||[],a[c]){return}a[c]=!0,t.DOM.addedStyles=a}g=d.getElementById("mceDefaultStyles"),g||(g=d.createElement("style"),g.id="mceDefaultStyles",g.type="text/css",f=d.getElementsByTagName("head")[0],f.firstChild?f.insertBefore(g,f.firstChild):f.appendChild(g)),g.styleSheet?g.styleSheet.cssText+=c:g.appendChild(d.createTextNode(c))},loadCSS:function(b){var a=this,c=a.doc,d;return a!==t.DOM&&c===document?(t.DOM.loadCSS(b),void 0):(b||(b=""),d=c.getElementsByTagName("head")[0],L(b.split(","),function(f){var g;a.files[f]||(a.files[f]=!0,g=a.create("link",{rel:"stylesheet",href:f}),D&&c.documentMode&&c.recalc&&(g.onload=function(){c.recalc&&c.recalc(),g.onload=null}),d.appendChild(g))}),void 0)},addClass:function(b,a){return this.run(b,function(c){var d;return a?this.hasClass(c,a)?c.className:(d=this.removeClass(c,a),c.className=d=(""!==d?d+" ":"")+a,d):0})},removeClass:function(b,a){var c=this,d;return c.run(b,function(f){var g;return c.hasClass(f,a)?(d||(d=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")),g=f.className.replace(d," "),g=z(" "!=g?g:""),f.className=g,g||(f.removeAttribute("class"),f.removeAttribute("className")),g):f.className})},hasClass:function(b,a){return b=this.get(b),b&&a?-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1},toggleClass:function(a,b,c){c=c===aj?!this.hasClass(a,b):c,this.hasClass(a,b)!==c&&(c?this.addClass(a,b):this.removeClass(a,b))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){var c=this;return c.run(b,function(d){if(D){for(;d.firstChild;){d.removeChild(d.firstChild)}try{d.innerHTML="<br />"+a,d.removeChild(d.firstChild)}catch(f){var g=c.create("div");g.innerHTML="<br />"+a,L(E(g.childNodes),function(e,h){h&&d.canHaveHTML&&d.appendChild(e)})}}else{d.innerHTML=a}return a})},getOuterHTML:function(b){var a,c=this;return(b=c.get(b))?1===b.nodeType&&c.hasOuterHTML?b.outerHTML:(a=(b.ownerDocument||c.doc).createElement("body"),a.appendChild(b.cloneNode(!0)),a.innerHTML):null},setOuterHTML:function(b,a,c){var d=this;return d.run(b,function(g){function h(){var l,e;for(e=c.createElement("body"),e.innerHTML=a,l=e.lastChild;l;){d.insertAfter(l.cloneNode(!0),g),l=l.previousSibling}d.remove(g)}if(1==g.nodeType){if(c=c||g.ownerDocument||d.doc,D){try{1==g.nodeType&&d.hasOuterHTML?g.outerHTML=a:h()}catch(f){h()}}else{h()}}})},decode:A.decode,encode:A.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(c){var d,f;return d=a.parentNode,f=a.nextSibling,f?d.insertBefore(c,f):d.appendChild(c),c})},replace:function(b,a,c){var d=this;return d.run(a,function(e){return j(e,"array")&&(b=b.cloneNode(!0)),c&&L(E(e.childNodes),function(f){b.appendChild(f)}),e.parentNode.replaceChild(b,e)})},rename:function(b,a){var c=this,d;return b.nodeName!=a.toUpperCase()&&(d=c.create(a),L(c.getAttribs(b),function(e){c.setAttrib(d,e.nodeName,c.getAttrib(b,e.nodeName))}),c.replace(d,b,1)),d||b},findCommonAncestor:function(b,a){for(var c=b,d;c;){for(d=a;d&&c!=d;){d=d.parentNode}if(c==d){break}c=c.parentNode}return !c&&b.ownerDocument?b.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(H.trim(a))},getClasses:function(){function f(a){L(a.imports,function(e){f(e)}),L(a.cssRules||a.rules,function(e){switch(e.type||1){case 1:e.selectorText&&L(e.selectorText.split(","),function(i){i=i.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(i)&&/\.[\w\-]+$/.test(i)&&(b=i,i=i.replace(/.*\.([a-z0-9_\-]+).*/i,"$1"),(!l||(i=l(i,b)))&&(h[i]||(g.push({"class":i}),h[i]=1)))});break;case 3:f(e.styleSheet)}})}var d=this,g=[],h={},l=d.settings.class_filter,b;if(d.classes){return d.classes}try{L(d.doc.styleSheets,f)}catch(c){}return g.length>0&&(d.classes=g),g},run:function(b,a,c){var d=this,f;return"string"==typeof b&&(b=d.get(b)),b?(c=c||this,b.nodeType||!b.length&&0!==b.length?a.call(c,b):(f=[],L(b,function(h,g){h&&("string"==typeof h&&(h=d.get(h)),f.push(a.call(c,h,g)))}),f)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(D){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(b,f){var g=this,m,i,p,h,u,d=0;if(b=b.firstChild){h=new x(b,b.parentNode),f=f||g.schema?g.schema.getNonEmptyElements():null;do{if(p=b.nodeType,1===p){if(b.getAttribute("data-mce-bogus")){continue}if(u=b.nodeName.toLowerCase(),f&&f[u]){if("br"===u){d++;continue}return !1}for(i=g.getAttribs(b),m=b.attributes.length;m--;){if(u=b.attributes[m].nodeName,"name"===u||"data-mce-bookmark"===u){return !1}}}if(8==p){return !1}if(3===p&&!q.test(b.nodeValue)){return !1}}while(b=h.next())}return 1>=d},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new K(this)},nodeIndex:function(c,b){var d=0,f,g,a;if(c){for(f=c.nodeType,c=c.previousSibling,g=c;c;c=c.previousSibling){a=c.nodeType,(!b||3!=a||a!=f&&c.nodeValue.length)&&(d++,f=a)}}return d},split:function(b,c,f){function m(y){function v(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var M,i=y.childNodes,r=y.nodeType;if(1!=r||"bookmark"!=y.getAttribute("data-mce-type")){for(M=i.length-1;M>=0;M--){m(i[M])}if(9!=r){if(3==r&&y.nodeValue.length>0){var l=z(y.nodeValue).length;if(!d.isBlock(y.parentNode)||l>0||0===l&&v(y)){return}}else{if(1==r&&(i=y.childNodes,1==i.length&&i[0]&&1==i[0].nodeType&&"bookmark"==i[0].getAttribute("data-mce-type")&&y.parentNode.insertBefore(i[0],y),i.length||/^(br|hr|input|img)$/i.test(y.nodeName))){return}}d.remove(y)}return y}}var d=this,h=d.createRng(),p,g,u;return b&&c?(h.setStart(b.parentNode,d.nodeIndex(b)),h.setEnd(c.parentNode,d.nodeIndex(c)),p=h.extractContents(),h=d.createRng(),h.setStart(c.parentNode,d.nodeIndex(c)+1),h.setEnd(b.parentNode,d.nodeIndex(b)+1),g=h.extractContents(),u=b.parentNode,u.insertBefore(m(p),b),f?u.replaceChild(f,c):u.insertBefore(c,b),u.insertBefore(m(g),b),d.remove(b),f||c):void 0},bind:function(b,a,c,d){return this.events.bind(b,a,c,d||this)},unbind:function(b,a,c){return this.events.unbind(b,a,c)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return 1!=b.nodeType?null:(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null)},destroy:function(){var a=this;a.win=a.doc=a.root=a.events=a.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(b,a,c){var d=this,f=a;if(b){for("string"==typeof f&&(f=function(g){return d.is(g,a)}),b=b[c];b;b=b[c]){if(f(b)){return b}}}return null}},t.DOM=new t(document),t}),aG(ao,[a9,bG],function(c,b){function d(){function i(y,x){function z(){l.remove(u),w&&(w.onreadystatechange=w.onload=w=null),x()}function A(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var l=f,w,u;u=l.uniqueId(),w=document.createElement("script"),w.id=u,w.type="text/javascript",w.src=y,"onreadystatechange" in w?w.onreadystatechange=function(){/loaded|complete/.test(w.readyState)&&z()}:w.onload=z,w.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(w)}var k=0,m=1,r=2,p={},v=[],j={},h=[],q=0,o;this.isDone=function(l){return p[l]==r},this.markDone=function(l){p[l]=r},this.add=this.load=function(l,s,t){var u=p[l];u==o&&(v.push(l),p[l]=k),s&&(j[l]||(j[l]=[]),j[l].push({func:s,scope:t||this}))},this.loadQueue=function(n,l){this.loadScripts(v,n,l)},this.loadScripts=function(e,u,s){function w(l){g(j[l],function(t){t.func.call(t.scope)}),j[l]=o}var n;h.push({func:u,scope:s||this}),n=function(){var l=a(e);e.length=0,g(l,function(x){return p[x]==r?(w(x),void 0):(p[x]!=m&&(p[x]=m,q++,i(x,function(){p[x]=r,q--,w(x),n()})),void 0)}),q||(g(h,function(t){t.func.call(t.scope)}),h.length=0)},n()}}var f=c.DOM,g=b.each,a=b.grep;return d.ScriptLoader=new d,d}),aG(bA,[ao,bG],function(a,b){function c(){var f=this;f.items=[],f.urls={},f.lookup={}}var d=b.each;return c.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aj},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(e){var f=c.settings;f&&f.language&&f.language_load!==!1&&a.ScriptLoader.add(this.urls[e]+"/langs/"+f.language+".js")},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,f){var g=this.urls[e];d(f,function(h){a.ScriptLoader.add(g+"/"+h)})},load:function(i,e,g,f){function k(){var l=j.dependencies(i);d(l,function(m){var o=j.createUrl(e,m);j.load(o.resource,o,aj,aj)}),g&&(f?g.call(f):g.call(a))}var j=this,h=e;j.urls[i]||("object"==typeof e&&(h=e.prefix+e.resource+e.suffix),0!==h.indexOf("/")&&-1==h.indexOf("://")&&(h=c.baseURL+"/"+h),j.urls[i]=h.substring(0,h.lastIndexOf("/")),j.lookup[i]?k():a.ScriptLoader.add(h,k,f))}},c.PluginManager=new c,c.ThemeManager=new c,c}),aG(by,[],function(){function b(j,h,k){var l,m,f=k?"lastChild":"firstChild",g=k?"prev":"next";if(j[f]){return j[f]}if(j!==h){if(l=j[g]){return l}for(m=j.parent;m&&m!==h;m=m.parent){if(l=m[g]){return l}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var c=/^[ \t\r\n]*$/,d={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(h,g){var j=this,k,l,f;if("string"!=typeof h){for(l in h){j.attr(l,h[l])}return j}if(k=j.attributes){if(g!==f){if(null===g){if(h in k.map){for(delete k.map[h],l=k.length;l--;){if(k[l].name===h){return k=k.splice(l,1),j}}}return j}if(h in k.map){for(l=k.length;l--;){if(k[l].name===h){k[l].value=g;break}}}else{k.push({name:h,value:g})}return k.map[h]=g,j}return k.map[h]}},clone:function(){var j=this,k=new a(j.name,j.type),l,m,f,h,g;if(f=j.attributes){for(g=[],g.map={},l=0,m=f.length;m>l;l++){h=f[l],"id"!==h.name&&(g[g.length]={name:h.name,value:h.value},g.map[h.name]=h.value)}k.attributes=g}return k.value=j.value,k.shortEnded=j.shortEnded,k},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var g=this,f=g.parent,h=g.next,i=g.prev;return f&&(f.firstChild===g?(f.firstChild=h,h&&(h.prev=null)):i.next=h,f.lastChild===g?(f.lastChild=i,i&&(i.next=null)):h.prev=i,g.parent=g.next=g.prev=null),g},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(g,f,h){var i;return g.parent&&g.remove(),i=f.parent||this,h?(f===i.firstChild?i.firstChild=g:f.prev.next=g,g.prev=f.prev,g.next=f,f.prev=g):(f===i.lastChild?i.lastChild=g:f.next.prev=g,g.next=f.next,g.prev=f,f.next=g),g.parent=i,g},getAll:function(e){var f=this,g,h=[];for(g=f.firstChild;g;g=b(g,f)){g.name===e&&h.push(g)}return h},empty:function(){var e=this,f,g,h;if(e.firstChild){for(f=[],h=e.firstChild;h;h=b(h,e)){f.push(h)}for(g=f.length;g--;){h=f[g],h.parent=h.firstChild=h.lastChild=h.next=h.prev=null}}return e.firstChild=e.lastChild=null,e},isEmpty:function(g){var h=this,j=h.firstChild,e,f;if(j){do{if(1===j.type){if(j.attributes.map["data-mce-bogus"]){continue}if(g[j.name]){return !1}for(e=j.attributes.length;e--;){if(f=j.attributes[e].name,"name"===f||0===f.indexOf("data-mce-")){return !1}}}if(8===j.type){return !1}if(3===j.type&&!c.test(j.value)){return !1}}while(j=b(j,h))}return !0},walk:function(e){return b(this,null,e)}},a.create=function(g,h){var j,f;if(j=new a(g,d[g]||1),h){for(f in h){j.attr(f,h[f])}}return j},a}),aG(bR,[bG],function(b){function c(i,a){return i?i.split(a||" "):[]}function f(q){function v(p,C,F){function G(l){var i={},u,H;for(u=0,H=l.length;H>u;u++){i[l[u]]={}}return i}var a,E,D,s=arguments;for(F=F||[],C=C||"","string"==typeof F&&(F=c(F)),E=3;E<s.length;E++){"string"==typeof s[E]&&(s[E]=c(s[E])),F.push.apply(F,s[E])}for(p=c(p),a=p.length;a--;){D=[].concat(x,c(C)),z[p[a]]={attributes:G(D),attributesOrder:D,children:G(F)}}}function t(p,u){var C,D,a,l;for(p=c(p),C=p.length,u=c(u);C--;){for(D=z[p[C]],a=0,l=u.length;l>a;a++){D.attributes[u[a]]={},D.attributesOrder.push(u[a])}}}var z={},x,B,r,o,y,w,A;return j[q]?j[q]:(x=c("id accesskey class dir lang style tabindex title"),B=c("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),r=c("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),o=c("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=q&&(x.push.apply(x,c("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),r.push.apply(r,c("article aside details dialog figure header footer hgroup section nav")),o.push.apply(o,c("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=q&&(x.push("xml:lang"),A=c("acronym applet basefont big font strike tt"),o.push.apply(o,A),h(A,function(a){v(a,"",o)}),w=c("center dir isindex noframes"),r.push.apply(r,w),y=[].concat(r,o),h(w,function(a){v(a,"",y)})),y=y||[].concat(r,o),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),v("address dt dd div caption","",y),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),v("blockquote","cite",y),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",y),v("dl","","dt dd"),v("a","href target rel media hreflang type",o),v("q","cite",o),v("ins del","cite datetime",y),v("img","src alt usemap ismap width height"),v("iframe","src name width height",y),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",y,"param"),v("param","name value"),v("map","name",y,"area"),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+("html4"==q?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",y),v("th","colspan rowspan headers scope abbr",y),v("form","accept-charset action autocomplete enctype method name novalidate target",y),v("fieldset","disabled form name",y,"legend"),v("label","form for",o),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==q?y:o),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",y,"li"),v("noscript","",y),"html4"!=q&&(v("wbr"),v("ruby","",o,"rt rp"),v("figcaption","",y),v("mark rt rp summary bdi","",o),v("canvas","width height",y),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",y,"track source"),v("audio","src crossorigin preload autoplay mediagroup loop muted controls",y,"track source"),v("source","src type media"),v("track","kind src srclang label default"),v("datalist","",o,"option"),v("article section nav aside header footer","",y),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",y,"figcaption"),v("time","datetime",o),v("dialog","open",y),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",o),v("progress","value max",o),v("meter","value min max low high optimum",o),v("details","open",y,"summary"),v("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=q&&(t("script","language xml:space"),t("style","xml:space"),t("object","declare classid codebase codetype archive standby align border hspace vspace"),t("param","valuetype type"),t("a","charset name rev shape coords"),t("br","clear"),t("applet","codebase archive code object alt name width height align hspace vspace"),t("img","name longdesc align border hspace vspace"),t("iframe","longdesc frameborder marginwidth marginheight scrolling align"),t("font basefont","size color face"),t("input","usemap align"),t("select","onchange"),t("textarea"),t("h1 h2 h3 h4 h5 h6 div p legend caption","align"),t("ul","type compact"),t("li","type"),t("ol dl menu dir","compact"),t("pre","width xml:space"),t("hr","align noshade size width"),t("isindex","prompt"),t("table","summary width frame rules cellspacing cellpadding align bgcolor"),t("col","width align char charoff valign"),t("colgroup","width align char charoff valign"),t("thead","align char charoff valign"),t("tr","align char charoff valign bgcolor"),t("th","axis align char charoff valign nowrap bgcolor width height"),t("form","accept"),t("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),t("tfoot","align char charoff valign"),t("tbody","align char charoff valign"),t("area","nohref"),t("body","background bgcolor text link vlink alink")),"html4"!=q&&(t("input button select textarea","autofocus"),t("input textarea","placeholder"),t("a","download"),t("link script img","crossorigin"),t("iframe","srcdoc sandbox seamless allowfullscreen")),h(c("a form meter progress dfn"),function(a){z[a]&&delete z[a].children[a]}),delete z.caption.children.table,j[q]=z,z)}var j={},d=b.makeMap,h=b.each,k=b.extend,g=b.explode,m=b.inArray;return function(K){function o(u,v,e){var p=K[u];return p?p=d(p,",",d(p.toUpperCase()," ")):(p=j[u],p||(p=d(v," ",d(v.toUpperCase()," ")),p=k(p,e),j[u]=p)),p}function Q(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function a(b1){var b3,bV,b4,bt,v,V,u,b0,at,bY,Y,bZ,R,U,A,b5,X,b2,Z,bX=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,W=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bW=/[*?+]/;if(b1){for(b1=c(b1,","),J["@"]&&(b5=J["@"].attributes,X=J["@"].attributesOrder),b3=0,bV=b1.length;bV>b3;b3++){if(v=bX.exec(b1[b3])){if(U=v[1],at=v[2],A=v[3],b0=v[5],bZ={},R=[],V={attributes:bZ,attributesOrder:R},"#"===U&&(V.paddEmpty=!0),"-"===U&&(V.removeEmpty=!0),"!"===v[4]&&(V.removeEmptyAttrs=!0),b5){for(b2 in b5){bZ[b2]=b5[b2]}R.push.apply(R,X)}if(b0){for(b0=c(b0,"|"),b4=0,bt=b0.length;bt>b4;b4++){if(v=W.exec(b0[b4])){if(u={},Y=v[1],bY=v[2].replace(/::/g,":"),U=v[3],Z=v[4],"!"===Y&&(V.attributesRequired=V.attributesRequired||[],V.attributesRequired.push(bY),u.required=!0),"-"===Y){delete bZ[bY],R.splice(m(R,bY),1);continue}U&&("="===U&&(V.attributesDefault=V.attributesDefault||[],V.attributesDefault.push({name:bY,value:Z}),u.defaultValue=Z),":"===U&&(V.attributesForced=V.attributesForced||[],V.attributesForced.push({name:bY,value:Z}),u.forcedValue=Z),"<"===U&&(u.validValues=d(Z,"?"))),bW.test(bY)?(V.attributePatterns=V.attributePatterns||[],u.pattern=Q(bY),V.attributePatterns.push(u)):(bZ[bY]||R.push(bY),bZ[bY]=u)}}}b5||"@"!=at||(b5=bZ,X=R),A&&(V.outputName=at,J[A]=V),bW.test(at)?(V.pattern=Q(at),O.push(V)):J[at]=V}}}}function I(p){J={},O=[],a(p),h(i,function(v,u){l[u]=v.children})}function z(p){var u=/^(~)?(.+)$/;p&&h(c(p,","),function(x){var w=u.exec(x),y="~"===w[1],A=y?"span":"div",v=w[2];l[v]=l[A],M[v]=A,y||(F[v.toUpperCase()]={},F[v]={}),J[v]||(J[v]=J[A]),h(l,function(C){C[A]&&(C[v]=C[A])})})}function G(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&h(c(p,","),function(w){var x=u.exec(w),y,v;x&&(v=x[1],y=v?l[x[2]]:l[x[2]]={"#comment":{}},y=l[x[2]],h(c(x[3],"|"),function(A){"-"===v?delete y[A]:y[A]={}}))})}function r(u){var p=J[u],v;if(p){return p}for(v=O.length;v--;){if(p=O[v],p.pattern.test(u)){return p}}}var H=this,J={},l={},O=[],n,i,P,s,L,t,F,q,D,M={},B={};K=K||{},i=f(K.schema),K.verify_html===!1&&(K.valid_elements="*[*]"),K.valid_styles&&(n={},h(K.valid_styles,function(u,p){n[p]=g(u)})),P=o("whitespace_elements","pre script noscript style textarea video audio iframe object"),s=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),L=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),t=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),q=o("non_empty_elements","td th iframe video audio object",L),D=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),F=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",D),h((K.special||"script noscript style textarea").split(" "),function(p){B[p]=new RegExp("</"+p+"[^>]*>","gi")}),K.valid_elements?I(K.valid_elements):(h(i,function(u,p){J[p]={attributes:u.attributes,attributesOrder:u.attributesOrder},l[p]=u.children}),"html5"!=K.schema&&h(c("strong/b em/i"),function(p){p=c(p,"/"),J[p[1]].outputName=p[0]}),J.img.attributesDefault=[{name:"alt",value:""}],h(c("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){J[p]&&(J[p].removeEmpty=!0)}),h(c("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){J[p].paddEmpty=!0}),h(c("span"),function(p){J[p].removeEmptyAttrs=!0})),z(K.custom_elements),G(K.valid_children),a(K.extended_valid_elements),G("+ol[ul|ol],+ul[ul|ol]"),K.invalid_elements&&h(g(K.invalid_elements),function(p){J[p]&&delete J[p]}),r("span")||a("span[!data-mce-type|*]"),H.children=l,H.styles=n,H.getBoolAttrs=function(){return t},H.getBlockElements=function(){return F},H.getTextBlockElements=function(){return D},H.getShortEndedElements=function(){return L},H.getSelfClosingElements=function(){return s},H.getNonEmptyElements=function(){return q},H.getWhiteSpaceElements=function(){return P},H.getSpecialElements=function(){return B},H.isValidChild=function(u,p){var v=l[u];return !(!v||!v[p])},H.isValid=function(u,p){var v,w,x=r(u);if(x){if(!p){return !0}if(x.attributes[p]){return !0}if(v=x.attributePatterns){for(w=v.length;w--;){if(v[w].pattern.test(u)){return !0}}}}return !1},H.getElementRule=r,H.getCustomElements=function(){return M},H.addValidElements=a,H.setValidElements=I,H.addCustomElements=z,H.addValidChildren=G,H.elements=J}}),aG(bO,[bR,bm,bG],function(b,a,c){var d=c.each;return function(g,h){var e=this,f=function(){};g=g||{},e.schema=h=h||new b,g.fix_self_closing!==!1&&(g.fix_self_closing=!0),d("comment cdata text start end pi doctype".split(" "),function(i){i&&(e[i]=g[i]||f)}),e.parse=function(b1){function b2(l){var k,m;for(k=cb.length;k--&&cb[k].name!==l;){}if(k>=0){for(m=cb.length-1;m>=k;m--){l=cb[m],l.valid&&i.end(l.name)}cb.length=k}}function K(p,m,s,u,v){var k,l;if(m=m.toLowerCase(),s=m in U?m:V(s||u||v||""),z&&!Z&&0!==m.indexOf("data-")){if(k=bZ[m],!k&&at){for(l=at.length;l--&&(k=at[l],!k.pattern.test(m));){}-1===l&&(k=null)}if(!k){return}if(k.validValues&&!(s in k.validValues)){return}}b4.map[m]=s,b4.push({name:m,value:s})}var i=this,bX,b5=0,t,b9,cb=[],b4,b7,bV,bt,Z,ca,Y,U,G,z,Q,q,cc,W,bZ,at,bY,b3,b0,n,X,bW,cd,j,b8,b6=0,V=a.decode,J;for(bW=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),cd=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Y=h.getShortEndedElements(),X=g.self_closing_elements||h.getSelfClosingElements(),U=h.getBoolAttrs(),z=g.validate,ca=g.remove_internals,J=g.fix_self_closing,j=h.getSpecialElements();bX=bW.exec(b1);){if(b5<bX.index&&i.text(V(b1.substr(b5,bX.index-b5))),t=bX[6]){t=t.toLowerCase(),":"===t.charAt(0)&&(t=t.substr(1)),b2(t)}else{if(t=bX[7]){if(t=t.toLowerCase(),":"===t.charAt(0)&&(t=t.substr(1)),G=t in Y,J&&X[t]&&cb.length>0&&cb[cb.length-1].name===t&&b2(t),!z||(Q=h.getElementRule(t))){if(q=!0,z&&(bZ=Q.attributes,at=Q.attributePatterns),(W=bX[8])?(Z=-1!==W.indexOf("data-mce-type"),Z&&ca&&(q=!1),b4=[],b4.map={},W.replace(cd,K)):(b4=[],b4.map={}),z&&!Z){if(bY=Q.attributesRequired,b3=Q.attributesDefault,b0=Q.attributesForced,n=Q.removeEmptyAttrs,n&&!b4.length&&(q=!1),b0){for(b7=b0.length;b7--;){cc=b0[b7],bt=cc.name,b8=cc.value,"{$uid}"===b8&&(b8="mce_"+b6++),b4.map[bt]=b8,b4.push({name:bt,value:b8})}}if(b3){for(b7=b3.length;b7--;){cc=b3[b7],bt=cc.name,bt in b4.map||(b8=cc.value,"{$uid}"===b8&&(b8="mce_"+b6++),b4.map[bt]=b8,b4.push({name:bt,value:b8}))}}if(bY){for(b7=bY.length;b7--&&!(bY[b7] in b4.map);){}-1===b7&&(q=!1)}b4.map["data-mce-bogus"]&&(q=!1)}q&&i.start(t,b4,G)}else{q=!1}if(b9=j[t]){b9.lastIndex=b5=bX.index+bX[0].length,(bX=b9.exec(b1))?(q&&(bV=b1.substr(b5,bX.index-b5)),b5=bX.index+bX[0].length):(bV=b1.substr(b5),b5=b1.length),q&&(bV.length>0&&i.text(bV,!0),i.end(t)),bW.lastIndex=b5;continue}G||(W&&W.indexOf("/")==W.length-1?q&&i.end(t):cb.push({name:t,valid:q}))}else{(t=bX[1])?i.comment(t):(t=bX[2])?i.cdata(t):(t=bX[3])?i.doctype(t):(t=bX[4])&&i.pi(t,bX[5])}}b5=bX.index+bX[0].length}for(b5<b1.length&&i.text(V(b1.substr(b5))),b7=cb.length-1;b7>=0;b7--){t=cb[b7],t.valid&&i.end(t.name)}}}}),aG(a4,[by,bR,bO,bG],function(g,f,h,j){var k=j.makeMap,b=j.each,d=j.explode,c=j.extend;return function(q,o){function i(u){var w,G,F,H,A,l,B,z,J,D,x,I,C,E;for(x=k("tr,td,th,tbody,thead,tfoot,table"),D=o.getNonEmptyElements(),I=o.getTextBlockElements(),w=0;w<u.length;w++){if(G=u[w],G.parent&&!G.fixed){if(I[G.name]&&"li"==G.parent.name){for(C=G.next;C&&I[C.name];){C.name="li",C.fixed=!0,G.parent.insert(C,G.parent),C=C.next}G.unwrap(G)}else{for(H=[G],F=G.parent;F&&!o.isValidChild(F.name,G.name)&&!x[F.name];F=F.parent){H.push(F)}if(F&&H.length>1){for(H.reverse(),A=l=e.filterNode(H[0].clone()),J=0;J<H.length-1;J++){for(o.isValidChild(l.name,H[J].name)?(B=e.filterNode(H[J].clone()),l.append(B)):B=l,z=H[J].firstChild;z&&z!=H[J+1];){E=z.next,B.append(z),z=E}l=B}A.isEmpty(D)?F.insert(G,H[0],!0):(F.insert(A,H[0],!0),F.insert(G,A)),F=H[0],(F.isEmpty(D)||F.firstChild===F.lastChild&&"br"===F.firstChild.name)&&F.empty().remove()}else{if(G.parent){if("li"===G.name){if(C=G.prev,C&&("ul"===C.name||"ul"===C.name)){C.append(G);continue}if(C=G.next,C&&("ul"===C.name||"ul"===C.name)){C.insert(G,C.firstChild,!0);continue}G.wrap(e.filterNode(new g("ul",1)));continue}o.isValidChild(G.parent.name,"div")&&o.isValidChild("div",G.name)?G.wrap(e.filterNode(new g("div",1))):"style"===G.name||"script"===G.name?G.empty().remove():G.unwrap()}}}}}}var e=this,a={},m=[],s={},n={};q=q||{},q.validate="validate" in q?q.validate:!0,q.root_name=q.root_name||"body",e.schema=o=o||new f,e.filterNode=function(p){var l,u,v;u in a&&(v=s[u],v?v.push(p):s[u]=[p]),l=m.length;for(;l--;){u=m[l].name,u in p.attributes.map&&(v=n[u],v?v.push(p):n[u]=[p])}return p},e.addNodeFilter=function(p,l){b(d(p),function(r){var t=a[r];t||(a[r]=t=[]),t.push(l)})},e.addAttributeFilter=function(p,l){b(d(p),function(r){var t;for(t=0;t<m.length;t++){if(m[t].name===r){return m[t].callbacks.push(l),void 0}}m.push({name:r,callbacks:[l]})})},e.parse=function(U,b3){function Z(){function v(t){t&&(u=t.firstChild,u&&3==u.type&&(u.value=u.value.replace(b1,"")),u=t.lastChild,u&&3==u.type&&(u.value=u.value.replace(bW,"")))}var u=r.firstChild,w,x;if(o.isValidChild(r.name,z.toLowerCase())){for(;u;){w=u.next,3==u.type||1==u.type&&"p"!==u.name&&!at[u.name]&&!u.attr("data-mce-type")?x?x.append(u):(x=b5(z,1),r.insert(x,u),x.append(u)):(v(x),x=null),u=w}v(x)}}function b5(u,v){var w=new g(u,v),x;return u in a&&(x=s[u],x?x.push(w):s[u]=[w]),w}function K(v){var u,w,x;for(u=v.prev;u&&3===u.type;){w=u.value.replace(bW,""),w.length>0?(u.value=w,u=u.prev):(x=u.prev,u.remove(),u=x)}}function bY(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var bZ,r,b2,F,p,b4,Q,b0,V,bt,G,at,b1,Y=[],J,bW,W,bV,bX,l,X,z;if(b3=b3||{},s={},n={},at=c(k("script,style,head,html,body,title,meta,param"),o.getBlockElements()),X=o.getNonEmptyElements(),l=o.children,G=q.validate,z="forced_root_block" in b3?b3.forced_root_block:q.forced_root_block,bX=o.getWhiteSpaceElements(),b1=/^[ \t\r\n]+/,bW=/[ \t\r\n]+$/,W=/[ \t\r\n]+/g,bV=/^[ \t\r\n]+$/,bZ=new h({validate:G,self_closing_elements:bY(o.getSelfClosingElements()),cdata:function(t){b2.append(b5("#cdata",4)).value=t},text:function(v,u){var w;J||(v=v.replace(W," "),b2.lastChild&&at[b2.lastChild.name]&&(v=v.replace(b1,""))),0!==v.length&&(w=b5("#text",3),w.raw=!!u,b2.append(w).value=v)},comment:function(t){b2.append(b5("#comment",8)).value=t},pi:function(v,u){b2.append(b5(v,7)).value=u,K(b2)},doctype:function(v){var u;u=b2.append(b5("#doctype",10)),u.value=v,K(b2)},start:function(y,x,A){var B,C,u,w,v;if(u=G?o.getElementRule(y):{}){for(B=b5(u.outputName||y,1),B.attributes=x,B.shortEnded=A,b2.append(B),v=l[b2.name],v&&l[B.name]&&!v[B.name]&&Y.push(B),C=m.length;C--;){w=m[C].name,w in x.map&&(V=n[w],V?V.push(B):n[w]=[B])}at[y]&&K(B),A||(b2=B),!J&&bX[y]&&(J=!0)}},end:function(w){var x,y,A,u,v;if(y=G?o.getElementRule(w):{}){if(at[w]&&!J){if(x=b2.firstChild,x&&3===x.type){if(A=x.value.replace(b1,""),A.length>0){x.value=A,x=x.next}else{for(u=x.next,x.remove(),x=u;x&&3===x.type;){A=x.value,u=x.next,(0===A.length||bV.test(A))&&(x.remove(),x=u),x=u}}}if(x=b2.lastChild,x&&3===x.type){if(A=x.value.replace(bW,""),A.length>0){x.value=A,x=x.prev}else{for(u=x.prev,x.remove(),x=u;x&&3===x.type;){A=x.value,u=x.prev,(0===A.length||bV.test(A))&&(x.remove(),x=u),x=u}}}}if(J&&bX[w]&&(J=!1),(y.removeEmpty||y.paddEmpty)&&b2.isEmpty(X)){if(y.paddEmpty){b2.empty().append(new g("#text","3")).value="\xa0"}else{if(!b2.attributes.map.name&&!b2.attributes.map.id){return v=b2.parent,b2.empty().remove(),b2=v,void 0}}}b2=b2.parent}}},o),r=b2=new g(b3.context||q.root_name,11),bZ.parse(U),G&&Y.length&&(b3.context?b3.invalid=!0:i(Y)),z&&("body"==r.name||b3.isRootContent)&&Z(),!b3.invalid){for(bt in s){for(V=a[bt],F=s[bt],Q=F.length;Q--;){F[Q].parent||F.splice(Q,1)}for(p=0,b4=V.length;b4>p;p++){V[p](F,bt,b3)}}for(p=0,b4=m.length;b4>p;p++){if(V=m[p],V.name in n){for(F=n[V.name],Q=F.length;Q--;){F[Q].parent||F.splice(Q,1)}for(Q=0,b0=V.callbacks.length;b0>Q;Q++){V.callbacks[Q](F,V.name,b3)}}}}return r},q.remove_trailing_brs&&e.addNodeFilter("br",function(w){var y,D=w.length,x,C=c({},o.getBlockElements()),E=o.getNonEmptyElements(),v,l,A,z,F,B;for(C.body=1,y=0;D>y;y++){if(x=w[y],v=x.parent,C[x.parent.name]&&x===v.lastChild){for(A=x.prev;A;){if(z=A.name,"span"!==z||"bookmark"!==A.attr("data-mce-type")){if("br"!==z){break}if("br"===z){x=null;break}}A=A.prev}x&&(x.remove(),v.isEmpty(E)&&(F=o.getElementRule(v.name),F&&(F.removeEmpty?v.remove():F.paddEmpty&&(v.empty().append(new g("#text",3)).value="\xa0"))))}else{for(l=x;v.firstChild===l&&v.lastChild===l&&(l=v,!C[v.name]);){v=v.parent}l===v&&(B=new g("#text",3),B.value="\xa0",x.replace(B))}}}),q.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(u){for(var p=u.length,v,w,x,l;p--;){if(l=u[p],"a"===l.name&&l.firstChild&&!l.attr("href")){x=l.parent,v=l.lastChild;do{w=v.prev,x.insert(v,l),v=w}while(v)}}})}}),aG(aK,[bm,bG],function(b,a){var c=a.makeMap;return function(g){var j=[],k,d,f,e,h;return g=g||{},k=g.indent,d=c(g.indent_before||""),f=c(g.indent_after||""),e=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),h="html"==g.element_format,{start:function(m,l,p){var q,o,i,r;if(k&&d[m]&&j.length>0&&(r=j[j.length-1],r.length>0&&"\n"!==r&&j.push("\n")),j.push("<",m),l){for(q=0,o=l.length;o>q;q++){i=l[q],j.push(" ",i.name,'="',e(i.value,!0),'"')}}j[j.length]=!p||h?">":" />",p&&k&&f[m]&&j.length>0&&(r=j[j.length-1],r.length>0&&"\n"!==r&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),k&&f[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:e(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",i,"?>"):j.push("<?",l,"?>"),k&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",k?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aG(ak,[aK,bR],function(b,a){return function(d,e){var f=this,c=new b(d);d=d||{},d.validate="validate" in d?d.validate:!0,f.schema=e=e||new a,f.writer=c,f.serialize=function(j){function h(o){var r=k[o.type],w,A,q,i,x,v,z,y,t;if(r){r(o)}else{if(w=o.name,A=o.shortEnded,q=o.attributes,g&&q&&q.length>1){for(v=[],v.map={},t=e.getElementRule(o.name),z=0,y=t.attributesOrder.length;y>z;z++){i=t.attributesOrder[z],i in q.map&&(x=q.map[i],v.map[i]=x,v.push({name:i,value:x}))}for(z=0,y=q.length;y>z;z++){i=q[z].name,i in v.map||(x=q.map[i],v.map[i]=x,v.push({name:i,value:x}))}q=v}if(c.start(o.name,q,A),!A){if(o=o.firstChild){do{h(o)}while(o=o.next)}c.end(w)}}}var k,g;return g=d.validate,k={3:function(i){c.text(i.value,i.raw)},8:function(i){c.comment(i.value)},7:function(i){c.pi(i.name,i.value)},10:function(i){c.doctype(i.value)},4:function(i){c.cdata(i.value)},11:function(i){if(i=i.firstChild){do{h(i)}while(i=i.next)}}},c.reset(),1!=j.type||d.inner?k[11](j):h(j),c.getContent()}}}),aG(bJ,[a9,a4,bm,ak,by,bR,bl,bG],function(d,g,j,p,h,m,q,k){var v=k.each,f=k.trim,b=d.DOM;return function(l,o){var c,a,n;return o&&(c=o.dom,a=o.schema),c=c||b,a=a||new m(l),l.entity_encoding=l.entity_encoding||"named",l.remove_trailing_brs="remove_trailing_brs" in l?l.remove_trailing_brs:!0,n=new g(l,a),n.addAttributeFilter("src,href,style",function(w,y){for(var A=w.length,x,z,B="data-mce-"+y,C=l.url_converter,s=l.url_converter_scope,e;A--;){x=w[A],z=x.attributes.map[B],z!==e?(x.attr(y,z.length>0?z:null),x.attr(B,null)):(z=x.attributes.map[y],"style"===y?z=c.serializeStyle(c.parseStyle(z),x.name):C&&(z=C.call(s,z,y,x.name)),x.attr(y,z.length>0?z:null))}}),n.addAttributeFilter("class",function(s){for(var i=s.length,u,w;i--;){u=s[i],w=u.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",w.length>0?w:null)}}),n.addAttributeFilter("data-mce-type",function(u,s,w){for(var x=u.length,y;x--;){y=u[x],"bookmark"!==y.attributes.map["data-mce-type"]||w.cleanup||y.remove()}}),n.addAttributeFilter("data-mce-expando",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),n.addNodeFilter("noscript",function(s){for(var i=s.length,u;i--;){u=s[i].firstChild,u&&(u.value=j.decode(u.value))}}),n.addNodeFilter("script,style",function(w,u){function x(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var y=w.length,z,s;y--;){z=w[y],s=z.firstChild?z.firstChild.value:"","script"===u?(z.attr("type",(z.attr("type")||"text/javascript").replace(/^mce\-/,"")),s.length>0&&(z.firstChild.value="// <![CDATA[\n"+x(s)+"\n// ]]>")):s.length>0&&(z.firstChild.value="<!--\n"+x(s)+"\n-->")}}),n.addNodeFilter("#comment",function(r){for(var i=r.length,s;i--;){s=r[i],0===s.value.indexOf("[CDATA[")?(s.name="#cdata",s.type=4,s.value=s.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===s.value.indexOf("mce:protected ")&&(s.name="#text",s.type=3,s.raw=!0,s.value=unescape(s.value).substr(14))}}),n.addNodeFilter("xml:namespace,input",function(s,i){for(var u=s.length,w;u--;){w=s[u],7===w.type?w.remove():1===w.type&&("input"!==i||"type" in w.attributes.map||w.attr("type","text"))}}),l.fix_list_elements&&n.addNodeFilter("ul,ol",function(s){for(var i=s.length,u,w;i--;){u=s[i],w=u.parent,("ul"===w.name||"ol"===w.name)&&u.prev&&"li"===u.prev.name&&u.prev.append(u)}}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),{schema:a,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:function(r,w){var A=this,e,s,z,x,y;return q.ie&&c.select("script,style,select,map").length>0?(y=r.innerHTML,r=r.cloneNode(!1),c.setHTML(r,y)):r=r.cloneNode(!0),e=r.ownerDocument.implementation,e.createHTMLDocument&&(s=e.createHTMLDocument(""),v("BODY"==r.nodeName?r.childNodes:[r],function(i){s.body.appendChild(s.importNode(i,!0))}),r="BODY"!=r.nodeName?s.body.firstChild:s.body,z=c.doc,c.doc=s),w=w||{},w.format=w.format||"html",w.selection&&(w.forced_root_block=""),w.no_events||(w.node=r,A.onPreProcess(w)),x=new p(l,a),w.content=x.serialize(n.parse(f(w.getInner?r.innerHTML:c.getOuterHTML(r)),w)),w.cleanup||(w.content=w.content.replace(/\uFEFF/g,"")),w.no_events||A.onPostProcess(w),z&&(c.doc=z),w.node=null,w.content},addRules:function(i){a.addValidElements(i)},setRules:function(i){a.setValidElements(i)},onPreProcess:function(i){o&&o.fire("PreProcess",i)},onPostProcess:function(i){o&&o.fire("PostProcess",i)}}}}),aG(bK,[],function(){function a(d){function c(k,p){var y,m=0,x,z,v,A,j,e,w=-1,q;if(y=k.duplicate(),y.collapse(p),q=y.parentElement(),q.ownerDocument===d.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(v=q.children,x=v.length-1;x>=m;){if(e=Math.floor((m+x)/2),A=v[e],y.moveToElementText(A),w=y.compareEndPoints(p?"StartToStart":"EndToEnd",k),w>0){x=e-1}else{if(!(0>w)){return{node:A}}m=e+1}}if(0>w){for(A?y.collapse(!1):(y.moveToElementText(q),y.collapse(!0),A=q,z=!0),j=0;0!==y.compareEndPoints(p?"StartToStart":"StartToEnd",k)&&0!==y.move("character",1)&&q==y.parentElement();){j++}}else{for(y.collapse(!0),j=0;0!==y.compareEndPoints(p?"StartToStart":"StartToEnd",k)&&0!==y.move("character",-1)&&q==y.parentElement();){j++}}return{node:A,position:w,offset:j,inside:z}}}function f(){function j(v){var x=c(q,v),A,B,o=0,z,y,w;if(A=x.node,B=x.offset,x.inside&&!A.hasChildNodes()){return r[v?"setStart":"setEnd"](A,0),void 0}if(B===y){return r[v?"setStartBefore":"setEndAfter"](A),void 0}if(x.position<0){if(z=x.inside?A.firstChild:A.nextSibling,!z){return r[v?"setStartAfter":"setEndAfter"](A),void 0}if(!B){return 3==z.nodeType?r[v?"setStart":"setEnd"](z,0):r[v?"setStartBefore":"setEndBefore"](z),void 0}for(;z;){if(w=z.nodeValue,o+=w.length,o>=B){A=z,o-=B,o=w.length-o;break}z=z.nextSibling}}else{if(z=A.previousSibling,!z){return r[v?"setStartBefore":"setEndBefore"](A)}if(!B){return 3==A.nodeType?r[v?"setStart":"setEnd"](z,A.nodeValue.length):r[v?"setStartAfter":"setEndAfter"](z),void 0}for(;z;){if(o+=z.nodeValue.length,o>=B){A=z,o-=B;break}z=z.previousSibling}}r[v?"setStart":"setEnd"](A,o)}var q=d.getRng(),r=h.createRng(),m,t,i,e,p;if(m=q.item?q.item(0):q.parentElement(),m.ownerDocument!=h.doc){return r}if(t=d.isCollapsed(),q.item){return r.setStart(m.parentNode,h.nodeIndex(m)),r.setEnd(r.startContainer,r.startOffset+1),r}try{j(!0),t||j()}catch(k){if(-2147024809!=k.number){throw k}p=g.getBookmark(2),i=q.duplicate(),i.collapse(!0),m=i.parentElement(),t||(i=q.duplicate(),i.collapse(!1),e=i.parentElement(),e.innerHTML=e.innerHTML),m.innerHTML=m.innerHTML,g.moveToBookmark(p),q=d.getRng(),j(!0),t||j()}return r}var g=this,h=d.dom,b=!1;this.getBookmark=function(k){function l(s){var q,u,v,m,p=[];for(q=s.parentNode,u=h.getRoot().parentNode;q!=u&&9!==q.nodeType;){for(v=q.children,m=v.length;m--;){if(s===v[m]){p.push(m);break}}s=q,q=q.parentNode}return p}function e(m){var o;return o=c(j,m),o?{position:o.position,offset:o.offset,indexes:l(o.node),inside:o.inside}:void 0}var j=d.getRng(),i={};return 2===k&&(j.item?i.start={ctrl:!0,indexes:l(j.item(0))}:(i.start=e(!0),d.isCollapsed()||(i.end=e()))),i},this.moveToBookmark=function(k){function j(s){var q,u,v,p;for(q=h.getRoot(),u=s.length-1;u>=0;u--){p=q.children,v=s[u],v<=p.length-1&&(q=p[v])}return q}function l(p){var t=k[p?"start":"end"],o,e,r,q;t&&(o=t.position>0,e=i.createTextRange(),e.moveToElementText(j(t.indexes)),q=t.offset,q!==r?(e.collapse(t.inside||o),e.moveStart("character",o?-q:q)):e.collapse(p),m.setEndPoint(p?"StartToStart":"EndToStart",e),p&&m.collapse(!0))}var m,i=h.doc.body;k.start&&(k.start.ctrl?(m=i.createControlRange(),m.addElement(j(k.start.indexes)),m.select()):(m=i.createTextRange(),l(!0),l(),m.select()))},this.addRange=function(j){function k(r){var p,s,m,l,u;m=h.create("a"),p=r?v:i,s=r?C:e,l=y.duplicate(),(p==q||p==q.documentElement)&&(p=B,s=0),3==p.nodeType?(p.parentNode.insertBefore(m,p),l.moveToElementText(m),l.moveStart("character",s),h.remove(m),y.setEndPoint(r?"StartToStart":"EndToEnd",l)):(u=p.childNodes,u.length?(s>=u.length?h.insertAfter(m,u[u.length-1]):p.insertBefore(m,u[s]),l.moveToElementText(m)):p.canHaveHTML&&(p.innerHTML="<span>&#xFEFF;</span>",m=p.firstChild,l.moveToElementText(m),l.collapse(b)),y.setEndPoint(r?"StartToStart":"EndToEnd",l),h.remove(m))}var y,z,v,C,i,e,w,q=d.dom.doc,B=q.body,x,o;if(v=j.startContainer,C=j.startOffset,i=j.endContainer,e=j.endOffset,y=B.createTextRange(),v==i&&1==v.nodeType){if(C==e&&!v.hasChildNodes()){if(v.canHaveHTML){return w=v.previousSibling,w&&!w.hasChildNodes()&&h.isBlock(w)?w.innerHTML="&#xFEFF;":w=null,v.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",y.moveToElementText(v.lastChild),y.select(),h.doc.selection.clear(),v.innerHTML="",w&&(w.innerHTML=""),void 0}C=h.nodeIndex(v),v=v.parentNode}if(C==e-1){try{if(o=v.childNodes[C],z=B.createControlRange(),z.addElement(o),z.select(),x=d.getRng(),x.item&&o===x.item(0)){return}}catch(A){}}}k(!0),k(),y.select()},this.getRangeAt=f}return a}),aG(av,[bl],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.ctrlKey||b.metaKey:b.ctrlKey)&&!b.altKey}}}),aG(aL,[av,bG,bl],function(b,a,c){return function(b0,G){function J(d){return G.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(d.nodeName)?"false"===d.getAttribute("data-mce-resize")?!1:!0:!1}function e(d){var f,g;f=d.screenX-V,g=d.screenY-bY,bV=f*ca[2]+b1,cb=g*ca[3]+bZ,bV=5>bV?5:bV,cb=5>cb?5:cb,(b.modifierPressed(d)||"IMG"==z.nodeName&&0!==ca[2]*ca[3])&&(bV=Math.round(cb/n),cb=Math.round(bV*n)),Q.setStyles(K,{width:bV,height:cb}),ca[2]<0&&K.clientWidth<=bV&&Q.setStyle(K,"left",Z+(b1-bV)),ca[3]<0&&K.clientHeight<=cb&&Q.setStyle(K,"top",bX+(bZ-cb)),W||(G.fire("ObjectResizeStart",{target:z,width:b1,height:bZ}),W=!0)}function bW(){function d(g,f){f&&(z.style[g]||!G.schema.isValid(z.nodeName.toLowerCase(),g)?Q.setStyle(z,g,f):Q.setAttrib(z,g,f))}W=!1,d("width",bV),d("height",cb),Q.unbind(j,"mousemove",e),Q.unbind(j,"mouseup",bW),b6!=j&&(Q.unbind(b6,"mousemove",e),Q.unbind(b6,"mouseup",bW)),Q.remove(K),b4&&"TABLE"!=z.nodeName||b3(z),G.fire("ObjectResized",{target:z,width:bV,height:cb}),G.nodeChanged()}function b3(i,h,m){var s,p,k,g,o;s=Q.getPos(i,G.getBody()),Z=s.x,bX=s.y,o=i.getBoundingClientRect(),p=o.width||o.right-o.left,k=o.height||o.bottom-o.top,z!=i&&(at(),z=i,bV=cb=0),g=G.fire("ObjectSelected",{target:i}),J(i)&&!g.isDefaultPrevented()?F(q,function(u,w){function l(d){W=!0,V=d.screenX,bY=d.screenY,b1=z.clientWidth,bZ=z.clientHeight,n=bZ/b1,ca=u,K=z.cloneNode(!0),Q.addClass(K,"mce-clonedresizable"),K.contentEditable=!1,K.unSelectabe=!0,Q.setStyles(K,{left:Z,top:bX,margin:0}),K.removeAttribute("data-mce-selected"),G.getBody().appendChild(K),Q.bind(j,"mousemove",e),Q.bind(j,"mouseup",bW),b6!=j&&(Q.bind(b6,"mousemove",e),Q.bind(b6,"mouseup",bW))}var v,f;return h?(w==h&&l(m),void 0):(v=Q.get("mceResizeHandle"+w),v?Q.show(v):(f=G.getBody(),v=Q.add(f,"div",{id:"mceResizeHandle"+w,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+w+"-resize; margin:0; padding:0"}),Q.bind(v,"mousedown",function(d){d.preventDefault(),l(d)})),Q.setStyles(v,{left:p*u[0]+Z-v.offsetWidth/2,top:k*u[1]+bX-v.offsetHeight/2}),void 0)}):t(),z.setAttribute("data-mce-selected","1")}function t(){var f,d;z&&z.removeAttribute("data-mce-selected");for(f in q){d=Q.get("mceResizeHandle"+f),d&&(Q.unbind(d),Q.remove(d))}}function b7(f){function d(i,h){do{if(i===h){return !0}}while(i=i.parentNode)}var g;return F(Q.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:b0.getNode(),g=Q.getParent(g,b4?"table":"table,img,hr"),g&&(Y(),d(b0.getStart(),g)&&d(b0.getEnd(),g)&&(!b4||g!=b0.getStart()&&"IMG"!==b0.getStart().nodeName))?(b3(g),void 0):(t(),void 0)}function b9(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function b2(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function b5(f){var h=f.srcElement,i,m,l,p,k,g,d;i=h.getBoundingClientRect(),g=f.clientX-i.left,d=f.clientY-i.top;for(m in q){if(l=q[m],p=h.offsetWidth*l[0],k=h.offsetHeight*l[1],Math.abs(p-g)<8&&Math.abs(k-d)<8){ca=l;break}}W=!0,G.getDoc().selection.empty(),b3(h,m,f)}function bt(f){var d=f.srcElement;if(d!=z){if(at(),0===d.id.indexOf("mceResizeHandle")){return f.returnValue=!1,void 0}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(t(),z=d,b9(d,"resizestart",b5))}}function at(){b2(z,"resizestart",b5)}function Y(){try{G.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function b8(f){var d;if(b4){d=j.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function X(){z=K=null,b4&&(at(),b2(G.getBody(),"controlselect",bt))}var Q=G.dom,F=a.each,z,K,q,ca,V,bY,Z,bX,b1,bZ,n,W,bV,cb,j=G.getDoc(),b6=document,b4=c.ie;q={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var U=".mce-content-body";return G.contentStyles.push(U+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+U+" .mce-resizehandle:hover {background: #000}"+U+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+U+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),G.on("init",function(){b4?(G.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(t(),b8(d.target))}),b9(G.getBody(),"controlselect",bt)):Y(),G.on("nodechange mousedown ResizeEditor",b7),G.on("keydown keyup",function(d){z&&"TABLE"==z.nodeName&&b7(d)})}),{controlSelect:b8,destroy:X}}}),aG(ay,[bn,bK,aL,bl,bG],function(f,j,q,h,p){function t(n,l,r,c){var d=this;d.dom=n,d.win=l,d.serializer=r,d.editor=c,d.controlSelection=new q(d,c),d.win.getSelection||(d.tridentSel=new j(d))}var k=p.each,v=p.grep,g=p.trim,b=h.ie,m=h.opera;return t.prototype={setCursorLocation:function(c,a){var d=this,i=d.dom.createRng();i.setStart(c,a),i.setEnd(c,a),d.setRng(i),d.collapse(!1)},getContent:function(w){var x=this,z=x.getRng(),A=x.dom.create("body"),c=x.getSel(),u,d,y;return w=w||{},u=d="",w.get=!0,w.format=w.format||"html",w.selection=!0,x.editor.fire("BeforeGetContent",w),"text"==w.format?x.isCollapsed()?"":z.text||(c.toString?c.toString():""):(z.cloneContents?(y=z.cloneContents(),y&&A.appendChild(y)):z.item!==aj||z.htmlText!==aj?(A.innerHTML="<br>"+(z.item?z.item(0).outerHTML:z.htmlText),A.removeChild(A.firstChild)):A.innerHTML=z.toString(),/^\s/.test(A.innerHTML)&&(u=" "),/\s+$/.test(A.innerHTML)&&(d=" "),w.getInner=!0,w.content=x.isCollapsed()?"":u+x.serializer.serialize(A,w)+d,x.editor.fire("GetContent",w),w.content)},setContent:function(c,d){var w=this,z=w.getRng(),u,y=w.win.document,A,x;if(d=d||{format:"html"},d.set=!0,d.selection=!0,c=d.content=c,d.no_events||w.editor.fire("BeforeSetContent",d),c=d.content,z.insertNode){c+='<span id="__caret">_</span>',z.startContainer==y&&z.endContainer==y?y.body.innerHTML=c:(z.deleteContents(),0===y.body.childNodes.length?y.body.innerHTML=c:z.createContextualFragment?z.insertNode(z.createContextualFragment(c)):(A=y.createDocumentFragment(),x=y.createElement("div"),A.appendChild(x),x.outerHTML=c,z.insertNode(A))),u=w.dom.get("__caret"),z=y.createRange(),z.setStartBefore(u),z.setEndBefore(u),w.setRng(z),w.dom.remove("__caret");try{w.setRng(z)}catch(B){}}else{z.item&&(y.execCommand("Delete",!1,null),z=w.getRng()),/^\s+/.test(c)?(z.pasteHTML('<span id="__mce_tmp">_</span>'+c),w.dom.remove("__mce_tmp")):z.pasteHTML(c)}d.no_events||w.editor.fire("SetContent",d)},getStart:function(){var d=this,c=d.getRng(),l,s,u,a;if(c.duplicate||c.item){if(c.item){return c.item(0)}for(u=c.duplicate(),u.collapse(1),l=u.parentElement(),l.ownerDocument!==d.dom.doc&&(l=d.dom.getRoot()),s=a=c.parentElement();a=a.parentNode;){if(a==l){l=s;break}}return l}return l=c.startContainer,1==l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[Math.min(l.childNodes.length-1,c.startOffset)]),l&&3==l.nodeType?l.parentNode:l},getEnd:function(){var c=this,a=c.getRng(),d,i;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),d=a.parentElement(),d.ownerDocument!==c.dom.doc&&(d=c.dom.getRoot()),d&&"BODY"==d.nodeName?d.lastChild||d:d):(d=a.endContainer,i=a.endOffset,1==d.nodeType&&d.hasChildNodes()&&(d=d.childNodes[i>0?i-1:i]),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(w,y){function A(c,a){var d=0;return k(H.select(c),function(i,l){i==a&&(d=l)}),d}function G(c){function a(e){var l,u,L,d=e?"start":"end";l=c[d+"Container"],u=c[d+"Offset"],1==l.nodeType&&"TR"==l.nodeName&&(L=l.childNodes,l=L[Math.min(e?u:u-1,L.length-1)],l&&(u=e?0:l.childNodes.length,c["set"+(e?"Start":"End")](l,u)))}return a(!0),a(),c}function z(){function a(L,N){var Q=L[N?"startContainer":"endContainer"],r=L[N?"startOffset":"endOffset"],o=[],P,O,M=0;if(3==Q.nodeType){if(y){for(P=Q.previousSibling;P&&3==P.nodeType;P=P.previousSibling){r+=P.nodeValue.length}}o.push(r)}else{O=Q.childNodes,r>=O.length&&O.length&&(M=1,r=Math.max(0,O.length-1)),o.push(F.dom.nodeIndex(O[r],y)+M)}for(;Q&&Q!=d;Q=Q.parentNode){o.push(F.dom.nodeIndex(Q,y))}return o}var c=F.getRng(!0),d=H.getRoot(),l={};return l.start=a(c,!0),F.isCollapsed()||(l.end=a(c)),l}var F=this,H=F.dom,K,x,s,D,C,J,E="&#xFEFF;",B;if(2==w){return J=F.getNode(),C=J.nodeName,"IMG"==C?{name:C,index:A(C,J)}:F.tridentSel?F.tridentSel.getBookmark(w):z()}if(w){return{rng:F.getRng()}}if(K=F.getRng(),s=H.uniqueId(),D=F.isCollapsed(),B="overflow:hidden;line-height:0px",K.duplicate||K.item){if(K.item){return J=K.item(0),C=J.nodeName,{name:C,index:A(C,J)}}x=K.duplicate();try{K.collapse(),K.pasteHTML('<span data-mce-type="bookmark" id="'+s+'_start" style="'+B+'">'+E+"</span>"),D||(x.collapse(!1),K.moveToElementText(x.parentElement()),0===K.compareEndPoints("StartToEnd",x)&&x.move("character",-1),x.pasteHTML('<span data-mce-type="bookmark" id="'+s+'_end" style="'+B+'">'+E+"</span>"))}catch(I){return null}}else{if(J=F.getNode(),C=J.nodeName,"IMG"==C){return{name:C,index:A(C,J)}}x=G(K.cloneRange()),D||(x.collapse(!1),x.insertNode(H.create("span",{"data-mce-type":"bookmark",id:s+"_end",style:B},E))),K=G(K),K.collapse(!0),K.insertNode(H.create("span",{"data-mce-type":"bookmark",id:s+"_start",style:B},E))}return F.moveToBookmark({id:s,keep:1}),{id:s}},moveToBookmark:function(d){function s(e){var E=d[e?"start":"end"],F,G,a,c;if(E){for(a=E[0],G=l,F=E.length-1;F>=1;F--){if(c=G.childNodes,E[F]>c.length-1){return}G=c[E[F]]}3===G.nodeType&&(a=Math.min(E[0],G.nodeValue.length)),1===G.nodeType&&(a=Math.min(E[0],G.childNodes.length)),e?C.setStart(G,a):C.setEnd(G,a)}return !0}function w(o){var F=A.get(d.id+"_"+o),H,I,e,G,E=d.keep;if(F&&(H=F.parentNode,"start"==o?(E?(H=F.firstChild,I=1):I=A.nodeIndex(F),y=D=H,z=x=I):(E?(H=F.firstChild,I=1):I=A.nodeIndex(F),D=H,x=I),!E)){for(G=F.previousSibling,e=F.nextSibling,k(v(F.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});F=A.get(d.id+"_"+o);){A.remove(F,1)}G&&e&&G.nodeType==e.nodeType&&3==G.nodeType&&!m&&(I=G.nodeValue.length,G.appendData(e.nodeValue),A.remove(e),"start"==o?(y=D=G,z=x=I):(D=G,x=I))}}function B(a){return !A.isBlock(a)||a.innerHTML||b||(a.innerHTML='<br data-mce-bogus="1" />'),a}var u=this,A=u.dom,C,l,y,D,z,x;if(d){if(d.start){if(C=A.createRng(),l=A.getRoot(),u.tridentSel){return u.tridentSel.moveToBookmark(d)}s(!0)&&s()&&u.setRng(C)}else{d.id?(w("start"),w("end"),y&&(C=A.createRng(),C.setStart(B(y),z),C.setEnd(B(D),x),u.setRng(C))):d.name?u.select(A.select(d.name)[d.index]):d.rng&&u.setRng(d.rng)}}},select:function(l,u){function w(a,i){var o=new f(a,a);do{if(3==a.nodeType&&0!==g(a.nodeValue).length){return i?e.setStart(a,0):e.setEnd(a,a.nodeValue.length),void 0}if("BR"==a.nodeName){return i?e.setStartBefore(a):e.setEndBefore(a),void 0}}while(a=i?o.next():o.prev())}var x=this,c=x.dom,e=c.createRng(),d;if(l){if(!u&&x.controlSelection.controlSelect(l)){return}d=c.nodeIndex(l),e.setStart(l.parentNode,d),e.setEnd(l.parentNode,d+1),u&&(w(l,1),w(l)),x.setRng(e)}return l},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(c){var a=this,d=a.getRng(),i;d.item&&(i=d.item(0),d=a.win.document.body.createTextRange(),d.moveToElementText(i)),d.collapse(!!c),a.setRng(d)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(s){var l=this,u,w,x,c=l.win.document;if(s&&l.tridentSel){return l.tridentSel.getRangeAt(0)}try{(u=l.getSel())&&(w=u.rangeCount>0?u.getRangeAt(0):u.createRange?u.createRange():c.createRange())}catch(d){}return b&&w&&w.setStart&&c.selection.createRange().item&&(x=c.selection.createRange().item(0),w=c.createRange(),w.setStartBefore(x),w.setEndAfter(x)),w||(w=c.createRange?c.createRange():c.body.createTextRange()),w.setStart&&9===w.startContainer.nodeType&&w.collapsed&&(x=l.dom.getRoot(),w.setStart(x,0),w.setEnd(x,0)),l.selectedRange&&l.explicitRange&&(0===w.compareBoundaryPoints(w.START_TO_START,l.selectedRange)&&0===w.compareBoundaryPoints(w.END_TO_END,l.selectedRange)?w=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),w},setRng:function(c,a){var d=this,l;if(c.select){try{c.select()}catch(o){}}else{if(d.tridentSel){if(c.cloneRange){try{return d.tridentSel.addRange(c),void 0}catch(o){}}}else{if(l=d.getSel()){d.explicitRange=c;try{l.removeAllRanges()}catch(o){}l.addRange(c),a===!1&&l.extend&&(l.collapse(c.endContainer,c.endOffset),l.extend(c.startContainer,c.startOffset)),d.selectedRange=l.rangeCount>0?l.getRangeAt(0):null}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function w(i,a){for(var o=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||o}var u=this,x=u.getRng(),y,z=x.startContainer,c=x.endContainer,l=x.startOffset,d=x.endOffset;return x?x.setStart?(y=x.commonAncestorContainer,!x.collapsed&&(z==c&&2>d-l&&z.hasChildNodes()&&(y=z.childNodes[l]),3===z.nodeType&&3===c.nodeType&&(z=z.length===l?w(z.nextSibling,!0):z.parentNode,c=0===d?w(c.previousSibling,!1):c.parentNode,z&&z===c))?z:y&&3==y.nodeType?y.parentNode:y):x.item?x.item(0):x.parentElement():u.dom.getRoot()},getSelectedBlocks:function(u,w){var y=this,z=y.dom,c,e,d=[];if(e=z.getRoot(),u=z.getParent(u||y.getStart(),z.isBlock),w=z.getParent(w||y.getEnd(),z.isBlock),u&&u!=e&&d.push(u),u&&w&&u!=w){c=u;for(var x=new f(u,e);(c=x.next())&&c!=w;){z.isBlock(c)&&d.push(c)}}return w&&u!=w&&w!=e&&d.push(w),d},isForward:function(){var c=this.dom,a=this.getSel(),d,i;return a&&a.anchorNode&&a.focusNode?(d=c.createRng(),d.setStart(a.anchorNode,a.anchorOffset),d.collapse(!0),i=c.createRng(),i.setStart(a.focusNode,a.focusOffset),i.collapse(!0),d.compareBoundaryPoints(d.START_TO_START,i)<=0):!0},normalize:function(){function c(o){function A(s,u){for(var E=new f(s,w.getParent(s.parentNode,w.isBlock)||C);s=E[u?"prev":"next"]();){if("BR"===s.nodeName){return !0}}}function x(u,s){return u.previousSibling&&u.previousSibling.nodeName==s}function D(u,E){var F,s;for(E=E||n,F=new f(E,w.getParent(E.parentNode,w.isBlock)||C);z=F[u?"prev":"next"]();){if(3===z.nodeType&&z.nodeValue.length>0){return n=z,i=u?z.nodeValue.length:0,l=!0,void 0}if(w.isBlock(z)||r[z.nodeName.toLowerCase()]){return}s=z}a&&s&&(n=s,l=!0,i=0)}var n,i,y,w=d.dom,C=w.getRoot(),z,r,B;if(n=e[(o?"start":"end")+"Container"],i=e[(o?"start":"end")+"Offset"],r=w.schema.getNonEmptyElements(),9===n.nodeType&&(n=w.getRoot(),i=0),n===C){if(o&&(z=n.childNodes[i>0?i-1:0],z&&(B=z.nodeName.toLowerCase(),r[z.nodeName]||"TABLE"==z.nodeName))){return}if(n.hasChildNodes()&&(i=Math.min(!o&&i>0?i-1:i,n.childNodes.length-1),n=n.childNodes[i],i=0,n.hasChildNodes()&&!/TABLE/.test(n.nodeName))){z=n,y=new f(n,C);do{if(3===z.nodeType&&z.nodeValue.length>0){i=o?0:z.nodeValue.length,n=z,l=!0;break}if(r[z.nodeName.toLowerCase()]){i=w.nodeIndex(z),n=z.parentNode,"IMG"!=z.nodeName||o||i++,l=!0;break}}while(z=o?y.next():y.prev())}}a&&(3===n.nodeType&&0===i&&D(!0),1===n.nodeType&&(z=n.childNodes[i],!z||"BR"!==z.nodeName||x(z,"A")||A(z)||A(z,!0)||D(!0,n.childNodes[i]))),o&&!a&&3===n.nodeType&&i===n.nodeValue.length&&D(!1),l&&e["set"+(o?"Start":"End")](n,i)}var d=this,e,l,a;b||(e=d.getRng(),a=e.collapsed,c(!0),a||c(),l&&(a&&e.collapse(!0),d.setRng(e,d.isForward())))},selectorChanged:function(c,a){var d=this,i;return d.selectorChangedData||(d.selectorChangedData={},i={},d.editor.on("NodeChange",function(s){var r=s.element,u=d.dom,l=u.getParents(r,null,u.getRoot()),n={};k(d.selectorChangedData,function(w,o){k(l,function(e){return u.is(e,o)?(i[o]||(k(w,function(x){x(!0,{node:e,selector:o,parents:l})}),i[o]=w),n[o]=w,!1):void 0})}),k(i,function(o,w){n[w]||(delete i[w],k(o,function(x){x(!1,{node:r,selector:w,parents:l})}))})})),d.selectorChangedData[c]||(d.selectorChangedData[c]=[]),d.selectorChangedData[c].push(a),d},scrollIntoView:function(c){var a,d,l=this,o=l.dom;d=o.getViewPort(l.editor.getWin()),a=o.getPos(c).y,(a<d.y||a+25>d.y+d.h)&&l.editor.getWin().scrollTo(0,a<d.y?a:a-d.h+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},t}),aG(bw,[bG],function(b){function a(d){this.walk=function(k,E){function n(g){var f;return f=g[0],3===f.nodeType&&f===I&&j>=f.nodeValue.length&&g.splice(0,1),f=g[g.length-1],0===z&&g.length>0&&f===e&&3===f.nodeType&&g.splice(g.length-1,1),g}function D(g,f,h){for(var i=[];g&&g!=h;g=g[f]){i.push(g)}return i}function F(g,f){do{if(g.parentNode==f){return g}g=g.parentNode}while(g)}function x(h,g,i){var f=i?"nextSibling":"previousSibling";for(q=h,G=q.parentNode;q&&q!=g;q=G){G=q.parentNode,A=D(q==h?q:q[f],f),A.length&&(i||A.reverse(),E(n(A)))}}var I=k.startContainer,j=k.startOffset,e=k.endContainer,z=k.endOffset,w,H,B,q,G,A,C;if(C=d.select("td.mce-item-selected,th.mce-item-selected"),C.length>0){return c(C,function(f){E([f])}),void 0}if(1==I.nodeType&&I.hasChildNodes()&&(I=I.childNodes[j]),1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(z-1,e.childNodes.length-1)]),I==e){return E(n([I]))}for(w=d.findCommonAncestor(I,e),q=I;q;q=q.parentNode){if(q===e){return x(I,w,!0)}if(q===w){break}}for(q=e;q;q=q.parentNode){if(q===I){return x(e,w)}if(q===w){break}}H=F(I,w)||I,B=F(e,w)||e,x(I,H,!0),A=D(H==I?H:H.nextSibling,"nextSibling",B==e?B.nextSibling:B),A.length&&E(n(A)),x(e,B)},this.split=function(h){function g(m,i){return m.splitText(i)}var j=h.startContainer,k=h.startOffset,l=h.endContainer,f=h.endOffset;return j==l&&3==j.nodeType?k>0&&k<j.nodeValue.length&&(l=g(j,k),j=l.previousSibling,f>k?(f-=k,j=l=g(l,f).previousSibling,f=l.nodeValue.length,k=0):f=0):(3==j.nodeType&&k>0&&k<j.nodeValue.length&&(j=g(j,k),k=0),3==l.nodeType&&f>0&&f<l.nodeValue.length&&(l=g(l,f).previousSibling,f=l.nodeValue.length)),{startContainer:j,startOffset:k,endContainer:l,endOffset:f}}}var c=b.each;return a.compareRanges=function(f,d){if(f&&d){if(!f.item&&!f.duplicate){return f.startContainer==d.startContainer&&f.startOffset==d.startOffset}if(f.item&&d.item&&f.item(0)===d.item(0)){return !0}if(f.isEqual&&d.isEqual&&d.isEqual(f)){return !0}}return !1},a}),aG(bH,[bn,bw,bG],function(b,a,c){return function(cv){function b5(d){return d.nodeType&&(d=d.nodeName),!!cv.schema.getTextBlockElements()[d.toLowerCase()]}function b8(f,d){return cb.getParents(f,d,cb.getRoot())}function at(d){return 1===d.nodeType&&"_mce_caret"===d.id}function co(){cE({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(f,d,g){cu(g,function(h,i){cb.setAttrib(f,i,h)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cu("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(d){cE(d,{block:d,remove:"all"})}),cE(cv.settings.formats)}function cA(){cv.addShortcut("ctrl+b","bold_desc","Bold"),cv.addShortcut("ctrl+i","italic_desc","Italic"),cv.addShortcut("ctrl+u","underline_desc","Underline");for(var d=1;6>=d;d++){cv.addShortcut("ctrl+"+d,"",["FormatBlock",!1,"h"+d])}cv.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),cv.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),cv.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function bX(d){return d?cB[d]:cB}function cE(f,d){f&&("string"!=typeof f?cu(f,function(h,g){cE(g,h)}):(d=d.length?d:[d],cu(d,function(g){g.deep===ci&&(g.deep=!g.selector),g.split===ci&&(g.split=!g.selector||g.inline),g.remove===ci&&g.selector&&!g.inline&&(g.remove="none"),g.selector&&g.inline&&(g.mixed=!0,g.block_expand=!0),"string"==typeof g.classes&&(g.classes=g.classes.split(/\s+/))}),cB[f]=d))}function cG(f){var d;return cv.dom.getParent(f,function(g){return d=cv.dom.getStyle(g,"text-decoration"),d&&"none"!==d}),d}function cy(f){var d;1===f.nodeType&&f.parentNode&&1===f.parentNode.nodeType&&(d=cG(f.parentNode),cv.dom.getStyle(f,"color")&&d?cv.dom.setStyle(f,"text-decoration",d):cv.dom.getStyle(f,"textdecoration")===d&&cv.dom.setStyle(f,"text-decoration",null))}function cC(i,j,z){function p(h,d){d=d||k,h&&(d.onformat&&d.onformat(h,d,j,z),cu(d.styles,function(l,m){cb.setStyle(h,m,cc(l,j))}),cu(d.attributes,function(l,m){cb.setAttrib(h,m,cc(l,j))}),cu(d.classes,function(l){l=cc(l,j),cb.hasClass(h,l)||cb.addClass(h,l)}))}function B(){function m(l,s){var y=new b(s);for(z=y.current();z;z=y.prev()){if(z.childNodes.length>1||z==l||"BR"==z.tagName){return z}}}var o=cv.selection.getRng(),v=o.startContainer,h=o.endContainer;if(v!=h&&0===o.endOffset){var d=m(v,h),u=3==d.nodeType?d.length:d.childNodes.length;o.setEnd(d,u)}return o}function g(h,v,C,F,y){var E=[],G=-1,D,H=-1,m=-1,d;return cu(h.childNodes,function(o,l){return"UL"===o.nodeName||"OL"===o.nodeName?(G=l,D=o,!1):void 0}),cu(h.childNodes,function(l,o){"SPAN"===l.nodeName&&"bookmark"==cb.getAttrib(l,"data-mce-type")&&(l.id==v.id+"_start"?H=o:l.id==v.id+"_end"&&(m=o))}),0>=G||G>H&&m>G?(cu(ck(h.childNodes),y),0):(d=cb.clone(C,cf),cu(ck(h.childNodes),function(o,l){(G>H&&G>l||H>G&&l>G)&&(E.push(o),o.parentNode.removeChild(o))}),G>H?h.insertBefore(d,D):H>G&&h.insertBefore(d,D.nextSibling),F.push(d),cu(E,function(l){d.appendChild(l)}),d)}function q(s,C,m){var y=[],u,h,v=!0;u=k.inline||k.block,h=cb.create(u),p(h),t.walk(s,function(l){function o(F){var H,E,G,D,I;return I=v,H=F.nodeName.toLowerCase(),E=F.parentNode.nodeName.toLowerCase(),1===F.nodeType&&cp(F)&&(I=v,v="true"===cp(F),D=!0),b9(H,"br")?(d=0,k.block&&cb.remove(F),void 0):k.wrapper&&ch(F,i,j)?(d=0,void 0):v&&!D&&k.block&&!k.wrapper&&b5(H)&&b3(E,u)?(F=cb.rename(F,u),p(F),y.push(F),d=0,void 0):k.selector&&(cu(w,function(J){"collapsed" in J&&J.collapsed!==A||cb.is(F,J.selector)&&!at(F)&&(p(F,J),G=!0)}),!k.inline||G)?(d=0,void 0):(!v||D||!b3(u,H)||!b3(E,u)||!m&&3===F.nodeType&&1===F.nodeValue.length&&65279===F.nodeValue.charCodeAt(0)||at(F)||k.inline&&b2(F)?"li"==H&&C?d=g(F,C,h,y,o):(d=0,cu(ck(F.childNodes),o),D&&(v=I),d=0):(d||(d=cb.clone(h,cf),F.parentNode.insertBefore(d,F),y.push(d)),d.appendChild(F)),void 0)}var d;cu(l,o)}),k.wrap_links===!1&&cu(y,function(l){function d(o){var D,E,F;if("A"===o.nodeName){for(E=cb.clone(h,cf),y.push(E),F=ck(o.childNodes),D=0;D<F.length;D++){E.appendChild(F[D])}o.appendChild(E)}cu(ck(o.childNodes),d)}d(l)}),cu(y,function(l){function D(F){var o=0;return cu(F.childNodes,function(G){cs(G)||ce(G)||o++}),o}function E(F){var o,G;return cu(F.childNodes,function(H){return 1!=H.nodeType||ce(H)||at(H)?void 0:(o=H,cf)}),o&&bY(o,k)&&(G=cb.clone(o,cf),p(G),cb.replace(G,F,bZ),cb.remove(o,1)),G||F}var d;if(d=D(l),(y.length>1||!b2(l))&&0===d){return cb.remove(l,1),void 0}if(k.inline||k.wrapper){if(k.exact||1!==d||(l=E(l)),cu(w,function(o){cu(cb.select(o.inline,l),function(F){var G;if(o.wrap_links===!1){G=F.parentNode;do{if("A"===G.nodeName){return}}while(G=G.parentNode)}cw(o,j,F,o.exact?F:null)})}),ch(l.parentNode,i,j)){return cb.remove(l,1),l=0,bZ}k.merge_with_parents&&cb.getParent(l.parentNode,function(o){return ch(o,i,j)?(cb.remove(l,1),l=0,bZ):void 0}),l&&k.merge_siblings!==!1&&(l=cn(bV(l),l),l=cn(l,bV(l,bZ)))}})}var w=bX(i),k=w[0],r,x,A=!z&&b4.isCollapsed();if(k){if(z){z.nodeType?(x=cb.createRng(),x.setStartBefore(z),x.setEndAfter(z),q(cr(x,w),null,!0)):q(z,null,!0)}else{if(A&&k.inline&&!cb.select("td.mce-item-selected,th.mce-item-selected").length){bt("apply",i,j)}else{var f=cv.selection.getNode();b7||!w[0].defaultBlock||cb.getParent(f,cb.isBlock)||cC(w[0].defaultBlock),cv.selection.setRng(B()),r=b4.getBookmark(),q(cr(b4.getRng(bZ),w),r),k.styles&&(k.styles.color||k.styles.textDecoration)&&(cd(f,cy,"childNodes"),cy(f)),b4.moveToBookmark(r),cD(b4.getRng(bZ)),cv.nodeChanged()}}}}function cm(g,j,o){function k(l){var m,p,f,i,h;if(1===l.nodeType&&cp(l)&&(i=z,z="true"===cp(l),h=!0),m=ck(l.childNodes),z&&!h){for(p=0,f=B.length;f>p&&!cw(B[p],j,l,l);p++){}}if(w.deep&&m.length){for(p=0,f=m.length;f>p;p++){k(m[p])}h&&(z=i)}}function A(f){var h;return cu(b8(f.parentNode).reverse(),function(l){var m;h||"_start"==l.id||"_end"==l.id||(m=ch(l,g,j),m&&m.split!==!1&&(h=l))}),h}function v(h,y,F,p){var E,G,D,H,m,f;if(h){for(f=h.parentNode,E=y.parentNode;E&&E!=f;E=E.parentNode){for(G=cb.clone(E,cf),m=0;m<B.length;m++){if(cw(B[m],j,G,G)){G=0;break}}G&&(D&&G.appendChild(D),H||(H=G),D=G)}!p||w.mixed&&b2(h)||(y=cb.split(h,y)),D&&(F.parentNode.insertBefore(D,F),H.appendChild(F))}return y}function C(f){return v(A(f),f,f,!0)}function d(h){var f=cb.get(h?"_start":"_end"),i=f[h?"firstChild":"lastChild"];return ce(i)&&(i=i[h?"firstChild":"lastChild"]),cb.remove(f,!0),i}function r(h){var f,i;h=cr(h,B,bZ),w.split&&(f=cI(h,bZ),i=cI(h),f!=i?(/^(TR|TD)$/.test(f.nodeName)&&f.firstChild&&(f="TD"==f.nodeName?f.firstChild||f:f.firstChild.firstChild||f),f=cj(f,"span",{id:"_start","data-mce-type":"bookmark"}),i=cj(i,"span",{id:"_end","data-mce-type":"bookmark"}),C(f),C(i),f=d(bZ),i=d()):f=i=C(f),h.startContainer=f.parentNode,h.startOffset=cx(f),h.endContainer=i.parentNode,h.endOffset=cx(i)+1),t.walk(h,function(l){cu(l,function(m){k(m),1===m.nodeType&&"underline"===cv.dom.getStyle(m,"text-decoration")&&m.parentNode&&"underline"===cG(m.parentNode)&&cw({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,m)})})}var B=bX(g),w=B[0],q,x,z=!0;return o?(o.nodeType?(x=cb.createRng(),x.setStartBefore(o),x.setEndAfter(o),r(x)):r(o),void 0):(b4.isCollapsed()&&w.inline&&!cb.select("td.mce-item-selected,th.mce-item-selected").length?bt("remove",g,j):(q=b4.getBookmark(),r(b4.getRng(bZ)),b4.moveToBookmark(q),w.inline&&cF(g,j,b4.getStart())&&cD(b4.getRng(!0)),cv.nodeChanged()),void 0)}function cl(f,d,g){var h=bX(f);!cF(f,d,g)||"toggle" in h[0]&&!h[0].toggle?cC(f,d,g):cm(f,d,g)}function ch(d,f,h,m){function g(x,w,z){var r,v,u=w[z],y;if(w.onmatch){return w.onmatch(x,w,z)}if(u){if(u.length===ci){for(r in u){if(u.hasOwnProperty(r)){if(v="attributes"===z?cb.getAttrib(x,r):bW(x,r),m&&!v&&!w.exact){return}if((!m||w.exact)&&!b9(v,cH(cc(u[r],h),r))){return}}}}else{for(y=0;y<u.length;y++){if("attributes"===z?cb.getAttrib(x,u[y]):bW(x,u[y])){return w}}}}return w}var k=bX(f),p,j,q;if(k&&d){for(j=0;j<k.length;j++){if(p=k[j],bY(d,p)&&g(d,p,"attributes")&&g(d,p,"styles")){if(q=p.classes){for(j=0;j<q.length;j++){if(!cb.hasClass(d,q[j])){return}}}return p}}}}function cF(f,d,g){function h(i){return i=cb.getParent(i,function(k){return !!ch(k,f,d,!0)}),ch(i,f,d)}var j;return g?h(g):(g=b4.getNode(),h(g)?bZ:(j=b4.getStart(),j!=g&&h(j)?bZ:cf))}function cg(f,d){var g,h=[],j={};return g=b4.getStart(),cb.getParent(g,function(l){var i,k;for(i=0;i<f.length;i++){k=f[i],!j[k]&&ch(l,k,d)&&(j[k]=!0,h.push(k))}},cb.getRoot()),h}function ca(h){var g=bX(h),j,k,l,f,d;if(g){for(j=b4.getStart(),k=b8(j),f=g.length-1;f>=0;f--){if(d=g[f].selector,!d){return bZ}for(l=k.length-1;l>=0;l--){if(cb.is(k[l],d)){return bZ}}}}return cf}function b1(f,d,g){var h;return cz||(cz={},h={},cv.on("NodeChange",function(j){var i=b8(j.element),k={};cu(cz,function(l,m){cu(i,function(p){return ch(p,m,{},l.similar)?(h[m]||(cu(l,function(o){o(!0,{node:p,format:m,parents:i})}),h[m]=l),k[m]=l,!1):void 0})}),cu(h,function(m,l){k[l]||(delete h[l],cu(m,function(o){o(!1,{node:j.element,format:l,parents:i})}))})})),cu(f.split(","),function(i){cz[i]||(cz[i]=[],cz[i].similar=g),cz[i].push(d)}),this}function bY(f,d){return b9(f,d.inline)?bZ:b9(f,d.block)?bZ:d.selector?1==f.nodeType&&cb.is(f,d.selector):void 0}function b9(f,d){return f=f||"",d=d||"",f=""+(f.nodeName||f),d=""+(d.nodeName||d),f.toLowerCase()==d.toLowerCase()}function bW(f,d){return cH(cb.getStyle(f,d),d)}function cH(f,d){return("color"==d||"backgroundColor"==d)&&(f=cb.toHex(f)),"fontWeight"==d&&700==f&&(f="bold"),"fontFamily"==d&&(f=f.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+f}function cc(f,d){return"string"!=typeof f?f=f(d):d&&(f=f.replace(/%(\w+)/g,function(g,h){return d[h]||g})),f}function cs(d){return d&&3===d.nodeType&&/^([\t \r\n]+|)$/.test(d.nodeValue)}function cj(f,d,g){var h=cb.create(d,g);return f.parentNode.insertBefore(h,f),h.appendChild(f),h}function cr(k,o,D){function w(l){function h(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var m,p,d,g,f;if(m=p=l?E:B,g=l?"previousSibling":"nextSibling",f=cb.getRoot(),3==m.nodeType&&!cs(m)&&(l?z>0:C<m.nodeValue.length)){return m}for(;;){if(!o[0].block_expand&&b2(p)){return p}for(d=p[g];d;d=d[g]){if(!ce(d)&&!cs(d)&&!h(d)){return p}}if(p.parentNode==f){m=p;break}p=p.parentNode}return m}function G(f,d){for(d===ci&&(d=3===f.nodeType?f.length:f.childNodes.length);f&&f.hasChildNodes();){f=f.childNodes[d],f&&(d=3===f.nodeType?f.length:f.childNodes.length)}return{node:f,offset:d}}function j(f){for(var d=f;d;){if(1===d.nodeType&&cp(d)){return"false"===cp(d)?d:f}d=d.parentNode}return f}function i(g,m,y){function d(u,s){var H,I,l=u.nodeValue;return"undefined"==typeof s&&(s=y?l.length:0),y?(H=l.lastIndexOf(" ",s),I=l.lastIndexOf("\xa0",s),H=H>I?H:I,-1===H||D||H++):(H=l.indexOf(" ",s),I=l.indexOf("\xa0",s),H=-1!==H&&(-1===I||I>H)?H:I),H}var f,v,p,h;if(3===g.nodeType){if(p=d(g,m),-1!==p){return{container:g,offset:p}}h=g}for(f=new b(g,cb.getParent(g,b2)||cv.getBody());v=f[y?"prev":"next"]();){if(3===v.nodeType){if(h=v,p=d(v),-1!==p){return{container:v,offset:p}}}else{if(b2(v)){break}}}return h?(m=y?0:h.length,{container:h,offset:m}):void 0}function x(g,m){var p,f,d,h;for(3==g.nodeType&&0===g.nodeValue.length&&g[m]&&(g=g[m]),p=b8(g),f=0;f<p.length;f++){for(d=0;d<o.length;d++){if(h=o[d],!("collapsed" in h&&h.collapsed!==k.collapsed)&&cb.is(p[f],h.selector)){return p[f]}}}return g}function r(f,d){var g;if(o[0].wrapper||(g=cb.getParent(f,o[0].block)),g||(g=cb.getParent(3==f.nodeType?f.parentNode:f,b5)),g&&o[0].wrapper&&(g=b8(g,"ul,ol").reverse()[0]||g),!g){for(g=f;g[d]&&!b2(g[d])&&(g=g[d],!b9(g,"br"));){}}return g||f}var F,A,q,E=k.startContainer,z=k.startOffset,B=k.endContainer,C=k.endOffset;if(1==E.nodeType&&E.hasChildNodes()&&(F=E.childNodes.length-1,E=E.childNodes[z>F?F:z],3==E.nodeType&&(z=0)),1==B.nodeType&&B.hasChildNodes()&&(F=B.childNodes.length-1,B=B.childNodes[C>F?F:C-1],3==B.nodeType&&(C=B.nodeValue.length)),E=j(E),B=j(B),(ce(E.parentNode)||ce(E))&&(E=ce(E)?E:E.parentNode,E=E.nextSibling||E,3==E.nodeType&&(z=0)),(ce(B.parentNode)||ce(B))&&(B=ce(B)?B:B.parentNode,B=B.previousSibling||B,3==B.nodeType&&(C=B.length)),o[0].inline&&(k.collapsed&&(q=i(E,z,!0),q&&(E=q.container,z=q.offset),q=i(B,C),q&&(B=q.container,C=q.offset)),A=G(B,C),A.node)){for(;A.node&&0===A.offset&&A.node.previousSibling;){A=G(A.node.previousSibling)}A.node&&A.offset>0&&3===A.node.nodeType&&" "===A.node.nodeValue.charAt(A.offset-1)&&A.offset>1&&(B=A.node,B.splitText(A.offset-1))}return(o[0].inline||o[0].block_expand)&&(o[0].inline&&3==E.nodeType&&0!==z||(E=w(!0)),o[0].inline&&3==B.nodeType&&C!==B.nodeValue.length||(B=w())),o[0].selector&&o[0].expand!==cf&&!o[0].inline&&(E=x(E,"previousSibling"),B=x(B,"nextSibling")),(o[0].block||o[0].selector)&&(E=r(E,"previousSibling"),B=r(B,"nextSibling"),o[0].block&&(b2(E)||(E=w(!0)),b2(B)||(B=w()))),1==E.nodeType&&(z=cx(E),E=E.parentNode),1==B.nodeType&&(C=cx(B)+1,B=B.parentNode),{startContainer:E,startOffset:z,endContainer:B,endOffset:C}}function cw(h,g,j,k){var l,d,f;if(!bY(j,h)){return cf}if("all"!=h.remove){for(cu(h.styles,function(m,o){m=cH(cc(m,g),o),"number"==typeof o&&(o=m,k=0),(!k||b9(bW(k,o),m))&&cb.setStyle(j,o,""),f=1}),f&&""===cb.getAttrib(j,"style")&&(j.removeAttribute("style"),j.removeAttribute("data-mce-style")),cu(h.attributes,function(p,q){var m;if(p=cc(p,g),"number"==typeof q&&(q=p,k=0),!k||b9(cb.getAttrib(k,q),p)){if("class"==q&&(p=cb.getAttrib(j,q),p&&(m="",cu(p.split(/\s+/),function(i){/mce\w+/.test(i)&&(m+=(m?" ":"")+i)}),m))){return cb.setAttrib(j,q,m),void 0}"class"==q&&j.removeAttribute("className"),cq.test(q)&&j.removeAttribute("data-mce-"+q),j.removeAttribute(q)}}),cu(h.classes,function(i){i=cc(i,g),(!k||cb.hasClass(k,i))&&cb.removeClass(j,i)}),d=cb.getAttribs(j),l=0;l<d.length;l++){if(0!==d[l].nodeName.indexOf("_")){return cf}}}return"none"!=h.remove?(ct(j,h),bZ):void 0}function ct(f,d){function g(k,i,l){return k=bV(k,i,l),!k||"BR"==k.nodeName||b2(k)}var h=f.parentNode,j;d.block&&(b7?h==cb.getRoot()&&(d.list_block&&b9(f,d.list_block)||cu(ck(f.childNodes),function(i){b3(b7,i.nodeName.toLowerCase())?j?j.appendChild(i):j=cj(i,b7):j=0})):b2(f)&&!b2(h)&&(g(f,cf)||g(f.firstChild,bZ,1)||f.insertBefore(cb.create("br"),f.firstChild),g(f,bZ)||g(f.lastChild,cf,1)||f.appendChild(cb.create("br")))),d.selector&&d.inline&&!b9(d.inline,f)||cb.remove(f,1)}function bV(f,d,g){if(f){for(d=d?"nextSibling":"previousSibling",f=g?f:f[d];f;f=f[d]){if(1==f.nodeType||!cs(f)){return f}}}}function ce(d){return d&&1==d.nodeType&&"bookmark"==d.getAttribute("data-mce-type")}function cn(g,f){function h(l,i){function m(q){var p={};return cu(cb.getAttribs(q),function(s){var u=s.nodeName.toLowerCase();0!==u.indexOf("_")&&"style"!==u&&(p[u]=cb.getAttrib(q,u))}),p}function o(q,p){var s,u;for(u in q){if(q.hasOwnProperty(u)){if(s=p[u],s===ci){return cf}if(q[u]!=s){return cf}delete p[u]}}for(u in p){if(p.hasOwnProperty(u)){return cf}}return bZ}return l.nodeName!=i.nodeName?cf:o(m(l),m(i))?o(cb.parseStyle(cb.getAttrib(l,"style")),cb.parseStyle(cb.getAttrib(i,"style")))?bZ:cf:cf}function j(l,i){for(k=l;k;k=k[i]){if(3==k.nodeType&&0!==k.nodeValue.length){return l}if(1==k.nodeType&&!ce(k)){return k}}return l}var k,d;if(g&&f&&(g=j(g,"previousSibling"),f=j(f,"nextSibling"),h(g,f))){for(k=g.nextSibling;k&&k!=f;){d=k,k=k.nextSibling,g.appendChild(d)}return cb.remove(f),cu(ck(f.childNodes),function(i){g.appendChild(i)}),g}return f}function cI(g,h){var j,d,f;return j=g[h?"startContainer":"endContainer"],d=g[h?"startOffset":"endOffset"],1==j.nodeType&&(f=j.childNodes.length-1,!h&&d&&d--,j=j.childNodes[d>f?f:d]),3===j.nodeType&&h&&d>=j.nodeValue.length&&(j=new b(j,cv.getBody()).next()||j),3!==j.nodeType||h||0!==d||(j=new b(j,cv.getBody()).prev()||j),j}function bt(h,i,x){function A(f){var d=cb.create("span",{id:w,"data-mce-bogus":!0,style:z?"color:red":""});return f&&d.appendChild(cv.getDoc().createTextNode(b6)),d}function p(f,d){for(;f;){if(3===f.nodeType&&f.nodeValue!==b6||f.childNodes.length>1){return !1}d&&1===f.nodeType&&d.push(f),f=f.firstChild}return !0}function B(d){for(;d;){if(d.id===w){return d}d=d.parentNode}}function g(d){var f;if(d){for(f=new b(d,d),d=f.current();d;d=f.next()){if(3===d.nodeType){return d}}}}function q(f,d){var l,m;if(f){m=b4.getRng(!0),p(f)?(d!==!1&&(m.setStartBefore(f),m.setEndBefore(f)),cb.remove(f)):(l=g(f),l.nodeValue.charAt(0)===b6&&(l=l.deleteData(0,1)),cb.remove(f,1)),b4.setRng(m)}else{if(f=B(b4.getStart()),!f){for(;f=cb.get(w);){q(f,!1)}}}}function k(){var u,o,y,C,m,l,v;u=b4.getRng(!0),C=u.startOffset,l=u.startContainer,v=l.nodeValue,o=B(b4.getStart()),o&&(y=g(o)),v&&C>0&&C<v.length&&/\w/.test(v.charAt(C))&&/\w/.test(v.charAt(C-1))?(m=b4.getBookmark(),u.collapse(!0),u=cr(u,bX(i)),u=t.split(u),cC(i,x,u),b4.moveToBookmark(m)):(o&&y.nodeValue===b6?cC(i,x,o):(o=A(!0),y=o.firstChild,u.insertNode(o),C=1,cC(i,x,o)),b4.setCursorLocation(y,C))}function j(){var y=b4.getRng(!0),C,I,F,K,o,G,E=[],J,D;for(C=y.startContainer,I=y.startOffset,o=C,3==C.nodeType&&((I!=C.nodeValue.length||C.nodeValue===b6)&&(K=!0),o=o.parentNode);o;){if(ch(o,i,x)){G=o;break}o.nextSibling&&(K=!0),E.push(o),o=o.parentNode}if(G){if(K){F=b4.getBookmark(),y.collapse(!0),y=cr(y,bX(i),!0),y=t.split(y),cm(i,x,y),b4.moveToBookmark(F)}else{for(D=A(),o=D,J=E.length-1;J>=0;J--){o.appendChild(cb.clone(E[J],!1)),o=o.firstChild}o.appendChild(cb.doc.createTextNode(b6)),o=o.firstChild;var H=cb.getParent(G,b5);H&&cb.isEmpty(H)?G.parentNode.replaceChild(D,G):cb.insertAfter(D,G),b4.setCursorLocation(o,1)}}}function r(){var d;d=B(b4.getStart()),d&&!cb.isEmpty(d)&&cd(d,function(f){1!=f.nodeType||f.id===w||cb.isEmpty(f)||cb.setAttrib(f,"data-mce-bogus",null)},"childNodes")}var w="_mce_caret",z=cv.settings.caret_debug;cv._hasCaretEvents||(b0=function(){var f=[],d;if(p(B(b4.getStart()),f)){for(d=f.length;d--;){cb.setAttrib(f[d],"data-mce-bogus","1")}}},e=function(f){var d=f.keyCode;q(),(8==d||37==d||39==d)&&q(B(b4.getStart())),r()},cv.on("SetContent",function(d){d.selection&&r()}),cv._hasCaretEvents=!0),"apply"==h?k():j()}function cD(h){var j=h.startContainer,m=h.startOffset,p,d,g,f,k;if(3==j.nodeType&&m>=j.nodeValue.length&&(m=cx(j),j=j.parentNode,p=!0),1==j.nodeType){for(f=j.childNodes,j=f[Math.min(m,f.length-1)],d=new b(j,cb.getParent(j,cb.isBlock)),(m>f.length-1||p)&&d.next(),g=d.current();g;g=d.next()){if(3==g.nodeType&&!cs(g)){return k=cb.create("a",null,b6),g.parentNode.insertBefore(k,g),h.setStart(g,0),b4.setRng(h),cb.remove(k),void 0}}}}var cB={},cb=cv.dom,b4=cv.selection,t=new a(cb),b3=cv.schema.isValidChild,b2=cb.isBlock,b7=cv.settings.forced_root_block,cx=cb.nodeIndex,b6="\ufeff",cq=/^(src|href|style)$/,cf=!1,bZ=!0,cz,ci,cp=cb.getContentEditable,e,b0,cu=c.each,ck=c.grep,cd=c.walk,n=c.extend;n(this,{get:bX,register:cE,apply:cC,remove:cm,toggle:cl,match:cF,matchAll:cg,matchNode:ch,canApply:ca,formatChanged:b1}),co(),cA(),cv.on("BeforeGetContent",function(){b0&&b0()}),cv.on("mouseup keydown",function(d){e&&e(d)})}}),aG(bu,[bl,bG],function(b,a){var c=a.trim,d;return d=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(h){function n(){return c(h.getContent({format:"raw",no_events:1}).replace(d,""))}function e(){g.typing=!1,g.add()}var g,f=0,m=[],k,j;return h.on("init",function(){g.add()}),h.on("BeforeExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&g.beforeChange()}),h.on("ExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&g.add()}),h.on("ObjectResizeStart",function(){g.beforeChange()}),h.on("SaveContent ObjectResized",e),h.dom.bind(h.dom.getRoot(),"dragend",e),h.dom.bind(h.getBody(),"focusout",function(){!h.removed&&g.typing&&e()}),h.on("KeyUp",function(i){var l=i.keyCode;(l>=33&&36>=l||l>=37&&40>=l||45==l||13==l||i.ctrlKey)&&(e(),h.nodeChanged()),(46==l||8==l||b.mac&&(91==l||93==l))&&h.nodeChanged(),j&&g.typing&&(h.isDirty()||(h.isNotDirty=!m[0]||n()==m[0].content),h.fire("TypingUndo"),j=!1,h.nodeChanged())}),h.on("KeyDown",function(l){var i=l.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?(g.typing&&e(),void 0):((16>i||i>20)&&224!=i&&91!=i&&!g.typing&&(g.beforeChange(),g.typing=!0,g.add(),j=!0),void 0)}),h.on("MouseDown",function(){g.typing&&e()}),h.addShortcut("ctrl+z","undo_desc","Undo"),h.addShortcut("ctrl+y","redo_desc","Redo"),h.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||h.nodeChanged()}),g={data:m,typing:!1,beforeChange:function(){k=h.selection.getBookmark(2,!0)},add:function(p){var q,s=h.settings,i;if(p=p||{},p.content=n(),h.fire("BeforeAddUndo",{level:p}).isDefaultPrevented()){return null}if(i=m[f],i&&i.content==p.content){return null}if(m[f]&&(m[f].beforeBookmark=k),s.custom_undo_redo_levels&&m.length>s.custom_undo_redo_levels){for(q=0;q<m.length-1;q++){m[q]=m[q+1]}m.length--,f=m.length}p.bookmark=h.selection.getBookmark(2,!0),f<m.length-1&&(m.length=f+1),m.push(p),f=m.length-1;var l={level:p,lastLevel:i};return h.fire("AddUndo",l),f>0&&(h.fire("change",l),h.isNotDirty=!1),p},undo:function(){var i;return g.typing&&(g.add(),g.typing=!1),f>0&&(i=m[--f],h.setContent(i.content,{format:"raw"}),h.selection.moveToBookmark(i.beforeBookmark),h.fire("undo",{level:i})),i},redo:function(){var i;return f<m.length-1&&(i=m[++f],h.setContent(i.content,{format:"raw"}),h.selection.moveToBookmark(i.bookmark),h.fire("redo",{level:i})),i},clear:function(){m=[],f=0,g.typing=!1,h.fire("ClearUndos")},hasUndo:function(){return f>0||g.typing&&m[0]&&n()!=m[0].content},hasRedo:function(){return f<m.length-1&&!this.typing},transact:function(i){g.beforeChange(),i(),g.add()}}}}),aG(aC,[bn,bl],function(b,a){var c=a.ie;return function(g){function k(U){function b1(p){return p&&m.isBlock(p)&&!/^(TD|TH|CAPTION|FORM)$/.test(p.nodeName)&&!/^(fixed|absolute)/i.test(p.style.position)&&"true"!==m.getContentEditable(p)}function i(r){var p;m.isBlock(r)&&(p=d.getRng(),r.appendChild(m.create("span",null,"\xa0")),d.select(r),r.lastChild.outerHTML="",d.setRng(p))}function bV(u){for(var p=u,v=[],w;p=p.firstChild;){if(m.isBlock(p)){return}1!=p.nodeType||h[p.nodeName.toLowerCase()]||v.push(p)}for(w=v.length;w--;){p=v[w],!p.hasChildNodes()||p.firstChild==p.lastChild&&""===p.firstChild.nodeValue?m.remove(p):"A"==p.nodeName&&" "===(p.innerText||p.textContent)&&m.remove(p)}}function I(v){var w,y,u,p=v,x;if(u=m.createRng(),v.hasChildNodes()){for(w=new b(v,v);y=w.current();){if(3==y.nodeType){u.setStart(y,0),u.setEnd(y,0);break}if(h[y.nodeName.toLowerCase()]){u.setStartBefore(y),u.setEndBefore(y);break}p=y,y=w.next()}y||(u.setStart(p,0),u.setEnd(p,0))}else{"BR"==v.nodeName?v.nextSibling&&m.isBlock(v.nextSibling)?((!bY||9>bY)&&(x=m.create("br"),v.parentNode.insertBefore(x,v)),u.setStartBefore(v),u.setEndBefore(v)):(u.setStartAfter(v),u.setEndAfter(v)):(u.setStart(v,0),u.setEnd(v,0))}d.setRng(u),m.remove(x),d.scrollIntoView(v)}function at(w){var v=W,x,p,u;if(x=w||"TABLE"==X?m.create(w||l):V.cloneNode(!1),u=x,f.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(v.nodeName)){if("_mce_caret"==v.id){continue}p=v.cloneNode(!1),m.setAttrib(p,"id",""),x.hasChildNodes()?(p.appendChild(x.firstChild),x.appendChild(p)):(u=p,x.appendChild(p))}}while(v=v.parentNode)}return c||(u.innerHTML='<br data-mce-bogus="1">'),x}function z(p){var u,v,w;if(3==W.nodeType&&(p?s>0:s<W.nodeValue.length)){return !1}if(W.parentNode==V&&K&&!p){return !0}if(p&&1==W.nodeType&&W==V.firstChild){return !0}if("TABLE"===W.nodeName||W.previousSibling&&"TABLE"==W.previousSibling.nodeName){return K&&!p||!K&&p}for(u=new b(W,V),3==W.nodeType&&(p&&0===s?u.prev():p||s!=W.nodeValue.length||u.next());v=u.current();){if(1===v.nodeType){if(!v.getAttribute("data-mce-bogus")&&(w=v.nodeName.toLowerCase(),h[w]&&"br"!==w)){return !1}}else{if(3===v.nodeType&&!/^[ \t\r\n]*$/.test(v.nodeValue)){return !1}}p?u.prev():u.next()}return !0}function bt(p,v){var B,A,C,x,u,y,w=l||"P";if(A=m.getParent(p,m.isBlock),y=g.getBody().nodeName.toLowerCase(),!A||!b1(A)){if(A=A||G,!A.hasChildNodes()){return B=m.create(w),A.appendChild(B),F.setStart(B,0),F.setEnd(B,0),B}for(x=p;x.parentNode!=A;){x=x.parentNode}for(;x&&!m.isBlock(x);){C=x,x=x.previousSibling}if(C&&j.isValidChild(y,w.toLowerCase())){for(B=m.create(w),C.parentNode.insertBefore(B,C),x=C;x&&!m.isBlock(x);){u=x.nextSibling,B.appendChild(x),x=u}F.setStart(p,v),F.setEnd(p,v)}}return p}function bW(){function r(w){for(var v=J[w?"firstChild":"lastChild"];v&&1!=v.nodeType;){v=v[w?"nextSibling":"previousSibling"]}return v===V}function p(){var v=J.parentNode;return"LI"==v.nodeName?v:J}var u=J.parentNode.nodeName;/^(OL|UL|LI)$/.test(u)&&(l="LI"),t=l?at(l):m.create("BR"),r(!0)&&r()?"LI"==u?m.insertAfter(t,p()):m.replace(t,J):r(!0)?"LI"==u?(m.insertAfter(t,p()),t.appendChild(m.doc.createTextNode(" ")),t.appendChild(J)):J.parentNode.insertBefore(t,J):r()?(m.insertAfter(t,p()),i(t)):(J=p(),bX=F.cloneRange(),bX.setStartAfter(V),bX.setEndAfter(J),Y=bX.extractContents(),m.insertAfter(Y,J),m.insertAfter(t,J)),m.remove(V),I(t),e.add()}function o(){for(var p=new b(W,V),r;r=p.next();){if(h[r.nodeName.toLowerCase()]||r.length>0){return !0}}}function bZ(){var u,p,v;W&&3==W.nodeType&&s>=W.nodeValue.length&&(c||o()||(u=m.create("br"),F.insertNode(u),F.setStartAfter(u),F.setEndAfter(u),p=!0)),u=m.create("br"),F.insertNode(u),c&&"PRE"==X&&(!bY||8>bY)&&u.parentNode.insertBefore(m.doc.createTextNode("\r"),u),v=m.create("span",{},"&nbsp;"),u.parentNode.insertBefore(v,u),d.scrollIntoView(v),m.remove(v),p?(F.setStartBefore(u),F.setEndBefore(u)):(F.setStartAfter(u),F.setEndAfter(u)),d.setRng(F),e.add()}function q(p){do{3===p.nodeType&&(p.nodeValue=p.nodeValue.replace(/^[\r\n]+/,"")),p=p.firstChild}while(p)}function n(u){var p=m.getRoot(),v,w;for(v=u;v!==p&&"false"!==m.getContentEditable(v);){"true"===m.getContentEditable(v)&&(w=v),v=v.parentNode}return v!==p?w:p}function b0(r){var p;c||(r.normalize(),p=r.lastChild,(!p||/^(left|right)$/gi.test(m.getStyle(p,"float",!0)))&&m.add(r,"br"))}var F=d.getRng(!0),bX,G,W,s,V,bY,Q,t,Y,J,X,Z,l,K;if(!F.collapsed){return g.execCommand("Delete"),void 0}if(!U.isDefaultPrevented()&&(W=F.startContainer,s=F.startOffset,l=(f.force_p_newlines?"p":"")||f.forced_root_block,l=l?l.toUpperCase():"",bY=m.doc.documentMode,Q=U.shiftKey,1==W.nodeType&&W.hasChildNodes()&&(K=s>W.childNodes.length-1,W=W.childNodes[Math.min(s,W.childNodes.length-1)]||W,s=K&&3==W.nodeType?W.nodeValue.length:0),G=n(W))){if(e.beforeChange(),!m.isBlock(G)&&G!=m.getRoot()){return(!l||Q)&&bZ(),void 0}if((l&&!Q||!l&&Q)&&(W=bt(W,s)),V=m.getParent(W,m.isBlock),J=V?m.getParent(V.parentNode,m.isBlock):null,X=V?V.nodeName.toUpperCase():"",Z=J?J.nodeName.toUpperCase():"","LI"!=Z||U.ctrlKey||(V=J,X=Z),"LI"==X){if(!l&&Q){return bZ(),void 0}if(m.isEmpty(V)){return bW(),void 0}}if("PRE"==X&&f.br_in_pre!==!1){if(!Q){return bZ(),void 0}}else{if(!l&&!Q&&"LI"!=X||l&&Q){return bZ(),void 0}}l&&V===g.getBody()||(l=l||"P",z()?(t=/^(H[1-6]|PRE|FIGURE)$/.test(X)&&"HGROUP"!=Z?at(l):at(),f.end_container_on_empty_block&&b1(J)&&m.isEmpty(V)?t=m.split(J,V):m.insertAfter(t,V),I(t)):z(!0)?(t=V.parentNode.insertBefore(at(),V),i(t)):(bX=F.cloneRange(),bX.setEndAfter(V),Y=bX.extractContents(),q(Y),t=Y.firstChild,m.insertAfter(Y,V),bV(t),b0(V),I(t)),m.setAttrib(t,"id",""),e.add())}}var m=g.dom,d=g.selection,f=g.settings,e=g.undoManager,j=g.schema,h=j.getNonEmptyElements();g.on("keydown",function(i){13==i.keyCode&&k(i)!==!1&&i.preventDefault()})}}),aG(aT,[],function(){return function(f){function d(){var n=j.getStart(),r=f.getBody(),G,k,e,w,q,F,A,o=-16777215,E,z,B,D,a;if(a=g.forced_root_block,n&&1===n.nodeType&&a){for(;n&&n!=r;){if(c[n.nodeName]){return}n=n.parentNode}if(G=j.getRng(),G.setStart){k=G.startContainer,e=G.startOffset,w=G.endContainer,q=G.endOffset;try{z=f.getDoc().activeElement===r}catch(i){}}else{G.item&&(n=G.item(0),G=f.getDoc().body.createTextRange(),G.moveToElementText(n)),z=G.parentElement().ownerDocument===f.getDoc(),B=G.duplicate(),B.collapse(!0),e=-1*B.move("character",o),B.collapsed||(B=G.duplicate(),B.collapse(!1),q=-1*B.move("character",o)-e)}for(n=r.firstChild,D=r.nodeName.toLowerCase();n;){if((3===n.nodeType||1==n.nodeType&&!c[n.nodeName])&&b.isValidChild(D,a.toLowerCase())){if(3===n.nodeType&&0===n.nodeValue.length){A=n,n=n.nextSibling,h.remove(A);continue}F||(F=h.create(a),n.parentNode.insertBefore(F,n),E=!0),A=n,n=n.nextSibling,F.appendChild(A)}else{F=null,n=n.nextSibling}}if(E&&z){if(G.setStart){G.setStart(k,e),G.setEnd(w,q),j.setRng(G)}else{try{G=f.getDoc().body.createTextRange(),G.moveToElementText(r),G.collapse(!0),G.moveStart("character",e),q>0&&G.moveEnd("character",q),G.select()}catch(i){}}f.nodeChanged()}}}var g=f.settings,h=f.dom,j=f.selection,b=f.schema,c=b.getBlockElements();g.forced_root_block&&f.on("KeyUp NodeChange",d)}}),aG(bh,[ak,bl,bG],function(g,k,v){var j=v.each,t=v.extend,w=v.map,p=v.inArray,x=v.explode,h=k.gecko,b=k.ie,q=!0,m=!1;return function(e){function A(C,y,E){var H;return C=C.toLowerCase(),(H=a.exec[C])?(H(C,y,E),q):m}function F(r){var n;return r=r.toLowerCase(),(n=a.state[r])?n(r):-1}function l(r){var n;return r=r.toLowerCase(),(n=a.value[r])?n(r):m}function f(r,n){n=n||"exec",j(r,function(y,C){j(C.toLowerCase().split(","),function(E){a[n][E]=y})})}function D(n,y,C){return y===aj&&(y=m),C===aj&&(C=null),e.getDoc().execCommand(n,y,C)}function o(n){return z.match(n)}function s(n,y){z.toggle(n,y?{value:y}:aj),e.nodeChanged()}function B(n){G=u.getBookmark(n)}function c(){u.moveToBookmark(G)}var d=e.dom,u=e.selection,a={state:{},exec:{},value:{}},i=e.settings,z=e.formatter,G;t(this,{execCommand:A,queryCommandState:F,queryCommandValue:l,addCommands:f}),f({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(y){var n=e.getDoc(),C;try{D(y)}catch(E){C=q}(C||!n.queryCommandSupported(y))&&e.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(n){u.isCollapsed()&&u.select(u.getNode()),D(n),u.collapse(m)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(r){var n=r.substring(7);"full"==n&&(n="justify"),j("left,center,right,justify".split(","),function(y){n!=y&&z.remove("align"+y)}),s("align"+n),A("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(y){var r,C;D(y),r=d.getParent(u.getNode(),"ol,ul"),r&&(C=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(B(),d.split(C,r),c()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){s(n)},"ForeColor,HiliteColor,FontName":function(y,r,C){s(y,C)},FontSize:function(C,y,E){var H,I;E>=1&&7>=E&&(I=x(i.font_size_style_values),H=x(i.font_size_classes),E=H?H[E-1]||E:I[E-1]||E),s(C,E)},RemoveFormat:function(n){z.remove(n)},mceBlockQuote:function(){s("blockquote")},FormatBlock:function(y,r,C){return s(C||"p")},mceCleanup:function(){var n=u.getBookmark();e.setContent(e.getContent({cleanup:q}),{cleanup:q}),u.moveToBookmark(n)},mceRemoveNode:function(y,n,C){var E=C||u.getNode();E!=e.getBody()&&(B(),e.dom.remove(E,q),c())},mceSelectNodeDepth:function(y,n,C){var E=0;d.getParent(u.getNode(),function(r){return 1==r.nodeType&&E++==C?(u.select(r),m):void 0},e.getBody())},mceSelectNode:function(y,r,C){u.select(C)},mceInsertContent:function(M,P,L){function W(C){function y(r){return Y[r]&&3==Y[r].nodeType}var X,Y,Z;return X=u.getRng(!0),Y=X.startContainer,Z=X.startOffset,3==Y.nodeType&&(Z>0?C=C.replace(/^&nbsp;/," "):y("previousSibling")||(C=C.replace(/^ /,"&nbsp;")),Z<Y.length?C=C.replace(/&nbsp;(<br>|)$/," "):y("nextSibling")||(C=C.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),C}var O,E,U,J,n,S,N,Q,K,R,T,H,V,I;if(/^ | $/.test(L)&&(L=W(L)),O=e.parser,E=new g({},e.schema),V='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',S={content:L,format:"html",selection:!0},e.fire("BeforeSetContent",S),L=S.content,-1==L.indexOf("{$caret}")&&(L+="{$caret}"),L=L.replace(/\{\$caret\}/,V),u.isCollapsed()||e.getDoc().execCommand("Delete",!1,null),U=u.getNode(),S={context:U.nodeName.toLowerCase()},n=O.parse(L,S),T=n.lastChild,"mce_marker"==T.attr("id")){for(N=T,T=T.prev;T;T=T.walk(!0)){if(3==T.type||!d.isBlock(T.name)){T.parent.insert(N,T,"br"===T.name);break}}}if(S.invalid){for(u.setContent(V),U=u.getNode(),J=e.getBody(),9==U.nodeType?U=T=J:T=U;T!==J;){U=T,T=T.parentNode}L=U==J?J.innerHTML:d.getOuterHTML(U),L=E.serialize(O.parse(L.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return E.serialize(n)}))),U==J?d.setHTML(J,L):d.setOuterHTML(U,L)}else{L=E.serialize(n),T=U.firstChild,H=U.lastChild,!T||T===H&&"BR"===T.nodeName?d.setHTML(U,L):u.setContent(L)}N=d.get("mce_marker"),Q=d.getRect(N),K=d.getViewPort(e.getWin()),(Q.y+Q.h>K.y+K.h||Q.y<K.y||Q.x>K.x+K.w||Q.x<K.x)&&(I=b?e.getDoc().documentElement:e.getBody(),I.scrollLeft=Q.x,I.scrollTop=Q.y-K.h+25),R=d.createRng(),T=N.previousSibling,T&&3==T.nodeType?(R.setStart(T,T.nodeValue.length),b||(H=N.nextSibling,H&&3==H.nodeType&&(T.appendData(H.data),H.parentNode.removeChild(H)))):(R.setStartBefore(N),R.setEndBefore(N)),d.remove(N),u.setRng(R),e.fire("SetContent",S),e.addVisual()},mceInsertRawHTML:function(y,n,C){u.setContent("tiny_mce_marker"),e.setContent(e.getContent().replace(/tiny_mce_marker/g,function(){return C}))},mceToggleFormat:function(y,r,C){s(C)},mceSetContent:function(y,n,C){e.setContent(C)},"Indent,Outdent":function(C){var y,E,H;y=i.indentation,E=/[a-z%]+$/i.exec(y),y=parseInt(y,10),F("InsertUnorderedList")||F("InsertOrderedList")?D(C):(i.forced_root_block||d.getParent(u.getNode(),d.isBlock)||z.apply("div"),j(u.getSelectedBlocks(),function(r){var n;"LI"!=r.nodeName&&(n="rtl"==d.getStyle(r,"direction",!0)?"paddingRight":"paddingLeft","outdent"==C?(H=Math.max(0,parseInt(r.style[n]||0,10)-y),d.setStyle(r,n,H?H+E:"")):(H=parseInt(r.style[n]||0,10)+y+E,d.setStyle(r,n,H)))}))},mceRepaint:function(){if(h){try{B(q),u.getSel()&&u.getSel().selectAllChildren(e.getBody()),u.collapse(q),c()}catch(n){}}},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(y,n,C){e.execCommand("mceInsertContent",!1,C.replace(/\{\$selection\}/g,u.getContent({format:"text"})))},mceInsertLink:function(C,y,E){var H;"string"==typeof E&&(E={href:E}),H=d.getParent(u.getNode(),"a"),E.href=E.href.replace(" ","%20"),H&&E.href||z.remove("link"),E.href&&z.apply("link",E,H)},selectAll:function(){var r=d.getRoot(),n=d.createRng();u.getRng().setStart?(n.setStart(r,0),n.setEnd(r,r.childNodes.length),u.setRng(n)):D("SelectAll")},mceNewDocument:function(){e.setContent("")}}),f({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(C){var y="align"+C.substring(7),E=u.isCollapsed()?[d.getParent(u.getNode(),d.isBlock)]:u.getSelectedBlocks(),H=w(E,function(n){return !!z.matchNode(n,y)});return -1!==p(H,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return o(n)},mceBlockQuote:function(){return o("blockquote")},Outdent:function(){var n;if(i.inline_styles){if((n=d.getParent(u.getStart(),d.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}if((n=d.getParent(u.getEnd(),d.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}}return F("InsertUnorderedList")||F("InsertOrderedList")||!i.inline_styles&&!!d.getParent(u.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(r){var n=d.getParent(u.getNode(),"ul,ol");return n&&("insertunorderedlist"===r&&"UL"===n.tagName||"insertorderedlist"===r&&"OL"===n.tagName)}},"state"),f({"FontSize,FontName":function(y){var r=0,C;return(C=d.getParent(u.getNode(),"span"))&&(r="fontsize"==y?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),f({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}}),aG(bE,[bG],function(b){function a(j,k){var f=this,h,g;return j=d(j),k=f.settings=k||{},/^([\w\-]+):([^\/]{2})/i.test(j)||/^\s*#/.test(j)?(f.source=j,void 0):(0===j.indexOf("/")&&0!==j.indexOf("//")&&(j=(k.base_uri?k.base_uri.protocol||"http":"http")+"://mce_host"+j),/^[\w\-]*:?\/\//.test(j)||(g=k.base_uri?k.base_uri.path:new a(location.href).directory,j=(k.base_uri&&k.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(g,j)),j=j.replace(/@@/g,"(mce_at)"),j=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(j),c(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,i){var l=j[i];l&&(l=l.replace(/\(mce_at\)/g,"@@")),f[e]=l}),h=k.base_uri,h&&(f.protocol||(f.protocol=h.protocol),f.userInfo||(f.userInfo=h.userInfo),f.port||"mce_host"!==f.host||(f.port=h.port),f.host&&"mce_host"!==f.host||(f.host=h.host),f.source=""),void 0)}var c=b.each,d=b.trim;return a.prototype={setPath:function(g){var f=this;g=/^(.*?)\/?(\w+)?$/.exec(g),f.path=g[0],f.directory=g[1],f.file=g[2],f.source="",f.getURI()},toRelative:function(g){var h=this,j;if("./"===g){return g}if(g=new a(g,{base_uri:h}),"mce_host"!=g.host&&h.host!=g.host&&g.host||h.port!=g.port||h.protocol!=g.protocol){return g.getURI()}var k=h.getURI(),f=g.getURI();return k==f||"/"==k.charAt(k.length-1)&&k.substr(0,k.length-1)==f?k:(j=h.toRelPath(h.path,g.path),g.query&&(j+="?"+g.query),g.anchor&&(j+="#"+g.anchor),j)},toAbsolute:function(f,g){return f=new a(f,{base_uri:this}),f.getURI(this.host==f.host&&this.protocol==f.protocol?g:0)},toRelPath:function(j,h){var k,l=0,m="",f,g;if(j=j.substring(0,j.lastIndexOf("/")),j=j.split("/"),k=h.split("/"),j.length>=k.length){for(f=0,g=j.length;g>f;f++){if(f>=k.length||j[f]!=k[f]){l=f+1;break}}}if(j.length<k.length){for(f=0,g=k.length;g>f;f++){if(f>=j.length||j[f]!=k[f]){l=f+1;break}}}if(1===l){return h}for(f=0,g=j.length-(l-1);g>f;f++){m+="../"}for(f=l-1,g=k.length;g>f;f++){m+=f!=l-1?"/"+k[f]:k[f]}return m},toAbsPath:function(k,j){var l,m=0,f=[],h,g;for(h=/\/$/.test(j)?"/":"",k=k.split("/"),j=j.split("/"),c(k,function(i){i&&f.push(i)}),k=f,l=j.length-1,f=[];l>=0;l--){0!==j[l].length&&"."!==j[l]&&(".."!==j[l]?m>0?m--:f.push(j[l]):m++)}return l=k.length-m,g=0>=l?f.reverse().join("/"):k.slice(0,l).join("/")+"/"+f.reverse().join("/"),0!==g.indexOf("/")&&(g="/"+g),h&&g.lastIndexOf("/")!==g.length-1&&(g+=h),g},getURI:function(g){var f,h=this;return(!h.source||g)&&(f="",g||(h.protocol&&(f+=h.protocol+"://"),h.userInfo&&(f+=h.userInfo+"@"),h.host&&(f+=h.host),h.port&&(f+=":"+h.port)),h.path&&(f+=h.path),h.query&&(f+="?"+h.query),h.anchor&&(f+="#"+h.anchor),h.source=f),h.source}},a}),aG(aS,[bG],function(c){function b(){}var d=c.each,f=c.extend,g,a;return b.extend=g=function(i){function k(){var s,l,u,v;if(!a&&(v=this,v.init&&v.init.apply(v,arguments),l=v.Mixins)){for(s=l.length;s--;){u=l[s],u.init&&u.init.apply(v,arguments)}}}function p(){return this}function n(r,l){return function(){var e=this,s=e._super,t;return e._super=j[r],t=l.apply(e,arguments),e._super=s,t}}var q=this,j=q.prototype,h,o,m;a=!0,h=new q,a=!1,i.Mixins&&(d(i.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(i[l]=e[l])}}),j.Mixins&&(i.Mixins=j.Mixins.concat(i.Mixins))),i.Methods&&d(i.Methods.split(","),function(e){i[e]=p}),i.Properties&&d(i.Properties.split(","),function(e){var l="_"+e;i[e]=function(u){var s=this,v;return u!==v?(s[l]=u,s):s[l]}}),i.Statics&&d(i.Statics,function(l,r){k[r]=l}),i.Defaults&&j.Defaults&&(i.Defaults=f({},j.Defaults,i.Defaults));for(o in i){m=i[o],h[o]="function"==typeof m&&j[o]?n(o,m):m}return k.prototype=h,k.constructor=k,k.extend=g,k},b}),aG(a3,[aS,bG],function(g,f){function h(i){for(var a=[],l=i.length,m;l--;){m=i[l],m.__checked||(a.push(m),m.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,k=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,b=/^\s*|\s*$/g,d,c=g.extend({init:function(m){function p(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function q(a){return a?function(e){return e._name===a}:void 0}function w(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.hasClass(a[l])){return !1}}return !0}):void 0}function r(l,a,s){return l?function(e){var n=e[l]?e[l]():"";return a?"="===a?n===s:"*="===a?n.indexOf(s)>=0:"~="===a?(" "+n+" ").indexOf(" "+s+" ")>=0:"!="===a?n!=s:"^="===a?0===n.indexOf(s):"$="===a?n.substr(n.length-s.length)===s:!1:!!s}:void 0}function x(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=i(l[1],[]),function(n){return !v(n,a)}):(l=l[2],function(e,s,u){return"first"===l?0===s:"last"===l?s===u-1:"even"===l?0===s%2:"odd"===l?1===s%2:e[l]?e[l]():!1})):void 0}function o(l,t,s){function n(u){u&&t.push(u)}var a;return a=j.exec(l.replace(b,"")),n(p(a[1])),n(q(a[2])),n(w(a[3])),n(r(a[4],a[5],a[6])),n(x(a[7])),t.psuedo=!!a[7],t.direct=s,t}function i(y,u){var z=[],A,l,s;do{if(k.exec(""),l=k.exec(y),l&&(y=l[3],z.push(l[1]),l[2])){A=l[3];break}}while(l);for(A&&i(A,u),y=[],s=0;s<z.length;s++){">"!=z[s]&&y.push(o(z[s],[],">"===z[s-1]))}return u.push(y),u}var v=this.match;this._selectors=i(m,[])},match:function(t,x){var E,w,D,F,A,H,v,q,B,z,G,C,y;for(x=x||this._selectors,E=0,w=x.length;w>E;E++){for(A=x[E],F=A.length,y=t,C=0,D=F-1;D>=0;D--){for(q=A[D];y;){for(q.psuedo&&(G=y.parent().items(),B=f.inArray(y,G),z=G.length),H=0,v=q.length;v>H;H++){if(!q[H](y,B,z)){H=v+1;break}}if(H===v){C++;break}if(D===F-1){break}y=y.parent()}}if(C===F){return !0}}return !1},find:function(n){function m(t,x,w){var z,A,y,B,v,r=x[w];for(z=0,A=t.length;A>z;z++){for(v=t[z],y=0,B=r.length;B>y;y++){if(!r[y](v,z,A)){y=B+1;break}}if(y===B){w==x.length-1?q.push(v):v.items&&m(v.items(),x,w+1)}else{if(r.direct){return}}v.items&&m(v.items(),x,w)}}var q=[],s,a,p=this._selectors;if(n.items){for(s=0,a=p.length;a>s;s++){m(n.items(),p[s],0)}a>1&&(q=h(q))}return d||(d=c.Collection),new d(q)}});return c}),aG(a7,[bG,a3,aS],function(f,d,g){var h,j,b=Array.prototype.push,c=Array.prototype.slice;return j={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return f.isArray(a)?b.apply(e,a):a instanceof h?e.add(a.toArray()):b.call(e,a),e},set:function(i){var a=this,k=a.length,l;for(a.length=0,a.add(i),l=a.length;k>l;l++){delete a[l]}return a},filter:function(q){var r=this,u,k,p=[],m,t;for("string"==typeof q?(q=new d(q),t=function(a){return q.match(a)}):t=q,u=0,k=r.length;k>u;u++){m=r[u],t(m)&&p.push(m)}return new h(p)},slice:function(){return new h(c.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return f.each(this,a),this},toArray:function(){return f.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new h(f.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(k,a){var l=this,m,o;return a!==m?(l.each(function(e){e[k]&&e[k](a)}),l):(o=l[0],o&&o[k]?o[k]():void 0)},exec:function(a){var e=this,i=f.toArray(arguments).slice(1);return e.each(function(k){k[a]&&k[a].apply(k,i)}),e}},f.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){j[a]=function(){var e=f.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),f.each("text name disabled active selected checked visible parent value data".split(" "),function(a){j[a]=function(e){return this.prop(a,e)}}),h=g.extend(j),d.Collection=h,h}),aG(aH,[bG,a9],function(b,a){return{id:function(){return a.DOM.uniqueId()},createFragment:function(c){return a.DOM.createFragment(c)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(c){return a.DOM.getSize(c)},getPos:function(c,d){return a.DOM.getPos(c,d)},getViewPort:function(c){return a.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return a.DOM.addClass(c,d)},removeClass:function(c,d){return a.DOM.removeClass(c,d)},hasClass:function(c,d){return a.DOM.hasClass(c,d)},toggleClass:function(c,d,f){return a.DOM.toggleClass(c,d,f)},css:function(c,d,f){return a.DOM.setStyle(c,d,f)},on:function(c,d,f,g){return a.DOM.bind(c,d,f,g)},off:function(c,d,f){return a.DOM.unbind(c,d,f)},fire:function(c,d,f){return a.DOM.fire(c,d,f)}}}),aG(ba,[aS,bG,a7,aH],function(b,c,f,j){var d=c.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),h={},k="onmousewheel" in document,g=!1,m=b.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(l){var p=this,q,a;if(p.settings=l=c.extend({},p.Defaults,l),p._id=j.id(),p._text=p._name="",p._width=p._height=0,p._aria={role:l.role},q=l.classes){for(q=q.split(" "),q.map={},a=q.length;a--;){q.map[q[a]]=!0}}p._classes=q||[],p.visible(!0),c.each("title text width height name classes visible disabled active value".split(" "),function(e){var n=l[e],o;n!==o?p[e](n):p["_"+e]===o&&(p["_"+e]=!1)}),p.on("click",function(){return p.disabled()?!1:void 0}),l.classes&&c.each(l.classes.split(" "),function(i){p.addClass(i)}),p.settings=l,p._borderBox=p.parseBox(l.border),p._paddingBox=p.parseBox(l.padding),p._marginBox=p.parseBox(l.margin),l.hidden&&p.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(i){for(var a;i&&!(a=m.controlIdLookup[i.id]);){i=i.parentNode}return a},parseBox:function(i){var a,l=10;if(i){return"number"==typeof i?(i=i||0,{top:i,left:i,bottom:i,right:i}):(i=i.split(" "),a=i.length,1===a?i[1]=i[2]=i[3]=i[0]:2===a?(i[2]=i[0],i[3]=i[1]):3===a&&(i[3]=i[1]),{top:parseInt(i[0],l)||0,right:parseInt(i[1],l)||0,bottom:parseInt(i[2],l)||0,left:parseInt(i[3],l)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(i,a){function l(e){var p=document.defaultView;return p?(e=e.replace(/[A-Z]/g,function(n){return"-"+n}),p.getComputedStyle(i,null).getPropertyValue(e)):i.currentStyle[e]}function o(p){var n=parseInt(l(p),10);return isNaN(n)?0:n}return{top:o(a+"TopWidth"),right:o(a+"RightWidth"),bottom:o(a+"BottomWidth"),left:o(a+"LeftWidth")}},initLayoutRect:function(){var v=this,x=v.settings,z,G,y=v.getEl(),F,H,C,J,w,q,D;z=v._borderBox=v._borderBox||v.measureBox(y,"border"),v._paddingBox=v._paddingBox||v.measureBox(y,"padding"),v._marginBox=v._marginBox||v.measureBox(y,"margin"),q=x.minWidth,D=x.minHeight,C=q||y.offsetWidth,J=D||y.offsetHeight,F=x.width,H=x.height,w=x.autoResize,w="undefined"!=typeof w?w:!F&&!H,F=F||C,H=H||J;var B=z.left+z.right,I=z.top+z.bottom,E=x.maxWidth||65535,A=x.maxHeight||65535;return v._layoutRect=G={x:x.x||0,y:x.y||0,w:F,h:H,deltaW:B,deltaH:I,contentW:F-B,contentH:H-I,innerW:F-B,innerH:H-I,startMinWidth:q||0,startMinHeight:D||0,minW:Math.min(C,E),minH:Math.min(J,A),maxW:E,maxH:A,autoResize:w,scrollW:0},v._lastLayoutRect={},G},layoutRect:function(l){var q=this,v=q._layoutRect,y,u,x,z,w,p;return v||(v=q.initLayoutRect()),l?(x=v.deltaW,z=v.deltaH,l.x!==w&&(v.x=l.x),l.y!==w&&(v.y=l.y),l.minW!==w&&(v.minW=l.minW),l.minH!==w&&(v.minH=l.minH),u=l.w,u!==w&&(u=u<v.minW?v.minW:u,u=u>v.maxW?v.maxW:u,v.w=u,v.innerW=u-x),u=l.h,u!==w&&(u=u<v.minH?v.minH:u,u=u>v.maxH?v.maxH:u,v.h=u,v.innerH=u-z),u=l.innerW,u!==w&&(u=u<v.minW-x?v.minW-x:u,u=u>v.maxW-x?v.maxW-x:u,v.innerW=u,v.w=u+x),u=l.innerH,u!==w&&(u=u<v.minH-z?v.minH-z:u,u=u>v.maxH-z?v.maxH-z:u,v.innerH=u,v.h=u+z),l.contentW!==w&&(v.contentW=l.contentW),l.contentH!==w&&(v.contentH=l.contentH),y=q._lastLayoutRect,(y.x!==v.x||y.y!==v.y||y.w!==v.w||y.h!==v.h)&&(p=m.repaintControls,p&&p.map&&!p.map[q._id]&&(p.push(q),p.map[q._id]=!0),y.x=v.x,y.y=v.y,y.w=v.w,y.h=v.h),q):v},repaint:function(){var v=this,u,w,x,y,l=0,q=0,p;u=v.getEl().style,x=v._layoutRect,p=v._lastRepaintRect||{},y=v._borderBox,l=y.left+y.right,q=y.top+y.bottom,x.x!==p.x&&(u.left=x.x+"px",p.x=x.x),x.y!==p.y&&(u.top=x.y+"px",p.y=x.y),x.w!==p.w&&(u.width=x.w-l+"px",p.w=x.w),x.h!==p.h&&(u.height=x.h-q+"px",p.h=x.h),v._hasBody&&x.innerW!==p.innerW&&(w=v.getEl("body").style,w.width=x.innerW+"px",p.innerW=x.innerW),v._hasBody&&x.innerH!==p.innerH&&(w=w||v.getEl("body").style,w.height=x.innerH+"px",p.innerH=x.innerH),v._lastRepaintRect=p,v.fire("repaint",{},!1)},on:function(v,u){function w(l){var a,o;return function(e){return a||y.parents().each(function(n){var s=n.settings.callbacks;return s&&(a=s[l])?(o=n,!1):void 0}),a.call(o,e)}}var y=this,i,q,p,x;if(u){for("string"==typeof u&&(u=w(u)),p=v.toLowerCase().split(" "),x=p.length;x--;){v=p[x],i=y._bindings,i||(i=y._bindings={}),q=i[v],q||(q=i[v]=[]),q.push(u),d[v]&&(y._nativeEvents?y._nativeEvents[v]=!0:y._nativeEvents={name:!0},y._rendered&&y.bindPendingEvents())}}return y},off:function(p,q){var v=this,y,u=v._bindings,x,z,w,A;if(u){if(p){for(w=p.toLowerCase().split(" "),y=w.length;y--;){if(p=w[y],x=u[p],!p){for(z in u){u[z].length=0}return v}if(x){if(q){for(A=x.length;A--;){x[A]===q&&x.splice(A,1)}}else{x.length=0}}}}else{v._bindings=[]}}return v},fire:function(p,u,w){function z(){return !1}function v(){return !0}var y=this,A,x,B,q;if(p=p.toLowerCase(),u=u||{},u.type||(u.type=p),u.control||(u.control=y),u.preventDefault||(u.preventDefault=function(){u.isDefaultPrevented=v},u.stopPropagation=function(){u.isPropagationStopped=v},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=v},u.isDefaultPrevented=z,u.isPropagationStopped=z,u.isImmediatePropagationStopped=z),y._bindings&&(B=y._bindings[p])){for(A=0,x=B.length;x>A&&(u.isImmediatePropagationStopped()||B[A].call(y,u)!==!1);A++){}}if(w!==!1){for(q=y.parent();q&&!u.isPropagationStopped();){q.fire(p,u,!1),q=q.parent()}}return u},parents:function(i){var a=this,l=new f;for(a=a.parent();a;a=a.parent()){l.add(a)}return i&&(l=l.filter(i)),l},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(i,a){for(var l;i;){for(l=a;l&&i!=l;){l=l.parent()}if(i==l){break}i=i.parent()}return i},hasClass:function(i,a){var l=this._classes[a||"control"];return i=this.classPrefix+i,l&&!!l.map[i]},addClass:function(l,a){var o=this,p,q;return l=this.classPrefix+l,p=o._classes[a||"control"],p||(p=[],p.map={},o._classes[a||"control"]=p),p.map[l]||(p.map[l]=l,p.push(l),o._rendered&&(q=o.getEl(a),q&&(q.className=p.join(" ")))),o},removeClass:function(p,l){var q=this,s,u,a;if(p=this.classPrefix+p,s=q._classes[l||"control"],s&&s.map[p]){for(delete s.map[p],u=s.length;u--;){s[u]===p&&s.splice(u,1)}}return q._rendered&&(a=q.getEl(l),a&&(a.className=s.join(" "))),q},toggleClass:function(i,a,l){var o=this;return a?o.addClass(i,l):o.removeClass(i,l),o},classes:function(i){var a=this._classes[i||"control"];return a?a.join(" "):""},getEl:function(l,a){var o,p=l?this._id+"-"+l:this._id;return o=h[p]=(a===!0?null:h[p])||j.get(p)},visible:function(i){var a=this,l;return"undefined"!=typeof i?(a._visible!==i&&(a._rendered&&(a.getEl().style.display=i?"":"none"),a._visible=i,l=a.parent(),l&&(l._lastRect=null),a.fire(i?"show":"hide")),a):a._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(i,a){var l=this,o=l.getEl();return"undefined"==typeof a?l._aria[i]:(l._aria[i]=a,l._rendered&&("label"==i&&o.setAttribute("aria-labeledby",l._id),o.setAttribute("role"==i?i:"aria-"+i,a)),l)},encode:function(i,a){return a!==!1&&m.translate&&(i=m.translate(i)),(i||"").replace(/[&<>"]/g,function(l){return"&#"+l.charCodeAt(0)+";"})},before:function(i){var a=this,l=a.parent();return l&&l.insert(i,l.items().indexOf(a),!0),a},after:function(i){var a=this,l=a.parent();return l&&l.insert(i,l.items().indexOf(a)),a},remove:function(){var r=this,q=r.getEl(),s=r.parent(),u;if(r.items){for(var l=r.items().toArray(),p=l.length;p--;){l[p].remove()}}return s&&s.items&&(u=[],s.items().each(function(a){a!==r&&u.push(a)}),s.items().set(u),s._lastRect=null),r._eventsRoot&&r._eventsRoot==r&&j.off(q),delete m.controlIdLookup[r._id],q.parentNode&&q.parentNode.removeChild(q),r},renderBefore:function(i){var a=this;return i.parentNode.insertBefore(j.createFragment(a.renderHtml()),i),a.postRender(),a},renderTo:function(i){var a=this;return i=i||a.getContainerElm(),i.appendChild(j.createFragment(a.renderHtml())),a.postRender(),a},postRender:function(){var u=this,r=u.settings,v,x,l,q,p;for(q in r){0===q.indexOf("on")&&u.on(q.substr(2),r[q])}if(u._eventsRoot){for(l=u.parent();!p&&l;l=l.parent()){p=l._eventsRoot}if(p){for(q in p._nativeEvents){u._nativeEvents[q]=!0}}}u.bindPendingEvents(),r.style&&(v=u.getEl(),v&&(v.setAttribute("style",r.style),v.style.cssText=r.style)),u._visible||j.css(u.getEl(),"display","none"),u.settings.border&&(x=u.borderBox(),j.css(u.getEl(),{"border-top-width":x.top,"border-right-width":x.right,"border-bottom-width":x.bottom,"border-left-width":x.left})),m.controlIdLookup[u._id]=u;for(var w in u._aria){u.aria(w,u._aria[w])}u.fire("postrender",{},!1)},scrollIntoView:function(q){function w(l,a){var o,s,u=l;for(o=s=0;u&&u!=a&&u.nodeType;){o+=u.offsetLeft||0,s+=u.offsetTop||0,u=u.offsetParent}return{x:o,y:s}}var y=this.getEl(),B=y.parentNode,x,A,C,z,D,v,p=w(y,B);return x=p.x,A=p.y,C=y.offsetWidth,z=y.offsetHeight,D=B.clientWidth,v=B.clientHeight,"end"==q?(x-=D-C,A-=v-z):"center"==q&&(x-=D/2-C/2,A-=v/2-z/2),B.scrollLeft=x,B.scrollTop=A,this},bindPendingEvents:function(){function q(l){var i=z.getParentCtrl(l.target);i&&i.fire(l.type,l)}function s(){var i=y._lastHoverCtrl;i&&(i.fire("mouseleave",{target:i.getEl()}),i.parents().each(function(l){l.fire("mouseleave",{target:l.getEl()})}),y._lastHoverCtrl=null)}function w(u){var p=z.getParentCtrl(u.target),C=y._lastHoverCtrl,D=0,E,o,l;if(p!==C){if(y._lastHoverCtrl=p,o=p.parents().toArray().reverse(),o.push(p),C){for(l=C.parents().toArray().reverse(),l.push(C),D=0;D<l.length&&o[D]===l[D];D++){}for(E=l.length-1;E>=D;E--){C=l[E],C.fire("mouseleave",{target:C.getEl()})}}for(E=D;E<o.length;E++){p=o[E],p.fire("mouseenter",{target:p.getEl()})}}}function v(i){i.preventDefault(),"mousewheel"==i.type?(i.deltaY=-1/40*i.wheelDelta,i.wheelDeltaX&&(i.deltaX=-1/40*i.wheelDeltaX)):(i.deltaX=0,i.deltaY=i.detail),i=z.fire("wheel",i)}var z=this,B,r,a,y,x,A;if(z._rendered=!0,x=z._nativeEvents){for(a=z.parents().toArray(),a.unshift(z),B=0,r=a.length;!y&&r>B;B++){y=a[B]._eventsRoot}for(y||(y=a[a.length-1]||z),z._eventsRoot=y,r=B,B=0;r>B;B++){a[B]._eventsRoot=y}for(A in x){if(!x){return !1}"wheel"!==A||g?("mouseenter"===A||"mouseleave"===A?y._hasMouseEnter||(j.on(y.getEl(),"mouseleave",s),j.on(y.getEl(),"mouseover",w),y._hasMouseEnter=1):y[A]||(j.on(y.getEl(),A,q),y[A]=!0),x[A]=!1):k?j.on(z.getEl(),"mousewheel",v):j.on(z.getEl(),"DOMMouseScroll",v)}}},reflow:function(){return this.repaint(),this}});return m}),aG(aU,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(e,f){var g,c,d;if(!a){d=tinymce.ui;for(c in d){b[c.toLowerCase()]=d[c]}a=!0}if("string"==typeof e?(f=f||{},f.type=e):(f=e,e=f.type),e=e.toLowerCase(),g=b[e],!g){throw new Error("Could not find control by type: "+e)}return g=new g(f),g.type=e,g}}}),aG(aF,[ba,a7,a3,aU,bG,aH],function(f,d,g,h,j,b){var c={};return f.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new d,i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=h.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=c[a]=c[a]||new g(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(){var a=this;return a.keyNav?a.keyNav.focusFirst():a._super(),a},replace:function(k,a){for(var l,m=this.items(),o=m.length;o--;){if(m[o]===k){m[o]=a;break}}o>=0&&(l=a.getEl(),l&&l.parentNode.removeChild(l),l=k.getEl(),l&&l.parentNode.removeChild(l)),a.parent(this)},create:function(k){var l=this,e,i=[];return j.isArray(k)||(k=[k]),j.each(k,function(a){a&&(a instanceof f||("string"==typeof a&&(a={type:a}),e=j.extend({},l.settings.defaults,a),a.type=e.type=e.type||a.type||l.settings.defaultType||(e.defaults?e.defaults.type:null),a=h.create(e)),i.push(a))}),i},renderNew:function(){var a=this;return a.items().each(function(e,k){var l,m;e.parent(a),e._rendered||(l=a.getEl("body"),m=b.createFragment(e.renderHtml()),l.hasChildNodes()&&k<=l.childNodes.length-1?l.insertBefore(m,l.childNodes[k]):l.appendChild(m),e.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(p,m,q){var s=this,u,k,l;return p=s.create(p),u=s.items(),!q&&m<u.length-1&&(m+=1),m>=0&&m<u.length&&(k=u.slice(0,m).toArray(),l=u.slice(m).toArray(),u.set(k.concat(p,l))),s.renderNew()},fromJSON:function(i){var a=this;for(var k in i){a.find("#"+k).value(i[k])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(k){var l=k.name(),m=k.value();l&&"undefined"!=typeof m&&(a[l]=m)}),a},preRender:function(){},renderHtml:function(){var i=this,a=i._layout;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes()+'" role="'+this.settings.role+'"><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i._rendered=!0,i.settings.style&&b.css(i.getEl(),i.settings.style),i.settings.border&&(a=i.borderBox(),b.css(i.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,k=i._lastRect;return k&&k.w==a.w&&k.h==a.h?void 0:(i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a,e;if(this.visible()){for(f.repaintControls=[],f.repaintControls.map={},e=this.recalc(),a=f.repaintControls.length;a--;){f.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),f.repaintControls=[]}return this}})}),aG(a1,[aH],function(b){function a(){var d=document,g,j,p,h,m,q,k,u,f=Math.max;return g=d.documentElement,j=d.body,p=f(g.scrollWidth,j.scrollWidth),h=f(g.clientWidth,j.clientWidth),m=f(g.offsetWidth,j.offsetWidth),q=f(g.scrollHeight,j.scrollHeight),k=f(g.clientHeight,j.clientHeight),u=f(g.offsetHeight,j.offsetHeight),{width:m>p?h:p,height:u>q?k:q}}return function(j,t){function h(){return v.getElementById(t.handle||j)}var q,v=document,m,w,g,e,p,k;t=t||{},w=function(c){var f=a(),i,d;c.preventDefault(),m=c.button,i=h(),p=c.screenX,k=c.screenY,d=window.getComputedStyle?window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,q=v.createElement("div"),b.css(q,{position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:d}),v.body.appendChild(q),b.on(v,"mousemove",e),b.on(v,"mouseup",g),t.start(c)},e=function(c){return c.button!==m?g(c):(c.deltaX=c.screenX-p,c.deltaY=c.screenY-k,c.preventDefault(),t.drag(c),void 0)},g=function(c){b.off(v,"mousemove",e),b.off(v,"mouseup",g),q.parentNode.removeChild(q),t.stop&&t.stop(c)},this.destroy=function(){b.off(h())},b.on(h(),"mousedown",w)}}),aG(aR,[aH,a1],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function d(){function h(o,D,w,G,n,k){var x,r,F,A,q,E,z,B,C;if(r=f.getEl("scroll"+o)){if(B=D.toLowerCase(),C=w.toLowerCase(),f.getEl("absend")&&b.css(f.getEl("absend"),B,f.layoutRect()[G]-1),!n){return b.css(r,"display","none"),void 0}b.css(r,"display","block"),x=f.getEl("body"),F=f.getEl("scroll"+o+"t"),A=x["client"+w]-2*c,A-=i&&j?r["client"+k]:0,q=x["scroll"+w],E=A/q,z={},z[B]=x["offset"+D]+c,z[C]=A,b.css(r,z),z={},z[B]=x["scroll"+D]*E,z[C]=A*E,b.css(F,z)}}var i,j,g;g=f.getEl("body"),i=g.scrollWidth>g.clientWidth,j=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",i,"Height"),h("v","Top","Height","contentH",j,"Width")}function e(){function g(m,q,j,i,p){var o,k=f._id+"-scroll"+m,h=f.classPrefix;f.getEl().appendChild(b.createFragment('<div id="'+k+'" class="'+h+"scrollbar "+h+"scrollbar-"+m+'"><div id="'+k+'t" class="'+h+'scrollbar-thumb"></div></div>')),f.draghelper=new a(k+"t",{start:function(){o=f.getEl("body")["scroll"+q],b.addClass(b.get(k),h+"active")},drag:function(r){var n,s,l,v,w=f.layoutRect();s=w.contentW>w.innerW,l=w.contentH>w.innerH,v=f.getEl("body")["client"+j]-2*c,v-=s&&l?f.getEl("scroll"+m)["client"+p]:0,n=v/f.getEl("body")["scroll"+j],f.getEl("body")["scroll"+q]=o+r["delta"+i]/n},stop:function(){b.removeClass(b.get(k),h+"active")}})}f.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var f=this,c=2;f.settings.autoScroll&&(f._hasScroll||(f._hasScroll=!0,e(),f.on("wheel",function(h){var g=f.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,d()}),b.on(f.getEl("body"),"scroll",d)),d())}}}),aG(bb,[aF,aR],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes()+'" hideFocus="1" tabIndex="-1">'+(d._preBodyHtml||"")+f+"</div>"}})}),aG(ax,[aH],function(b){function a(h,k,w){var j,v,x,p,y,g,e,q,m;return m=b.getViewPort(),v=b.getPos(k),x=v.x,p=v.y,h._fixed&&(x-=m.x,p-=m.y),j=h.getEl(),y=j.offsetWidth,g=j.offsetHeight,e=k.offsetWidth,q=k.offsetHeight,w=(w||"").split(""),"b"===w[0]&&(p+=q),"r"===w[1]&&(x+=e),"c"===w[0]&&(p+=Math.round(q/2)),"c"===w[1]&&(x+=Math.round(e/2)),"b"===w[3]&&(p-=g),"r"===w[4]&&(x-=y),"c"===w[3]&&(p-=Math.round(g/2)),"c"===w[4]&&(x-=Math.round(y/2)),{x:x,y:p,w:y,h:g}}return{testMoveRel:function(e,f){for(var g=b.getViewPort(),c=0;c<f.length;c++){var d=a(this,e,f[c]);if(this._fixed){if(d.x>0&&d.x+d.w<g.w&&d.y>0&&d.y+d.h<g.h){return f[c]}}else{if(d.x>g.x&&d.x+d.w<g.w+g.x&&d.y>g.y&&d.y+d.h<g.h+g.y){return f[c]}}}return f[0]},moveRel:function(c,d){"string"!=typeof d&&(d=this.testMoveRel(c,d));var f=a(this,c,d);return this.moveTo(f.x,f.y)},moveBy:function(d,c){var f=this,g=f.layoutRect();return f.moveTo(g.x+d,g.y+c),f},moveTo:function(e,f){function g(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var h=this;if(h.settings.constrainToViewport){var c=b.getViewPort(window),d=h.layoutRect();e=g(e,c.w+c.x,d.w),f=g(f,c.h+c.y,d.h)}return h._rendered?h.layoutRect({x:e,y:f}).repaint():(h.settings.x=e,h.settings.y=f),h.fire("move",{x:e,y:f}),h}}}),aG(bB,[aH],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,c){if(1>=b||1>=c){var d=a.getWindowSize();b=1>=b?b*d.w:b,c=1>=c?c*d.h:c}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:c,w:b,h:c}).reflow()},resizeBy:function(c,b){var d=this,f=d.layoutRect();return d.resizeTo(f.w+c,f.h+b)}}}),aG(bq,[bb,ax,bB,aH],function(d,g,j,p){function h(c){var a;for(a=k.length;a--;){k[a]===c&&k.splice(a,1)}}var m,q,k=[],v=[],f,b=d.extend({Mixins:[g,j],init:function(l){function c(){var u,s=b.zIndex||65535,w;if(v.length){for(u=0;u<v.length;u++){v[u].modal&&(s++,w=v[u]),v[u].getEl().style.zIndex=s,v[u].zIndex=s,s++}}var x=document.getElementById(a.classPrefix+"modal-block");w?p.css(x,"z-index",w.zIndex-1):x&&(x.parentNode.removeChild(x),f=!1),b.currentZIndex=s}function o(n,i){for(;n;){if(n==i){return !0}n=n.parent()}}function r(s){function i(e,w){for(var x,y=0;y<k.length;y++){if(k[y]!=s){for(x=k[y].parent();x&&(x=x.parent());){x==s&&k[y].fixed(e).moveBy(0,w).repaint()}}}}var u=p.getViewPort().y;s.settings.autofix&&(s._fixed?s._autoFixY>u&&(s.fixed(!1).layoutRect({y:s._autoFixY}).repaint(),i(!1,s._autoFixY-u)):(s._autoFixY=s.layoutRect().y,s._autoFixY<u&&(s.fixed(!0).layoutRect({y:0}).repaint(),i(!0,u-s._autoFixY))))}var a=this;a._super(l),a._eventsRoot=a,a.addClass("floatpanel"),l.autohide&&(m||(m=function(s){var n,u=a.getParentCtrl(s.target);for(n=k.length;n--;){var w=k[n];if(w.settings.autohide){if(u&&(o(u,w)||w.parent()===u)){continue}s=w.fire("autohide",{target:s.target}),s.isDefaultPrevented()||w.hide()}}},p.on(document,"click",m)),k.push(a)),l.autofix&&(q||(q=function(){var i;for(i=k.length;i--;){r(k[i])}},p.on(window,"scroll",q)),a.on("move",function(){r(this)})),a.on("postrender show",function(s){if(s.control==a){var t,u=a.classPrefix;a.modal&&!f&&(t=p.createFragment('<div id="'+u+'modal-block" class="'+u+"reset "+u+'fade"></div>'),t=t.firstChild,a.getContainerElm().appendChild(t),setTimeout(function(){p.addClass(t,u+"in"),p.addClass(a.getEl(),u+"in")},0),f=!0),v.push(a),c()}}),a.on("close hide",function(i){if(i.control==a){for(var s=v.length;s--;){v[s]===a&&v.splice(s,1)}c()}}),a.on("show",function(){a.parents().each(function(i){return i._fixed?(a.fixed(!0),!1):void 0})}),l.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.addClass("popover").addClass("bottom").addClass("start"))},fixed:function(c){var a=this;if(a._fixed!=c){if(a._rendered){var i=p.getViewPort();c?a.layoutRect().y-=i.y:a.layoutRect().y+=i.y}a.toggleClass("fixed",c),a._fixed=c}return a},show:function(){var c=this,a,i=c._super();for(a=k.length;a--&&k[a]!==c;){}return -1===a&&k.push(c),i},hide:function(){return h(this),this._super()},hideAll:function(){b.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){h(this),this._super()}});return b.hideAll=function(){for(var c=k.length;c--;){var a=k[c];a.settings.autohide&&(a.fire("cancel",{},!1),a.hide(),k.splice(c,1))}},b}),aG(aZ,[aH],function(a){return function(g){function k(){if(!y){if(y=[],x.find){x.find("*").each(function(f){f.canFocus&&y.push(f.getEl())})}else{for(var d=x.getEl().getElementsByTagName("*"),c=0;c<d.length;c++){d[c].id&&d[c]&&y.push(d[c])}}}}function A(){return document.getElementById(q)}function j(c){return c=c||A(),c&&c.getAttribute("role")}function z(d){for(var c,f=d||A();f=f.parentNode;){if(c=j(f)){return c}}}function B(d){var c=document.getElementById(q);return c?c.getAttribute("aria-"+d):void 0}function w(){var c=A();if(!c||"TEXTAREA"!=c.nodeName&&"text"!=c.type){return g.onAction?g.onAction(q):a.fire(A(),"click",{keyboard:!0}),!0}}function D(){var c;g.onCancel?((c=A())&&c.blur(),g.onCancel()):g.root.fire("cancel")}function e(f){function m(l){for(var i=x?x.getEl():document.body;l&&l!=i;){if("none"==l.style.display){return !1}l=l.parentNode}return !0}var n=-1,c,d,h=[];for(k(),d=h.length,d=0;d<y.length;d++){m(y[d])&&h.push(y[d])}for(d=h.length;d--;){if(h[d].id===q){n=d;break}}n+=f,0>n?n=h.length-1:n>=h.length&&(n=0),c=h[n],c.focus(),q=c.id,g.actOnFocus&&w()}function b(){var c,d;for(d=j(g.root.getEl()),k(),c=y.length;c--;){if("toolbar"==d&&y[c].id===q){return y[c].focus(),void 0}}y[0].focus()}var x=g.root,v=g.enableUpDown!==!1,C=g.enableLeftRight!==!1,y=g.items,q;return x.on("keydown",function(f){var i=37,E=39,c=38,o=40,s=27,l=14,G=13,p=32,t=9,F;switch(f.keyCode){case i:C&&(g.leftAction?g.leftAction():e(-1),F=!0);break;case E:C&&("menuitem"==j()&&"menu"==z()?B("haspopup")&&w():e(1),F=!0);break;case c:v&&(e(-1),F=!0);break;case o:v&&("menuitem"==j()&&"menubar"==z()?w():"button"==j()&&B("haspopup")?w():e(1),F=!0);break;case t:F=!0,f.shiftKey?e(-1):e(1);break;case s:F=!0,D();break;case l:case G:case p:F=w()}F&&(f.stopPropagation(),f.preventDefault())}),x.on("focusin",function(c){k(),q=c.target.id}),{moveFocus:e,focusFirst:b,cancel:D}}}),aG(aW,[bq,bb,aH,aZ,a1],function(c,b,d,f,g){var a=c.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(h){var i=this;i._super(h),i.addClass("window"),i._fixed=!0,h.buttons&&(i.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:h.buttons}),i.statusbar.addClass("foot"),i.statusbar.parent(i)),i.on("click",function(j){-1!=j.target.className.indexOf(i.classPrefix+"close")&&i.close()}),i.aria("label",h.title),i._fullscreen=!1},recalc:function(){var k=this,j=k.statusbar,l,m,h;k._fullscreen&&(k.layoutRect(d.getWindowSize()),k.layoutRect().contentH=k.layoutRect().innerH),k._super(),l=k.layoutRect(),k.settings.title&&!k._fullscreen&&(m=l.headerW,m>l.w&&(k.layoutRect({w:m}),h=!0)),j&&(j.layoutRect({w:k.layoutRect().innerW}).recalc(),m=j.layoutRect().minW+l.deltaW,m>l.w&&(k.layoutRect({w:m}),h=!0)),h&&k.recalc()},initLayoutRect:function(){var k=this,j=k._super(),l=0,m;k.settings.title&&!k._fullscreen&&(m=k.getEl("head"),j.headerW=m.offsetWidth,j.headerH=m.offsetHeight,l+=j.headerH),k.statusbar&&(l+=k.statusbar.layoutRect().h),j.deltaH+=l,j.minH+=l,j.h+=l;var h=d.getWindowSize();return j.x=Math.max(0,h.w/2-j.w/2),j.y=Math.max(0,h.h/2-j.h/2),j},renderHtml:function(){var m=this,l=m._layout,p=m._id,q=m.classPrefix,u=m.settings,h="",k="",j=u.html;return m.preRender(),l.preRender(m),u.title&&(h='<div id="'+p+'-head" class="'+q+'window-head"><div class="'+q+'title">'+m.encode(u.title)+'</div><button type="button" class="'+q+'close" aria-hidden="true">&times;</button><div id="'+p+'-dragh" class="'+q+'dragh"></div></div>'),u.url&&(j='<iframe src="'+u.url+'" tabindex="-1"></iframe>'),"undefined"==typeof j&&(j=l.renderHtml(m)),m.statusbar&&(k=m.statusbar.renderHtml()),'<div id="'+p+'" class="'+m.classes()+'" hideFocus="1" tabIndex="-1">'+h+'<div id="'+p+'-body" class="'+m.classes("body")+'">'+j+"</div>"+k+"</div>"},fullscreen:function(m){var l=this,n=document.documentElement,p,h=l.classPrefix,k;if(m!=l._fullscreen){if(d.on(window,"resize",function(){var i;if(l._fullscreen){if(p){l._timer||(l._timer=setTimeout(function(){var q=d.getWindowSize();l.moveTo(0,0).resizeTo(q.w,q.h),l._timer=0},50))}else{i=(new Date).getTime();var o=d.getWindowSize();l.moveTo(0,0).resizeTo(o.w,o.h),(new Date).getTime()-i>50&&(p=!0)}}}),k=l.layoutRect(),l._fullscreen=m,m){l._initial={x:k.x,y:k.y,w:k.w,h:k.h},l._borderBox=l.parseBox("0"),l.getEl("head").style.display="none",k.deltaH-=k.headerH+2,d.addClass(n,h+"fullscreen"),d.addClass(document.body,h+"fullscreen"),l.addClass("fullscreen");var j=d.getWindowSize();l.moveTo(0,0).resizeTo(j.w,j.h)}else{l._borderBox=l.parseBox(l.settings.border),l.getEl("head").style.display="",k.deltaH+=k.headerH,d.removeClass(n,h+"fullscreen"),d.removeClass(document.body,h+"fullscreen"),l.removeClass("fullscreen"),l.moveTo(l._initial.x,l._initial.y).resizeTo(l._initial.w,l._initial.h)}}return l.reflow()},postRender:function(){var k=this,j=[],l,h,i;setTimeout(function(){k.addClass("in")},0),k.keyboardNavigation=new f({root:k,enableLeftRight:!1,enableUpDown:!1,items:j,onCancel:function(){k.close()}}),k.find("*").each(function(m){m.canFocus&&(h=h||m.settings.autofocus,l=l||m,"filepicker"==m.type?(j.push(m.getEl("inp")),m.getEl("open")&&j.push(m.getEl("open").firstChild)):j.push(m.getEl()))}),k.statusbar&&k.statusbar.find("*").each(function(m){m.canFocus&&(h=h||m.settings.autofocus,l=l||m,j.push(m.getEl()))}),k._super(),k.statusbar&&k.statusbar.postRender(),!h&&l&&l.focus(),this.dragHelper=new g(k._id+"-dragh",{start:function(){i={x:k.layoutRect().x,y:k.layoutRect().y}},drag:function(e){k.moveTo(i.x+e.deltaX,i.y+e.deltaY)}}),k.on("submit",function(e){e.isDefaultPrevented()||k.close()})},submit:function(){var h=this.getParentCtrl(document.activeElement);return h&&h.blur(),this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this;h._super(),h.dragHelper.destroy(),h.statusbar&&this.statusbar.remove()}});return a}),aG(aE,[aW],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(c){var d,e=c.callback||function(){};switch(c.buttons){case a.OK_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),e(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),e(!1)}}];break;case a.YES_NO:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),e(!0)}}];break;case a.YES_NO_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}]}return new b({padding:20,x:c.x,y:c.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:c.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:c.text},onClose:c.onClose}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aG(bN,[aW,aE],function(b,a){return function(c){var d=this,e=[];d.windows=e,d.open=function(g,h){var f;return g.url=g.url||g.file,g.url&&(g.width=parseInt(g.width||320,10),g.height=parseInt(g.height||240,10)),g.body&&(g.items={defaults:g.defaults,type:g.bodyType||"form",items:g.body}),g.url||g.buttons||(g.buttons=[{text:"Ok",subtype:"primary",onclick:function(){f.find("form")[0].submit(),f.close()}},{text:"Cancel",onclick:function(){f.close()}}]),f=new b(g),e.push(f),f.on("close",function(){for(var i=e.length;i--;){e[i]===f&&e.splice(i,1)}c.focus()}),g.data&&f.on("postRender",function(){this.find("*").each(function(i){var j=i.name();j in g.data&&i.value(g.data[j])})}),f.params=h||{},c.nodeChanged(),f.renderTo(document.body).reflow()},d.alert=function(f,g,h){a.alert(f,function(){g.call(h||this)})},d.confirm=function(f,g,h){a.confirm(f,function(i){g.call(h||this,i)})},d.close=function(){e.length&&e[e.length-1].close()},d.getParams=function(){return e.length?e[e.length-1].params:null},d.setParams=function(f){e.length&&(e[e.length-1].params=f)}}}),aG(bQ,[av,bw,by,bm,bl,bG],function(c,b,d,f,g,a){return function(e){function b3(k,h){try{e.getDoc().execCommand(k,!1,h)}catch(l){}}function ca(){var h=e.getDoc().documentMode;return h?h:6}function r(h){return h.isDefaultPrevented()}function ce(){function h(m){function q(){if(3==A.nodeType){if(m&&p==A.length){return !0}if(!m&&0===p){return !0}}}var w,z,v,x,A,p,k;w=Q.getRng();var y=[w.startContainer,w.startOffset,w.endContainer,w.endOffset];if(w.collapsed||(m=!0),A=w[(m?"start":"end")+"Container"],p=w[(m?"start":"end")+"Offset"],3==A.nodeType&&(z=bt.getParent(w.startContainer,bt.isBlock),m&&(z=bt.getNext(z,bt.isBlock)),!z||!q()&&w.collapsed||(v=bt.create("em",{id:"__mceDel"}),j(a.grep(z.childNodes),function(l){v.appendChild(l)}),z.appendChild(v))),w=bt.createRng(),w.setStart(y[0],y[1]),w.setEnd(y[2],y[3]),Q.setRng(w),e.getDoc().execCommand(m?"ForwardDelete":"Delete",!1,null),v){for(x=Q.getBookmark();k=bt.get("__mceDel");){bt.remove(k,!0)}Q.moveToBookmark(x)}}e.on("keydown",function(k){var l;l=k.keyCode==cb,r(k)||!l&&k.keyCode!=cd||c.modifierPressed(k)||(k.preventDefault(),h(l))}),e.addCommand("Delete",function(){h()})}function cg(){function k(m){var l=bt.create("body"),p=m.cloneContents();return l.appendChild(p),Q.serializer.serialize(l,{format:"html"})}function h(l){var m=k(l),p=bt.createRng();p.selectNode(e.getBody());var q=k(p);return m===q}e.on("keydown",function(l){var m=l.keyCode,p;if(!r(l)&&(m==cb||m==cd)){if(p=e.selection.isCollapsed(),p&&!bt.isEmpty(e.getBody())){return}if(b8&&!p){return}if(!p&&!h(e.selection.getRng())){return}l.preventDefault(),e.setContent(""),e.selection.setCursorLocation(e.getBody(),0),e.nodeChanged()}})}function b9(){e.on("keydown",function(h){!r(h)&&65==h.keyCode&&c.metaKeyPressed(h)&&(h.preventDefault(),e.execCommand("SelectAll"))})}function cc(){e.settings.content_editable||(bt.bind(e.getDoc(),"focusin",function(){Q.setRng(Q.getRng())}),bt.bind(e.getDoc(),"mousedown",function(h){h.target==e.getDoc().documentElement&&(e.getWin().focus(),Q.setRng(Q.getRng()))}))}function b1(){e.on("keydown",function(k){if(!r(k)&&k.keyCode===cd&&Q.isCollapsed()&&0===Q.getRng(!0).startOffset){var h=Q.getNode(),l=h.previousSibling;l&&l.nodeName&&"hr"===l.nodeName.toLowerCase()&&(bt.remove(l),k.preventDefault())}})}function b0(){window.Range.prototype.getClientRects||e.on("mousedown",function(k){if(!r(k)&&"HTML"===k.target.nodeName){var h=e.getBody();h.blur(),setTimeout(function(){h.focus()},0)}})}function bY(){e.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&Q.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&bt.hasClass(h,"mceItemAnchor")&&Q.select(h),e.nodeChanged()})}function cf(){function k(){var l=bt.getAttribs(Q.getStart().cloneNode(!1));return function(){var m=Q.getStart();m!==e.getBody()&&(bt.setAttrib(m,"style",null),j(l,function(p){m.setAttributeNode(p.cloneNode(!0))}))}}function h(){return !Q.isCollapsed()&&bt.getParent(Q.getStart(),bt.isBlock)!=bt.getParent(Q.getEnd(),bt.isBlock)}e.on("keypress",function(l){var m;return r(l)||8!=l.keyCode&&46!=l.keyCode||!h()?void 0:(m=k(),e.getDoc().execCommand("delete",!1,null),m(),l.preventDefault(),!1)}),bt.bind(e.getDoc(),"cut",function(l){var m;!r(l)&&h()&&(m=k(),setTimeout(function(){m()},0))})}function bX(){var h,k;e.on("selectionchange",function(){k&&(clearTimeout(k),k=0),k=window.setTimeout(function(){var l=Q.getRng();h&&b.compareRanges(l,h)||(e.nodeChanged(),h=l)},50)})}function at(){document.body.setAttribute("role","application")}function G(){e.on("keydown",function(k){if(!r(k)&&k.keyCode===cd&&Q.isCollapsed()&&0===Q.getRng(!0).startOffset){var h=Q.getNode().previousSibling;if(h&&h.nodeName&&"table"===h.nodeName.toLowerCase()){return k.preventDefault(),!1}}})}function t(){ca()>7||(b3("RespectVisibilityInDesign",!0),e.contentStyles.push(".mceHideBrInPre pre br {display: none}"),bt.addClass(e.getBody(),"mceHideBrInPre"),K.addNodeFilter("pre",function(m){for(var l=m.length,p,q,h,k;l--;){for(p=m[l].getAll("br"),q=p.length;q--;){h=p[q],k=h.prev,k&&3===k.type&&"\n"!=k.value.charAt(k.value-1)?k.value+="\n":h.parent.insert(new d("#text",3),h,!0).value="\n"}}}),J.addNodeFilter("pre",function(l){for(var k=l.length,m,p,q,h;k--;){for(m=l[k].getAll("br"),p=m.length;p--;){q=m[p],h=q.prev,h&&3==h.type&&(h.value=h.value.replace(/\r?\n$/,""))}}}))}function Z(){bt.bind(e.getBody(),"mouseup",function(){var k,h=Q.getNode();"IMG"==h.nodeName&&((k=bt.getStyle(h,"width"))&&(bt.setAttrib(h,"width",k.replace(/[^0-9%]+/g,"")),bt.setStyle(h,"width","")),(k=bt.getStyle(h,"height"))&&(bt.setAttrib(h,"height",k.replace(/[^0-9%]+/g,"")),bt.setStyle(h,"height","")))})}function o(){e.on("keydown",function(k){var p,x,m,w,q,y,h,v;if(p=k.keyCode==cb,!r(k)&&(p||k.keyCode==cd)&&!c.modifierPressed(k)&&(x=Q.getRng(),m=x.startContainer,w=x.startOffset,h=x.collapsed,3==m.nodeType&&m.nodeValue.length>0&&(0===w&&!h||h&&w===(p?0:1)))){if(y=m.previousSibling,y&&"IMG"==y.nodeName){return}v=e.schema.getNonEmptyElements(),k.preventDefault(),q=bt.create("br",{id:"__tmp"}),m.parentNode.insertBefore(q,m),e.getDoc().execCommand(p?"ForwardDelete":"Delete",!1,null),m=Q.getRng().startContainer,y=m.previousSibling,y&&1==y.nodeType&&!bt.isBlock(y)&&bt.isEmpty(y)&&!v[y.nodeName.toLowerCase()]&&bt.remove(y),bt.remove("__tmp")}})}function ch(){e.on("keydown",function(l){var m,p,q,h,k;if(!r(l)&&l.keyCode==c.BACKSPACE&&(m=Q.getRng(),p=m.startContainer,q=m.startOffset,h=bt.getRoot(),k=p,m.collapsed&&0===q)){for(;k&&k.parentNode&&k.parentNode.firstChild==k&&k.parentNode!=h;){k=k.parentNode}"BLOCKQUOTE"===k.tagName&&(e.formatter.toggle("blockquote",null,k),m=bt.createRng(),m.setStart(p,0),m.setEnd(p,0),Q.setRng(m))}})}function bV(){function h(){e._refreshContentEditable(),b3("StyleWithCSS",!1),b3("enableInlineTableEditing",!1),i.object_resizing||b3("enableObjectResizing",!1)}i.readonly||e.on("BeforeExecCommand MouseDown",h)}function b5(){function h(){j(bt.select("a"),function(l){var k=l.parentNode,m=bt.getRoot();if(k.lastChild===l){for(;k&&!bt.isBlock(k);){if(k.parentNode.lastChild!==k||k===m){return}k=k.parentNode}bt.add(k,"br",{"data-mce-bogus":1})}})}e.on("SetContent ExecCommand",function(k){("setcontent"==k.type||"mceInsertLink"===k.command)&&h()})}function bZ(){i.forced_root_block&&e.on("init",function(){b3("DefaultParagraphSeparator",i.forced_root_block)})}function b4(){e.on("Undo Redo SetContent",function(h){h.initial||e.execCommand("mceRepaint")})}function b7(){e.on("keydown",function(k){var h;r(k)||k.keyCode!=cd||(h=e.getDoc().selection.createRange(),h&&h.item&&(k.preventDefault(),e.undoManager.beforeChange(),bt.remove(h.item(0)),e.undoManager.add()))})}function b6(){var h;ca()>=10&&(h="",j("p div h1 h2 h3 h4 h5 h6".split(" "),function(k,l){h+=(l>0?",":"")+k+":empty"}),e.contentStyles.push(h+"{padding-right: 1px !important}"))}function n(){ca()<9&&(K.addNodeFilter("noscript",function(k){for(var h=k.length,l,m;h--;){l=k[h],m=l.firstChild,m&&l.attr("data-mce-innertext",m.value)}}),J.addNodeFilter("noscript",function(m){for(var l=m.length,p,h,k;l--;){p=m[l],h=m[l].firstChild,h?h.value=f.decode(h.value):(k=p.attributes.map["data-mce-innertext"],k&&(p.attr("data-mce-innertext",null),h=new d("#text",3),h.value=k,h.raw=!0,p.append(h)))}}))}function bW(){function p(w,s){var x=v.createTextRange();try{x.moveToPoint(w,s)}catch(y){x=null}return x}function m(s){var w;s.button?(w=p(s.x,s.y),w&&(w.compareEndPoints("StartToStart",l)>0?w.setEndPoint("StartToStart",l):w.setEndPoint("EndToEnd",l),w.select())):q()}function q(){var s=u.selection.createRange();l&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&l.select(),bt.unbind(u,"mouseup",q),bt.unbind(u,"mousemove",m),l=h=0}var u=bt.doc,v=u.body,h,l,k;u.documentElement.unselectable=!0,bt.bind(u,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(h&&q(),k=u.documentElement,k.scrollHeight>k.clientHeight){return}h=1,l=p(s.x,s.y),l&&(bt.bind(u,"mouseup",q),bt.bind(u,"mousemove",m),bt.win.focus(),l.select())}})}function b2(){e.on("keyup focusin",function(h){65==h.keyCode&&c.metaKeyPressed(h)||Q.normalize()})}function ci(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}var j=a.each,cd=c.BACKSPACE,cb=c.DELETE,bt=e.dom,Q=e.selection,i=e.settings,K=e.parser,J=e.serializer,Y=g.gecko,b8=g.ie,X=g.webkit;G(),ch(),cg(),b2(),X&&(o(),ce(),cc(),bY(),bZ(),g.iOS?bX():b9()),b8&&(b1(),at(),t(),Z(),b7(),b6(),n(),bW()),Y&&(b1(),b0(),cf(),bV(),b5(),b4(),ci())}}),aG(bi,[bG],function(b){function a(){return !1}function c(){return !0}var d="__bindings",f=b.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(h,k,p){var q=this,m,r,j,g,n;if(h=h.toLowerCase(),k=k||{},k.type=h,k.target||(k.target=q),k.preventDefault||(k.preventDefault=function(){k.isDefaultPrevented=c},k.stopPropagation=function(){k.isPropagationStopped=c},k.stopImmediatePropagation=function(){k.isImmediatePropagationStopped=c},k.isDefaultPrevented=a,k.isPropagationStopped=a,k.isImmediatePropagationStopped=a),q[d]&&(m=q[d][h])){for(r=0,j=m.length;j>r&&(m[r]=g=m[r],!k.isImmediatePropagationStopped());r++){if(g.call(q,k)===!1){return k.preventDefault(),k}}}if(p!==!1&&q.parent){for(n=q.parent();n&&!k.isPropagationStopped();){n.fire(h,k,!1),n=n.parent()}}return k},on:function(k,j){var m=this,g,i,h,p;if(j===!1&&(j=function(){return !1}),j){for(h=k.toLowerCase().split(" "),p=h.length;p--;){k=h[p],g=m[d],g||(g=m[d]={}),i=g[k],i||(i=g[k]=[],m.bindNative&&f[k]&&m.bindNative(k)),i.push(j)}}return m},off:function(h,j){var k=this,p,q=k[d],m,r,i,g;if(q){if(h){for(i=h.toLowerCase().split(" "),p=i.length;p--;){if(h=i[p],m=q[h],!h){for(r in q){q[h].length=0}return k}if(m){if(j){for(g=m.length;g--;){m[g]===j&&m.splice(g,1)}}else{m.length=0}!m.length&&k.unbindNative&&f[h]&&(k.unbindNative(h),delete q[h])}}}else{if(k.unbindNative){for(h in q){k.unbindNative(h)}}k[d]=[]}}return k}}}),aG(a2,[bG,bl],function(b,a){var c=b.each,d=b.explode,f={f9:120,f10:121,f11:122};return function(e){var h=this,g={};e.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&c(g,function(j){var k=a.mac?i.ctrlKey||i.metaKey:i.ctrlKey;if(j.ctrl==k&&j.alt==i.altKey&&j.shift==i.shiftKey){return i.keyCode==j.keyCode||i.charCode&&i.charCode==j.charCode?(i.preventDefault(),"keydown"==i.type&&j.func.call(j.scope),!0):void 0}})}),h.add=function(j,i,n,m){var k;return k=n,"string"==typeof n?n=function(){e.execCommand(k,!1,null)}:b.isArray(k)&&(n=function(){e.execCommand(k[0],k[1],k[2])}),c(d(j.toLowerCase()),function(o){var l={func:n,scope:m||e,desc:e.translate(i),alt:!1,ctrl:!1,shift:!1};c(d(o,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":l[p]=!0;break;default:l.charCode=p.charCodeAt(0),l.keyCode=f[p]||p.toUpperCase().charCodeAt(0)}}),g[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}}),aG(bL,[a9,bA,by,bJ,ak,ay,bH,bu,aC,aT,bh,bE,ao,af,bN,bR,a4,bQ,bl,bG,bi,a2],function(b1,b0,b2,J,K,j,bW,b5,F,b9,cb,b4,b7,bt,at,Y,ca,X,U,I,G,Q){function z(b,a){return"selectionchange"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu/.test(a)?b.getDoc():b.getBody()}function cc(f,d,g){var h=this,b,c;b=h.documentBaseUrl=g.documentBaseURL,c=g.baseURI,h.settings=d=bX({id:f,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:b,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:h.convertURL,url_converter_scope:h,ie7_compat:!0},d),b0.settings=d,b0.baseURL=g.baseURL,h.id=d.id=f,h.isNotDirty=!0,h.plugins={},h.documentBaseURI=new b4(d.document_base_url||b,{base_uri:c}),h.baseURI=c,h.contentCSS=[],h.contentStyles=[],h.shortcuts=new Q(h),h.execCommands={},h.queryStateCommands={},h.queryValueCommands={},h.loadedCSS={},h.suffix=g.suffix,h.editorManager=g,h.inline=d.inline,h.execCallback("setup",h)}var V=b1.DOM,bY=b0.ThemeManager,Z=b0.PluginManager,bX=I.extend,b3=I.each,bZ=I.explode,t=I.inArray,W=I.trim,bV=I.resolve,cd=bt.Event,q=U.gecko,b8=U.ie,b6=U.opera;return cc.prototype={render:function(){function c(){var h=b7.ScriptLoader;d.language&&(d.language_url=b.editorManager.baseURL+"/langs/"+d.language+".js"),d.language_url&&h.add(d.language_url),d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!bY.urls[d.theme]&&bY.load(d.theme,"themes/"+d.theme+"/theme"+g+".js"),I.isArray(d.plugins)&&(d.plugins=d.plugins.join(" ")),b3(d.external_plugins,function(k,i){Z.load(i,k),d.plugins+=" "+i}),b3(d.plugins.split(/[ ,]/),function(k){if(k=W(k),k&&!Z.urls[k]){if("-"==k.charAt(0)){k=k.substr(1,k.length);var i=Z.dependencies(k);b3(i,function(m){var l={prefix:"plugins/",resource:m,suffix:"/plugin"+g+".js"};m=Z.createUrl(l,m),Z.load(m.resource,m)})}else{Z.load(k,{prefix:"plugins/",resource:k,suffix:"/plugin"+g+".js"})}}}),h.loadQueue(function(){b.removed||b.init()})}var b=this,d=b.settings,f=b.id,g=b.suffix;if(!cd.domLoaded){return V.bind(window,"ready",function(){b.render()}),void 0}if(b.editorManager.settings=d,b.getElement()&&U.contentEditable){d.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var a=b.getElement().form||V.getParent(f,"form");a&&(b.formElement=a,d.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&V.insertAfter(V.create("input",{type:"hidden",name:f}),f),b.formEventDelegate=function(h){b.fire(h.type,h)},V.bind(a,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!d.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return b.editorManager.triggerSave(),b.isNotDirty=!0,a._mceOldSubmit(a)})),b.windowManager=new at(b),"xml"==d.encoding&&b.on("GetContent",function(h){h.save&&(h.content=V.encode(h.content))}),d.add_form_submit_trigger&&b.on("submit",function(){b.initialized&&(b.save(),b.isNotDirty=!0)}),d.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||b.destroyed||b.isHidden()||b.save({format:"raw",no_events:!0})},b.editorManager.on("BeforeUnload",b._beforeUnload)),c()}},init:function(){function g(c){var d=Z.get(c),e,a;e=Z.urls[c]||v.documentBaseUrl.replace(/\/$/,""),c=W(c),d&&-1===t(D,c)&&(b3(Z.dependencies(c),function(f){g(f)}),a=new d(v,e),v.plugins[c]=a,a.init&&(a.init(v,e),D.push(c)))}var v=this,x=v.settings,H=v.getElement(),w,E,L,B,N,k,b,C,A,M,D=[];if(v.editorManager.add(v),x.aria_label=x.aria_label||V.getAttrib(H,"aria-label",v.getLang("aria.rich_text_area")),x.theme&&("function"!=typeof x.theme?(x.theme=x.theme.replace(/-/,""),N=bY.get(x.theme),v.theme=new N(v,bY.urls[x.theme]),v.theme.init&&v.theme.init(v,bY.urls[x.theme]||v.documentBaseUrl.replace(/\/$/,""))):v.theme=x.theme),b3(x.plugins.replace(/\-/g,"").split(/[ ,]/),g),v.fire("BeforeRenderUI"),x.render_ui&&v.theme&&(v.orgDisplay=H.style.display,"function"!=typeof x.theme?(w=x.width||H.style.width||H.offsetWidth,E=x.height||H.style.height||H.offsetHeight,L=x.min_height||100,A=/^[0-9\.]+(|px)$/i,A.test(""+w)&&(w=Math.max(parseInt(w,10)+(N.deltaWidth||0),100)),A.test(""+E)&&(E=Math.max(parseInt(E,10)+(N.deltaHeight||0),L)),N=v.theme.renderUI({targetNode:H,width:w,height:E,deltaWidth:x.delta_width,deltaHeight:x.delta_height}),x.content_editable||(V.setStyles(N.sizeContainer||N.editorContainer,{wi2dth:w,h2eight:E}),E=(N.iframeHeight||E)+("number"==typeof E?N.deltaHeight||0:""),L>E&&(E=L))):(N=x.theme(v,H),N.editorContainer.nodeType&&(N.editorContainer=N.editorContainer.id=N.editorContainer.id||v.id+"_parent"),N.iframeContainer.nodeType&&(N.iframeContainer=N.iframeContainer.id=N.iframeContainer.id||v.id+"_iframecontainer"),E=N.iframeHeight||H.offsetHeight),v.editorContainer=N.editorContainer),x.content_css&&b3(bZ(x.content_css),function(a){v.contentCSS.push(v.documentBaseURI.toAbsolute(a))}),x.content_style&&v.contentStyles.push(x.content_style),x.content_editable){return H=B=N=null,v.initContentBody()}for(document.domain&&location.hostname!=document.domain&&(v.editorManager.relaxedDomain=document.domain),v.iframeHTML=x.doctype+"<html><head>",x.document_base_url!=v.documentBaseUrl&&(v.iframeHTML+='<base href="'+v.documentBaseURI.getURI()+'" />'),!U.caretAfter&&x.ie7_compat&&(v.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),v.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',M=0;M<v.contentCSS.length;M++){var y=v.contentCSS[M];v.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y+'" />',v.loadedCSS[y]=!0}b=x.body_id||"tinymce",-1!=b.indexOf("=")&&(b=v.getParam("body_id","","hash"),b=b[v.id]||b),C=x.body_class||"",-1!=C.indexOf("=")&&(C=v.getParam("body_class","","hash"),C=C[v.id]||""),v.iframeHTML+='</head><body id="'+b+'" class="mce-content-body '+C+'" onload="window.parent.tinymce.get(\''+v.id+"').fire('load');\"><br></body></html>",v.editorManager.relaxedDomain&&(b8||b6&&parseFloat(window.opera.version())<11)&&(k='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+v.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),B=V.add(N.iframeContainer,"iframe",{id:v.id+"_ifr",src:k||'javascript:""',frameBorder:"0",allowTransparency:"true",title:v.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:E,display:"block"}}),v.contentAreaContainer=N.iframeContainer,N.editorContainer&&(V.get(N.editorContainer).style.display=v.orgDisplay),V.get(v.id).style.display="none",V.setAttrib(v.id,"aria-hidden",!0),v.editorManager.relaxedDomain&&k||v.initContentBody(),H=B=N=null},initContentBody:function(){var b=this,c=b.settings,a=V.get(b.id),d=b.getDoc(),g,e;c.inline||(b.getElement().style.visibility=b.orgVisibility),b8&&b.editorManager.relaxedDomain||c.content_editable||(d.open(),d.write(b.iframeHTML),d.close(),b.editorManager.relaxedDomain&&(d.domain=b.editorManager.relaxedDomain)),c.content_editable&&(b.on("remove",function(){var f=this.getBody();V.removeClass(f,"mce-content-body"),V.removeClass(f,"mce-edit-focus"),V.setAttrib(f,"tabIndex",null),V.setAttrib(f,"contentEditable",null)}),V.addClass(a,"mce-content-body"),a.tabIndex=-1,b.contentDocument=d=c.content_document||document,b.contentWindow=c.content_window||window,b.bodyElement=a,c.content_document=c.content_window=null,c.root_name=a.nodeName.toLowerCase()),g=b.getBody(),g.disabled=!0,c.readonly||(g.contentEditable=b.getParam("content_editable_state",!0)),g.disabled=!1,b.schema=new Y(c),b.dom=new b1(d,{keep_values:!0,url_converter:b.convertURL,url_converter_scope:b,hex_colors:c.force_hex_style_colors,class_filter:c.class_filter,update_styles:!0,root_element:c.content_editable?b.id:null,schema:b.schema,onSetAttrib:function(f){b.fire("SetAttrib",f)}}),b.parser=new ca(c,b.schema),b.parser.addAttributeFilter("src,href,style",function(l,m){for(var p=l.length,u,f=b.dom,k,h;p--;){u=l[p],k=u.attr(m),h="data-mce-"+m,u.attributes.map[h]||("style"===m?u.attr(h,f.serializeStyle(f.parseStyle(k),u.name)):u.attr(h,b.convertURL(k,m,u.name)))}}),b.parser.addNodeFilter("script",function(h){for(var f=h.length,i;f--;){i=h[f],i.attr("type","mce-"+(i.attr("type")||"text/javascript"))}}),b.parser.addNodeFilter("#cdata",function(h){for(var f=h.length,i;f--;){i=h[f],i.type=8,i.name="#comment",i.value="[CDATA["+i.value+"]]"}}),b.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(h){for(var k=h.length,l,f=b.schema.getNonEmptyElements();k--;){l=h[k],l.isEmpty(f)&&(l.empty().append(new b2("br",1)).shortEnded=!0)}}),b.serializer=new J(c,b),b.selection=new j(b.dom,b.getWin(),b.serializer,b),b.formatter=new bW(b),b.undoManager=new b5(b),b.forceBlocks=new b9(b),b.enterKey=new F(b),b.editorCommands=new cb(b),b.fire("PreInit"),c.browser_spellcheck||c.gecko_spellcheck||(d.body.spellcheck=!1),b.fire("PostRender"),b.quirks=X(b),c.directionality&&(g.dir=c.directionality),c.nowrap&&(g.style.whiteSpace="nowrap"),c.protect&&b.on("BeforeSetContent",function(f){b3(c.protect,function(h){f.content=f.content.replace(h,function(i){return"<!--mce:protected "+escape(i)+"-->"})})}),b.on("SetContent",function(){b.addVisual(b.getBody())}),c.padd_empty_editor&&b.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),b.load({initial:!0,format:"html"}),b.startContent=b.getContent({format:"raw"}),b.initialized=!0,b3(b._pendingNativeEvents,function(f){b.dom.bind(z(b,f),f,function(h){b.fire(h.type,h)})}),b.fire("init"),b.focus(!0),b.nodeChanged({initial:!0}),b.execCallback("init_instance_callback",b),b.contentStyles.length>0&&(e="",b3(b.contentStyles,function(f){e+=f+"\r\n"}),b.dom.addStyle(e)),b3(b.contentCSS,function(f){b.loadedCSS[f]||(b.dom.loadCSS(f),b.loadedCSS[f]=!0)}),c.auto_focus&&setTimeout(function(){var f=b.editorManager.get(c.auto_focus);f.selection.select(f.getBody(),1),f.selection.collapse(1),f.getBody().focus(),f.getWin().focus()},100),a=d=g=null},focus:function(b){var c,f=this,k=f.selection,d=f.settings.content_editable,h,m,g=f.getDoc(),p;b||(h=k.getRng(),h.item&&(m=h.item(0)),f._refreshContentEditable(),d||(f.getBody().focus(),f.getWin().focus()),(q||d)&&(p=f.getBody(),p.setActive?p.setActive():p.focus(),d&&k.normalize()),m&&m.ownerDocument==g&&(h=g.body.createControlRange(),h.addElement(m),h.select())),f.editorManager.activeEditor!=f&&((c=f.editorManager.activeEditor)&&c.fire("deactivate",{relatedTarget:f}),f.fire("activate",{relatedTarget:c})),f.editorManager.activeEditor=f},execCallback:function(b){var a=this,c=a.settings[b],d;if(c){return a.callbackLookup&&(d=a.callbackLookup[b])&&(c=d.func,d=d.scope),"string"==typeof c&&(d=c.replace(/\.\w+$/,""),d=d?bV(d):0,c=bV(c),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[b]={func:c,scope:d}),c.apply(d||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(d,f){return c[a+"."+f]||"{#"+f+"}"}):""},getLang:function(a,b){return this.editorManager.i18n[(this.settings.language||"en")+"."+a]||(b!==aj?b:"{#"+a+"}")},getParam:function(b,a,c){var d=b in this.settings?this.settings[b]:a,f;return"hash"===c?(f={},"string"==typeof d?b3(d.indexOf("=")>0?d.split(/[;,](?![^=;,]*(?:[;,]|$))/):d.split(","),function(g){g=g.split("="),f[W(g[0])]=g.length>1?W(g[1]):W(g)}):f=d,f):d},nodeChanged:function(){var b=this,a=b.selection,c,d,f;b.initialized&&!b.settings.disable_nodechange&&(f=b.getBody(),c=a.getStart()||f,c=b8&&c.ownerDocument!=b.getDoc()?b.getBody():c,"IMG"==c.nodeName&&a.isCollapsed()&&(c=c.parentNode),d=[],b.dom.getParent(c,function(g){return g===f?!0:(d.push(g),void 0)}),b.fire("NodeChange",{element:c,parents:d}))},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,a.icon=a.icon||(a.icon!==!1?b:!1),c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addCommand:function(b,a,c){this.execCommands[b]={func:a,scope:c||this}},addQueryStateHandler:function(b,a,c){this.queryStateCommands[b]={func:a,scope:c||this}},addQueryValueHandler:function(b,a,c){this.queryValueCommands[b]={func:a,scope:c||this}},addShortcut:function(b,a,c,d){this.shortcuts.add(b,a,c,d)},execCommand:function(f,d,g,h){var k=this,b=0,c;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(f)||h&&h.skip_focus||k.focus(),h=bX({},h),h=k.fire("BeforeExecCommand",{command:f,ui:d,value:g}),h.isDefaultPrevented()?!1:(c=k.execCommands[f])&&c.func.call(c.scope,d,g)!==!0?(k.fire("ExecCommand",{command:f,ui:d,value:g}),!0):(b3(k.plugins,function(a){return a.execCommand&&a.execCommand(f,d,g)?(k.fire("ExecCommand",{command:f,ui:d,value:g}),b=!0,!1):void 0}),b?b:k.theme&&k.theme.execCommand&&k.theme.execCommand(f,d,g)?(k.fire("ExecCommand",{command:f,ui:d,value:g}),!0):k.editorCommands.execCommand(f,d,g)?(k.fire("ExecCommand",{command:f,ui:d,value:g}),!0):(k.getDoc().execCommand(f,d,g),k.fire("ExecCommand",{command:f,ui:d,value:g}),void 0))},queryCommandState:function(b){var a=this,c,d;if(!a._isHidden()){if((c=a.queryStateCommands[b])&&(d=c.func.call(c.scope),d!==!0)){return d}if(d=a.editorCommands.queryCommandState(b),-1!==d){return d}try{return a.getDoc().queryCommandState(b)}catch(f){}}},queryCommandValue:function(b){var c=this,d,f;if(!c._isHidden()){if((d=c.queryValueCommands[b])&&(f=d.func.call(d.scope),f!==!0)){return f}if(f=c.editorCommands.queryCommandValue(b),f!==aj){return f}try{return c.getDoc().queryCommandValue(b)}catch(a){}}},show:function(){var a=this;V.show(a.getContainer()),V.hide(a.id),a.load(),a.fire("show")},hide:function(){var b=this,a=b.getDoc();b8&&a&&a.execCommand("SelectAll"),b.save(),V.hide(b.getContainer()),V.setStyle(b.id,"display",b.orgDisplay),b.fire("hide")},isHidden:function(){return !V.isHidden(this.id)},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(a){var b=this,c=b.getElement(),d;return c?(a=a||{},a.load=!0,d=b.setContent(c.value!==aj?c.value:c.innerHTML,a),a.element=c,a.no_events||b.fire("LoadContent",a),a.element=c=null,d):void 0},save:function(b){var a=this,c=a.getElement(),d,f;if(c&&a.initialized){return b=b||{},b.save=!0,b.element=c,d=b.content=a.getContent(b),b.no_events||a.fire("SaveContent",b),d=b.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(c.innerHTML=d,(f=V.getParent(a.id,"form"))&&b3(f.elements,function(g){return g.name==a.id?(g.value=d,!1):void 0})),b.element=c=null,a.isNotDirty=!0,d}},setContent:function(b,a){var c=this,d=c.getBody(),f;return a=a||{},a.format=a.format||"html",a.set=!0,a.content=b,a.no_events||c.fire("BeforeSetContent",a),b=a.content,b8||0!==b.length&&!/^\s+$/.test(b)?("raw"!==a.format&&(b=new K({},c.schema).serialize(c.parser.parse(b,{isRootContent:!0}))),a.content=W(b),c.dom.setHTML(d,a.content),a.no_events||c.fire("SetContent",a),c.settings.content_editable&&document.activeElement!==c.getBody()||c.selection.normalize(),a.content):(f=c.settings.forced_root_block,b=f&&c.schema.isValidChild(d.nodeName.toLowerCase(),f.toLowerCase())?"<"+f+'><br data-mce-bogus="1"></'+f+">":'<br data-mce-bogus="1">',d.innerHTML=b,c.selection.select(d,!0),c.selection.collapse(!0),c.fire("SetContent",a),void 0)},getContent:function(b){var a=this,c,d=a.getBody();return b=b||{},b.format=b.format||"html",b.get=!0,b.getInner=!0,b.no_events||a.fire("BeforeGetContent",b),c="raw"==b.format?d.innerHTML:"text"==b.format?d.innerText||d.textContent:a.serializer.serialize(d,b),b.content="text"!=b.format?W(c):c,b.no_events||a.fire("GetContent",b),b.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=V.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return V.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;return b.contentWindow||(a=V.get(b.id+"_ifr"),a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(b,a,c){var d=this,f=d.settings;return f.urlconverter_callback?d.execCallback("urlconverter_callback",b,c,!0,a):!f.convert_urls||c&&"LINK"==c.nodeName||0===b.indexOf("file:")||0===b.length?b:f.relative_urls?d.documentBaseURI.toRelative(b):b=d.documentBaseURI.toAbsolute(b,f.remove_script_host)},addVisual:function(b){var c=this,d=c.settings,f=c.dom,a;b=b||c.getBody(),c.hasVisual===aj&&(c.hasVisual=d.visual),b3(f.select("table,a",b),function(h){var g;switch(h.nodeName){case"TABLE":return a=d.visual_table_class||"mce-item-table",g=f.getAttrib(h,"border"),g&&"0"!=g||(c.hasVisual?f.addClass(h,a):f.removeClass(h,a)),void 0;case"A":return f.getAttrib(h,"href",!1)||(g=f.getAttrib(h,"name")||h.id,a="mce-item-anchor",g&&(c.hasVisual?f.addClass(h,a):f.removeClass(h,a))),void 0}}),c.fire("VisualAid",{element:b,hasVisual:c.hasVisual})},remove:function(){var b=this,a=b.getContainer(),c=b.getDoc();b.removed||(b.removed=1,b8&&c&&c.execCommand("SelectAll"),b.save(),V.setStyle(b.id,"display",b.orgDisplay),b.settings.content_editable||(cd.unbind(b.getWin()),cd.unbind(b.getDoc())),cd.unbind(b.getBody()),cd.unbind(a),b.fire("remove"),b.editorManager.remove(b),V.remove(a))},bindNative:function(b){var a=this;a.initialized?a.dom.bind(z(a,b),b,function(c){a.fire(b,c)}):a._pendingNativeEvents?a._pendingNativeEvents.push(b):a._pendingNativeEvents=[b]},unbindNative:function(b){var a=this;a.initialized&&a.dom.unbind(b)},destroy:function(b){var a=this,c;a.destroyed||(q&&(cd.unbind(a.getDoc()),cd.unbind(a.getWin()),cd.unbind(a.getBody())),b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null,V.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=null,a.settings.content_element=a.bodyElement=a.contentDocument=a.contentWindow=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1)},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return q?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},bX(cc.prototype,G),cc}),aG(aQ,[],function(){var a={};return{add:function(b,c){for(var d in c){a[d]=c[d]}},translate:function(b){if("undefined"==typeof b){return b}if("string"!=typeof b&&b.raw){return b.raw}if(b.push){var c=b.slice(1);b=(a[b[0]]||b[0]).replace(/\{([^\}]+)\}/g,function(f,d){return c[d]})}return a[b]||b},data:a}}),aG(bz,[a9,bl],function(b,a){function c(e){function f(){try{return document.activeElement}catch(g){return document.body}}function d(g){function i(l){return !!b.DOM.getParent(l,c.isEditorUIElement)}var h=g.editor,m,k,j;h.on("init",function(){"onbeforedeactivate" in document?h.dom.bind(h.getBody(),"beforedeactivate",function(){var l=h.getDoc().selection;k=l&&l.createRange?l.createRange():h.selection.getRng()}):h.inline&&(h.on("nodechange",function(){for(var n,l=document.activeElement;l;){if(l==h.getBody()){n=!0;break}l=l.parentNode}n&&(k=h.selection.getRng())}),a.webkit&&(j=function(){var l=h.selection.getRng();l.collapsed||(k=l)},b.DOM.bind(document,"selectionchange",j),h.on("remove",function(){b.DOM.unbind(document,"selectionchange",j)})))}),h.on("focusin",function(){var l=e.focusedEditor;m&&(h.selection.setRng(m),m=null),l!=h&&(l&&l.fire("blur",{focusedEditor:h}),h.fire("focus",{blurredEditor:l}),h.focus(!1),e.focusedEditor=h)}),h.on("focusout",function(){m=k,window.setTimeout(function(){var l=e.focusedEditor;l!=h&&(m=null),i(f())||l!=h||(h.fire("blur",{focusedEditor:null}),e.focusedEditor=null,m=null)},0)})}e.on("AddEditor",d)}return c.isEditorUIElement=function(d){return -1!==d.className.indexOf("mce-")},c}),aG(aJ,[bL,a9,bE,bl,bG,bi,aQ,bz],function(g,q,A,k,z,B,w,D){var j=q.DOM,b=z.explode,x=z.each,v=z.extend,C=0,y,t={majorVersion:"4",minorVersion:"0",releaseDate:"2013-06-13",editors:[],i18n:w,activeEditor:null,setup:function(){var m=this,l,p,u="",d;if(p=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(p)||(p+="/"),d=window.tinymce||window.tinyMCEPreInit){l=d.base||d.baseURL,u=d.suffix}else{for(var h=document.getElementsByTagName("script"),f=0;f<h.length;f++){var r=h[f].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=r.indexOf(".min")&&(u=".min"),l=r.substring(0,r.lastIndexOf("/"));break}}}m.baseURL=new A(p).toAbsolute(l),m.documentBaseURL=p,m.baseURI=new A(m.baseURL),m.suffix=u,m.focusManager=new D(m)},init:function(f){function h(i){var a=i.id;return a||(a=i.name,a=a&&!j.get(a)?i.name:j.uniqueId(),i.setAttribute("id",a)),a}function l(i,a,o){var p=i[a];if(p){return p.apply(o||this,Array.prototype.slice.call(arguments,2))}}function m(i,a){return a.constructor===RegExp?a.test(i.className):j.hasClass(i,a)}var c=this,e=[],d;c.settings=f,j.bind(window,"ready",function(){var i,a;if(l(f,"onpageload"),f.types){return x(f.types,function(n){x(j.select(n.selector),function(p){var o=new g(h(p),v({},f,n),c);e.push(o),o.render(1)})}),void 0}if(f.selector){return x(j.select(f.selector),function(n){var o=new g(h(n),f,c);e.push(o),o.render(1)}),void 0}switch(f.mode){case"exact":i=f.elements||"",i.length>0&&x(b(i),function(o){j.get(o)?(d=new g(o,f,c),e.push(d),d.render(!0)):x(document.forms,function(n){x(n.elements,function(p){p.name===o&&(o="mce_editor_"+C++,j.setAttrib(p,"id",o),d=new g(o,f,c),e.push(d),d.render(1))})})});break;case"textareas":case"specific_textareas":x(j.select("textarea"),function(n){f.editor_deselector&&m(n,f.editor_deselector)||(!f.editor_selector||m(n,f.editor_selector))&&(d=new g(h(n),f,c),e.push(d),d.render(!0))})}f.oninit&&(i=a=0,x(e,function(n){a++,n.initialized?i++:n.on("init",function(){i++,i==a&&l(f,"oninit")}),i==a&&l(f,"oninit")}))})},get:function(a){return a===aj?this.editors:this.editors[a]},add:function(c){var a=this,d=a.editors;return d[c.id]=c,d.push(c),a.activeEditor=c,a.fire("AddEditor",{editor:c}),y||(y=function(){a.fire("BeforeUnload")},j.bind(window,"beforeunload",y)),c},createEditor:function(a,c){return this.add(new g(a,c,this))},remove:function(c){var a=this,d,f=a.editors,h;if(c){if("string"==typeof c){return c=c.selector||c,x(j.select(c),function(i){a.remove(f[i.id])}),void 0}if(h=c,!f[h.id]){return null}for(delete f[h.id],d=0;d<f.length;d++){if(f[d]==h){f.splice(d,1);break}}if(a.activeEditor==h&&(a.activeEditor=f[0]),h&&!h.removed){return h.remove(),h.destroy(),a.fire("RemoveEditor",{editor:h}),f.length||j.unbind(window,"beforeunload",y),h}}else{for(d=f.length-1;d>=0;d--){a.remove(f[d])}}},execCommand:function(c,d,e){var f=this,a=f.get(e);switch(c){case"mceAddEditor":return f.get(e)||new g(e,f.settings,f).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(f.execCommand("mceAddEditor",0,e),!0)}return f.activeEditor?f.activeEditor.execCommand(c,d,e):!1},triggerSave:function(){x(this.editors,function(a){a.save()})},addI18n:function(c,a){w.add(c,a)},translate:function(a){return w.translate(a)}};return v(t,B),t.setup(),window.tinymce=window.tinyMCE=t,t}),aG(bv,[aJ,bG],function(b,a){var c=a.each,d=a.explode;b.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function m(l,i){c(i,function(e,o){e&&j.setStyle(l,o,e)}),j.rename(l,"span")}function p(i){j=f.dom,n.convert_fonts_to_spans&&c(j.select("font,u,strike",i.node),function(l){h[l.nodeName.toLowerCase()](j,l)})}var h,k,j,n=f.settings;n.inline_styles&&(k=d(n.font_size_legacy_values),h={font:function(e,i){m(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:k[parseInt(i.size,10)-1]})},u:function(e,i){m(i,{textDecoration:"underline"})},strike:function(e,i){m(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",p))})})}),aG(ag,[],function(){return{send:function(b){function a(){!b.async||4==c.readyState||d++>10000?(b.success&&10000>d&&200==c.status?b.success.call(b.success_scope,""+c.responseText,c,b):b.error&&b.error.call(b.error_scope,d>10000?"TIMED_OUT":"GENERAL",c,b),c=null):setTimeout(a,10)}var c,d=0;if(b.scope=b.scope||this,b.success_scope=b.success_scope||b.scope,b.error_scope=b.error_scope||b.scope,b.async=b.async===!1?!1:!0,b.data=b.data||"",c=new XMLHttpRequest){if(c.overrideMimeType&&c.overrideMimeType(b.content_type),c.open(b.type||(b.data?"POST":"GET"),b.url,b.async),b.content_type&&c.setRequestHeader("Content-Type",b.content_type),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(b.data),!b.async){return a()}setTimeout(a,10)}}}}),aG(bd,[],function(){function a(d,e){var f,g,b,c;if(e=e||'"',null===d){return"null"}if(b=typeof d,"string"==b){return g="\bb	t\nn\ff\rr\"\"''\\\\",e+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===e&&"'"===i?i:(f=g.indexOf(h),f+1?"\\"+g.charAt(f+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+e}if("object"==b){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(f=0,g="[";f<d.length;f++){g+=(f>0?",":"")+a(d[f],e)}return g+"]"}g="{";for(c in d){d.hasOwnProperty(c)&&(g+="function"!=typeof d[c]?(g.length>1?","+e:e)+c+e+":"+a(d[c],e):"")}return g+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aG(bp,[bd,ag,bG],function(b,a,c){function d(g){this.settings=f({},g),this.count=0}var f=c.extend;return d.sendRPC=function(g){return(new d).send(g)},d.prototype={send:function(g){var h=g.error,e=g.success;g=f(this.settings,g),g.success=function(j,k){j=b.parse(j),"undefined"==typeof j&&(j={error:"JSON Parse error."}),j.error?h.call(g.error_scope||g.scope,j.error,k):e.call(g.success_scope||g.scope,j.result)},g.error=function(j,i){h&&h.call(g.error_scope||g.scope,j,i)},g.data=b.serialize({id:g.id||"c"+this.count++,method:g.method,params:g.params}),g.content_type="application/json",a.send(g)}},d}),aG(ac,[a9],function(a){return{callbacks:{},count:0,send:function(d){var e=this,f=a.DOM,b=d.count!==aj?d.count:e.count,c="tinymce_jsonp_"+b;e.callbacks[b]=function(g){f.remove(c),delete e.callbacks[b],d.callback(g)},f.add(f.doc.body,"script",{id:c,src:d.url,type:"text/javascript"}),e.count++}}}),aG(aY,[],function(){function f(){c=[];for(var a in d){c.push(a)}k.length=c.length}function g(){function e(i){var p,q;return q=i!==aj?l+i:o.indexOf(",",l),-1===q||q>o.length?null:(p=o.substring(l,q),l=q+1,p)}var m,o,a,l=0;d={},b.load(h),o=b.getAttribute(h)||"";do{m=e(parseInt(e(),32)||0),null!==m&&(a=e(parseInt(e(),32)||0),d[m]=a)}while(null!==m);f()}function j(){var a,e="";for(var i in d){a=d[i],e+=(e?",":"")+i.length.toString(32)+","+i+","+a.length.toString(32)+","+a}b.setAttribute(h,e),b.save(h),f()}var k,b,d,c,h;return window.localStorage?localStorage:(h="tinymce",b=document.documentElement,b.addBehavior("#default#userData"),k={key:function(a){return c[a]},getItem:function(a){return a in d?d[a]:null},setItem:function(i,a){d[i]=""+a,j()},removeItem:function(a){delete d[a],j()},clear:function(){d={},j()}},g(),k)}),aG(bC,[a9,af,ao,bA,bG,bl],function(f,d,g,h,j,b){var c=window.tinymce;return c.DOM=f.DOM,c.ScriptLoader=g.ScriptLoader,c.PluginManager=h.PluginManager,c.ThemeManager=h.ThemeManager,c.dom=c.dom||{},c.dom.Event=d.Event,j.each(j,function(i,a){c[a]=i}),j.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){c[a]=b[a.substr(2).toLowerCase()]}),{}}),aG(aD,[aS,bG],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(f){var d=this,g=d.settings,h,j,c;h=f.items().filter(":visible"),j=g.firstControlClass,c=g.lastControlClass,h.each(function(i){i.removeClass(j).removeClass(c),g.controlClass&&i.addClass(g.controlClass)}),h.eq(0).addClass(j),h.eq(-1).addClass(c)},renderHtml:function(d){var c=this,f=c.settings,g,h="";return g=d.items(),g.eq(0).addClass(f.firstControlClass),g.eq(-1).addClass(f.lastControlClass),g.each(function(i){f.controlClass&&i.addClass(f.controlClass),h+=i.renderHtml()}),h},recalc:function(){},postRender:function(){}})}),aG(bD,[aD],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aG(be,[ba,ax],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().lastChild.innerHTML=c.encode(d)),c):c._value},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes()+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d._text)+"</div></div>"},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aG(bj,[ba,be],function(b,a){var c,d=b.extend({init:function(g){var f=this;f._super(g),f.canFocus=!0,g.tooltip&&d.tooltips!==!1&&f.on("mouseenter mouseleave",function(e){var h=f.tooltip().moveTo(-65535);if(e.control==f&&"mouseenter"==e.type){var j=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.toggleClass("tooltip-n","bc-tc"==j),h.toggleClass("tooltip-nw","bc-tl"==j),h.toggleClass("tooltip-ne","bc-tr"==j),h.moveRel(f.getEl(),j)}else{h.hide()}}),f.aria("label",g.tooltip)},tooltip:function(){var f=this;return c||(c=new a({type:"tooltip"}),c.renderTo(f.getContainerElm())),c},active:function(g){var f=this,h;return g!==h&&(f.aria("pressed",g),f.toggleClass("active",g)),f._super(g)},disabled:function(g){var f=this,h;return g!==h&&(f.aria("disabled",g),f.toggleClass("disabled",g)),f._super(g)},postRender:function(){var g=this,f=g.settings;g._rendered=!0,g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&setTimeout(function(){g.focus()},0)},remove:function(){this._super(),c&&(c.remove(),c=null)}});return d}),aG(bc,[bj],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b.on("click mousedown",function(f){f.preventDefault()}),b._super(c),d=c.size,c.subtype&&b.addClass(c.subtype),d&&b.addClass("btn-"+d)},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix,f=c.settings.icon,g="";return c.settings.image&&(f="none",g=" style=\"background-image: url('"+c.settings.image+"')\""),f=c.settings.icon?d+"ico "+d+"i-"+f:"",'<div id="'+b+'" class="'+c.classes()+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+g+"></i>":"")+(c._text?(f?" ":"")+c.encode(c._text):"")+"</button></div>"}})}),aG(aM,[aF],function(a){return a.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var c=this,b=c._layout;return c.addClass("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aG(ai,[bj],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(c){var b=this;return"undefined"!=typeof c?(c?b.addClass("checked"):b.removeClass("checked"),b._checked=c,b.aria("checked",c),b):b._checked},value:function(b){return this.checked(b)},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes()+'" unselectable="on" aria-labeledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c._text)+"</span></div>"}})}),aG(a6,[bc,bq],function(b,a){return b.extend({showPanel:function(){var c=this,d=c.settings;d.panel.popover=!0,d.panel.autohide=!0,c.active(!0),c.panel?c.panel.show():(c.panel=new a(d.panel).on("hide",function(){c.active(!1)}).parent(c).renderTo(c.getContainerElm()),c.panel.fire("show"),c.panel.reflow().moveRel(c.getEl(),d.popoverAlign||"bc-tc"))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.on("click",function(d){d.control===c&&c.showPanel()}),c._super()}})}),aG(bM,[a6,a9],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var f=this,d=f._id,g=f.classPrefix,h=f.settings.icon?g+"ico "+g+"i-"+f.settings.icon:"",j=f.settings.image?" style=\"background-image: url('"+f.settings.image+"')\"":"";return'<div id="'+d+'" class="'+f.classes()+'"><button role="presentation" hidefocus type="button" tabindex="-1">'+(h?'<i class="'+h+'"'+j+"></i>":"")+'<span id="'+d+'-preview" class="'+g+'preview"></span>'+(f._text?(h?" ":"")+f._text:"")+'</button><button type="button" class="'+g+'open" hidefocus tabindex="-1"> <i class="'+g+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aG(bo,[bj,aH],function(b,a){return b.extend({init:function(c){var d=this;d._super(c),d.addClass("combobox"),d.on("click",function(g){for(var f=g.target;f;){f.id&&-1!=f.id.indexOf("-open")&&d.fire("action"),f=f.parentNode}}),d.on("keydown",function(f){"INPUT"==f.target.nodeName&&13==f.keyCode&&d.parents().reverse().each(function(e){return f.preventDefault(),d.fire("change"),e.submit?(e.submit(),!1):void 0})}),c.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(a.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=c.placeholder,d.addClass("placeholder"))}))},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c.removeClass("placeholder"),c._rendered&&(c.getEl("inp").value=d),c):c._rendered?(d=c.getEl("inp").value,d!=c.settings.placeholder?d:""):c._value},disabled:function(d){var c=this;c._super(d),c._rendered&&(c.getEl("inp").disabled=d)},focus:function(){this.getEl("inp").focus()},repaint:function(){var g=this,h=g.getEl(),j=g.getEl("open"),k=g.layoutRect(),c,f;c=j?k.w-j.offsetWidth-10:k.w-10;var d=document;return d.all&&(!d.documentMode||d.documentMode<=8)&&(f=g.layoutRect().h-2+"px"),a.css(h.firstChild,{width:c,lineHeight:f}),g._super(),g},postRender:function(){var c=this;return a.on(this.getEl("inp"),"change",function(){c.fire("change")}),c._super()},renderHtml:function(){var h=this,g=h._id,j=h.settings,k=h.classPrefix,l=j.value||j.placeholder||"",c,f,d="";return c=j.icon?k+"ico "+k+"i-"+j.icon:"",f=h._text,(c||f)&&(d='<div id="'+g+'-open" class="'+k+"btn "+k+'open" tabIndex="-1"><button id="'+g+'-action" type="button" hidefocus tabindex="-1">'+(c?'<i class="'+c+'"></i>':'<i class="'+k+'caret"></i>')+(f?(c?" ":"")+f:"")+"</button></div>",h.addClass("has-open")),'<div id="'+g+'" class="'+h.classes()+'"><input id="'+g+'-inp" class="'+k+"textbox "+k+'placeholder" value="'+l+'" hidefocus="true">'+d+"</div>"}})}),aG(a0,[ba,aZ],function(b,a){return b.extend({Defaults:{delimiter:"\xbb"},init:function(d){var c=this;c._super(d),c.addClass("path"),c.canFocus=!0,c.on("click",function(f){var g,h=f.target;(g=h.getAttribute("data-index"))&&c.fire("select",{value:c.data()[g],index:g})})},focus:function(){var c=this;return c.keyNav=new a({root:c,enableLeftRight:!0}),c.keyNav.focusFirst(),c},data:function(d){var c=this;return"undefined"!=typeof d?(c._data=d,c.update(),c):c._data},update:function(){this.getEl().innerHTML=this._getPathHtml()},postRender:function(){var c=this;c._super(),c.data(c.settings.data)},renderHtml:function(){var c=this;return'<div id="'+c._id+'" class="'+c.classPrefix+'path">'+c._getPathHtml()+"</div>"},_getPathHtml:function(){var f=this,d=f._data||[],g,h,j="",c=f.classPrefix;for(g=0,h=d.length;h>g;g++){j+=(g>0?'<div class="'+c+'divider" aria-hidden="true"> '+f.settings.delimiter+" </div>":"")+'<div role="button" class="'+c+"path-item"+(g==h-1?" "+c+"last":"")+'" data-index="'+g+'" tabindex="-1" id="'+f._id+"-"+g+'">'+d[g].name+"</div>"}return j||(j='<div class="'+c+'path-item">&nbsp;</div>'),j}})}),aG(ab,[a0,aJ],function(b,a){return b.extend({postRender:function(){function c(g){return 1===g.nodeType&&("BR"==g.nodeName||!!g.getAttribute("data-mce-bogus"))}var d=this,f=a.activeEditor;return d.on("select",function(g){for(var h=[],j=f.selection.getNode(),e=f.getBody();j&&(c(j)||h.push(j),j=j.parentNode,j!=e);){}f.focus(),f.selection.select(h[h.length-1-g.index]),f.nodeChanged()}),f.on("nodeChange",function(j){for(var k=[],e=j.parents,h=e.length;h--;){if(1==e[h].nodeType&&!c(e[h])){var g=f.fire("ResolveName",{name:e[h].nodeName.toLowerCase(),target:e[h]});k.push({name:g.name})}}d.data(k)}),d._super()}})}),aG(bx,[aF],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.addClass("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aG(al,[aF,bx],function(b,a){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var c=this,d=c.items();d.each(function(e){var f,g=e.settings.label;g&&(f=new a({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:g,flex:0,forId:e._id}]}),f.type="formitem","undefined"==typeof e.settings.flex&&(e.settings.flex=1),c.replace(e,f),f.add(e))})},recalcLabels:function(){var d=this,c=0,f=[],g,h;if(d.settings.labelGapCalc!==!1){for(d.items().filter("formitem").each(function(j){var k=j.items()[0],l=k.getEl().clientWidth;c=l>c?l:c,f.push(k)}),h=d.settings.labelGap||0,g=f.length;g--;){f[g].settings.minWidth=c+h}}},visible:function(d){var c=this._super(d);return d===!0&&this._rendered&&this.recalcLabels(),c},submit:function(){var c=this.getParentCtrl(document.activeElement);return c&&c.blur(),this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),aG(aI,[al],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aG(am,[bo],function(a){return a.extend({init:function(c){var b=this,d=tinymce.activeEditor,f;c.spellcheck=!1,f=d.settings.file_browser_callback,f&&(c.icon="browse",c.onaction=function(){f(b.getEl("inp").id,b.getEl("inp").value,c.filetype,window)}),b._super(c)}})}),aG(bg,[bD],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox();c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aG(a5,[bD],function(a){return a.extend({recalc:function(cg){var b4,cf,ch,bW,bY,G,cb,cl,X,cp,cr,ck,cn,b9,b8,b6,cq=[],b5,b0,Z,Y,bZ,Q,cs,b2,cd,b7,cc,ci,ce,K,b3,ca,ct,J,co,cm,b1,bV,j,bt,at=Math.max,bX=Math.min;for(ch=cg.items().filter(":visible"),bW=cg.layoutRect(),bY=cg._paddingBox,G=cg.settings,ck=G.direction,cb=G.align,cl=G.pack,X=G.spacing||0,("row-reversed"==ck||"column-reverse"==ck)&&(ch=ch.set(ch.toArray().reverse()),ck=ck.split("-")[0]),"column"==ck?(cd="y",cs="h",b2="minH",b7="maxH",ci="innerH",cc="top",ce="bottom",K="deltaH",b3="contentH",b1="left",J="w",ca="x",ct="innerW",co="minW",cm="maxW",bV="right",j="deltaW",bt="contentW"):(cd="x",cs="w",b2="minW",b7="maxW",ci="innerW",cc="left",ce="right",K="deltaW",b3="contentW",b1="top",J="h",ca="y",ct="innerH",co="minH",cm="maxH",bV="bottom",j="deltaH",bt="contentH"),cr=bW[ci]-bY[cc]-bY[cc],Q=cp=0,b4=0,cf=ch.length;cf>b4;b4++){cn=ch[b4],b9=cn.layoutRect(),b8=cn.settings,b6=b8.flex,cr-=cf-1>b4?X:0,b6>0&&(cp+=b6,b9[b7]&&cq.push(cn),b9.flex=b6),cr-=b9[b2],b5=bY[b1]+b9[co]+bY[bV],b5>Q&&(Q=b5)}if(Y={},Y[b2]=0>cr?bW[b2]-cr+bW[K]:bW[ci]-cr+bW[K],Y[co]=Q+bW[j],Y[b3]=bW[ci]-cr,Y[bt]=Q,Y.minW=bX(Y.minW,bW.maxW),Y.minH=bX(Y.minH,bW.maxH),Y.minW=at(Y.minW,bW.startMinWidth),Y.minH=at(Y.minH,bW.startMinHeight),!bW.autoResize||Y.minW==bW.minW&&Y.minH==bW.minH){for(Z=cr/cp,b4=0,cf=cq.length;cf>b4;b4++){cn=cq[b4],b9=cn.layoutRect(),b0=b9[b7],b5=b9[b2]+Math.ceil(b9.flex*Z),b5>b0?(cr-=b9[b7]-b9[b2],cp-=b9.flex,b9.flex=0,b9.maxFlexSize=b0):b9.maxFlexSize=0}for(Z=cr/cp,bZ=bY[cc],Y={},0===cp&&("end"==cl?bZ=cr+bY[cc]:"center"==cl?(bZ=Math.round(bW[ci]/2-(bW[ci]-cr)/2)+bY[cc],0>bZ&&(bZ=bY[cc])):"justify"==cl&&(bZ=bY[cc],X=Math.floor(cr/(ch.length-1)))),Y[ca]=bY[b1],b4=0,cf=ch.length;cf>b4;b4++){cn=ch[b4],b9=cn.layoutRect(),b5=b9.maxFlexSize||b9[b2],"center"===cb?Y[ca]=Math.round(bW[ct]/2-b9[J]/2):"stretch"===cb?(Y[J]=at(b9[co]||0,bW[ct]-bY[b1]-bY[bV]),Y[ca]=bY[b1]):"end"===cb&&(Y[ca]=bW[ct]-b9[J]-bY.top),b9.flex>0&&(b5+=Math.ceil(b9.flex*Z)),Y[cs]=b5,Y[cd]=bZ,cn.layoutRect(Y),cn.recalc&&cn.recalc(),bZ+=b5+X}}else{if(Y.w=Y.minW,Y.h=Y.minH,cg.layoutRect(Y),this.recalc(cg),null===cg._lastRect){var cj=cg.parent();cj&&(cj._lastRect=null,cj.recalc())}}}})}),aG(ae,[aD],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),aG(ah,[aU,ba,bj,bq,bG,aJ,bl],function(d,g,j,p,h,m,q){function k(o){function w(a){return a.replace(/%(\w+)/g,"")}var y=m.activeEditor,A,x,B=y.dom,z="",C,u;return u=y.settings.preview_styles,u===!1?"":(u||(u="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(o=y.formatter.get(o))?(o=o[0],A=o.block||o.inline||"span",x=B.create(A),b(o.styles,function(a,c){a=w(a),a&&B.setStyle(x,c,a)}),b(o.attributes,function(a,c){a=w(a),a&&B.setAttrib(x,c,a)}),b(o.classes,function(a){a=w(a),B.hasClass(x,a)||B.addClass(x,a)}),y.fire("PreviewFormats"),B.setStyles(x,{position:"absolute",left:-65535}),y.getBody().appendChild(x),C=B.getStyle(y.getBody(),"fontSize",!0),C=/px$/.test(C)?parseInt(C,10):0,b(u.split(" "),function(c){var a=B.getStyle(x,c,!0);if(!("background-color"==c&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(a)&&(a=B.getStyle(y.getBody(),c,!0),"#ffffff"==B.toHex(a).toLowerCase())||"color"==c&&"#000000"==B.toHex(a).toLowerCase())){if("font-size"==c&&/em|%$/.test(a)){if(0===C){return}a=parseFloat(a,10)/(/%$/.test(a)?100:1),a=a*C+"px"}"border"==c&&a&&(z+="padding:0 2px;"),z+=c+":"+a+";"}}),y.fire("AfterPreviewFormats"),B.remove(x),z):void 0)}function v(c,a){return function(){var e=this;m.activeEditor.on("nodeChange",function(n){var o=m.activeEditor.formatter,l=null;b(n.parents,function(i){return b(c,function(r){return a?o.matchNode(i,a,{value:r.value})&&(l=r.value):o.matchNode(i,r.value)&&(l=r.value),l?!1:void 0}),l?!1:void 0}),e.value(l)})}}function f(c){c=c.split(";");for(var a=c.length;a--;){c[a]=c[a].split("=")}return c}var b=h.each;g.translate=function(a){return m.translate(a)},j.tooltips=!q.iOS,m.on("AddEditor",function(c){function e(){function y(n){var t=[];if(n){return b(n,function(E){var C={text:{raw:E.title},icon:E.icon};if(E.items){C.menu=y(E.items)}else{var D=E.format||"custom"+a++;E.format||(E.name=D,z.push(E)),C.textStyle=function(){return k(D)},C.onclick=function(){i(D)}}t.push(C)}),t}}var a=0,z=[],A=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];w.on("init",function(){b(z,function(n){w.formatter.register(n.name,n)})});var B=y(w.settings.style_formats||A);return B}function u(){return w.undoManager?w.undoManager.hasUndo():!1}function o(){return w.undoManager?w.undoManager.hasRedo():!1}function l(){var a=this;a.disabled(!u()),w.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!u())})}function x(){var a=this;a.disabled(!o()),w.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!o())})}function s(){var a=this;w.on("VisualAid",function(n){a.active(n.hasVisual)}),a.active(w.hasVisual)}function i(a){a.control&&(a=a.control.value()),a&&m.activeEditor.execCommand("mceToggleFormat",!1,a)}var w=c.editor,r;r=e(),b({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(n,a){w.addButton(a,{tooltip:n,onPostRender:function(){var t=this;w.formatter?w.formatter.formatChanged(a,function(y){t.active(y)}):w.on("init",function(){w.formatter.formatChanged(a,function(y){t.active(y)})})},onclick:function(){i(a)}})}),b({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(n,a){w.addButton(a,{tooltip:n[0],cmd:n[1]})}),b({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bulleted list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(n,a){w.addButton(a,{tooltip:n[0],cmd:n[1],onPostRender:function(){var t=this;w.formatter?w.formatter.formatChanged(a,function(y){t.active(y)}):w.on("init",function(){w.formatter.formatChanged(a,function(y){t.active(y)})})}})}),w.addButton("undo",{tooltip:"Undo",onPostRender:l,cmd:"undo"}),w.addButton("redo",{tooltip:"Redo",onPostRender:x,cmd:"redo"}),w.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),w.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:l,cmd:"undo"}),w.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:x,cmd:"redo"}),w.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:s,cmd:"mceToggleVisualAid"}),b({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(n,a){w.addMenuItem(a,{text:n[0],icon:a,shortcut:n[2],cmd:n[1]})}),w.on("mousedown",function(){p.hideAll()}),d.add("styleselect",function(a){var y=[].concat(r);return d.create("menubutton",h.extend({text:"Formats",menu:y},a))}),d.add("formatselect",function(a){var y=[],z=f(w.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return b(z,function(n){y.push({text:{raw:n[0]},value:n[1],textStyle:function(){return k(n[1])}})}),d.create("listbox",h.extend({text:{raw:z[0][0]},values:y,fixedWidth:!0,onselect:i,onPostRender:v(y)},a))}),d.add("fontselect",function(z){var A="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",B=[],y=f(w.settings.font_formats||A);return b(y,function(a){B.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})}),d.create("listbox",h.extend({text:"Font Family",tooltip:"Font Family",values:B,fixedWidth:!0,onPostRender:v(B,"fontname"),onselect:function(a){a.control.settings.value&&m.activeEditor.execCommand("FontName",!1,a.control.settings.value)}},z))}),d.add("fontsizeselect",function(z){var A=[],B="8pt 10pt 12pt 14pt 18pt 24pt 36pt",y=w.settings.fontsize_formats||B;return b(y.split(" "),function(a){A.push({text:a,value:a})}),d.create("listbox",h.extend({text:"Font Sizes",tooltip:"Font Sizes",values:A,fixedWidth:!0,onPostRender:v(A,"fontsize"),onclick:function(a){a.control.settings.value&&m.activeEditor.execCommand("FontSize",!1,a.control.settings.value)}},z))}),w.addMenuItem("formats",{text:"Formats",menu:r})})}),aG(an,[bD],function(a){return a.extend({recalc:function(b2){var X=b2.settings,b1,b3,K,O,j,bX,b6,G,b9,cb,b5,b7,bV,bt,Z,ca,Y,U,J,I,Q,F,cc=[],V=[],bZ,at,bY,b4,b0,z;for(X=b2.settings,K=b2.items().filter(":visible"),O=b2.layoutRect(),b3=X.columns||Math.ceil(Math.sqrt(K.length)),b1=Math.ceil(K.length/b3),Y=X.spacingH||X.spacing||0,U=X.spacingV||X.spacing||0,J=X.alignH||X.align,I=X.alignV||X.align,Z=b2._paddingBox,J&&"string"==typeof J&&(J=[J]),I&&"string"==typeof I&&(I=[I]),cb=0;b3>cb;cb++){cc.push(0)}for(b5=0;b1>b5;b5++){V.push(0)}for(b5=0;b1>b5;b5++){for(cb=0;b3>cb&&(b9=K[b5*b3+cb],b9);cb++){G=b9.layoutRect(),bZ=G.minW,at=G.minH,cc[cb]=bZ>cc[cb]?bZ:cc[cb],V[b5]=at>V[b5]?at:V[b5]}}for(b0=O.innerW-Z.left-Z.right,Q=0,cb=0;b3>cb;cb++){Q+=cc[cb]+(cb>0?Y:0),b0-=(cb>0?Y:0)+cc[cb]}for(z=O.innerH-Z.top-Z.bottom,F=0,b5=0;b1>b5;b5++){F+=V[b5]+(b5>0?U:0),z-=(b5>0?U:0)+V[b5]}if(Q+=Z.left+Z.right,F+=Z.top+Z.bottom,b6={},b6.minW=Q+(O.w-O.innerW),b6.minH=F+(O.h-O.innerH),b6.contentW=b6.minW-O.deltaW,b6.contentH=b6.minH-O.deltaH,b6.minW=Math.min(b6.minW,O.maxW),b6.minH=Math.min(b6.minH,O.maxH),b6.minW=Math.max(b6.minW,O.startMinWidth),b6.minH=Math.max(b6.minH,O.startMinHeight),!O.autoResize||b6.minW==O.minW&&b6.minH==O.minH){O.autoResize&&(b6=b2.layoutRect(b6),b6.contentW=b6.minW-O.deltaW,b6.contentH=b6.minH-O.deltaH);var W;W="start"==X.packV?0:z>0?Math.floor(z/b1):0;var bW=0,cd=X.flexWidths;if(cd){for(cb=0;cb<cd.length;cb++){bW+=cd[cb]}}else{bW=b3}var q=b0/bW;for(cb=0;b3>cb;cb++){cc[cb]+=cd?Math.ceil(cd[cb]*q):q}for(bV=Z.top,b5=0;b1>b5;b5++){for(b7=Z.left,bX=V[b5]+W,cb=0;b3>cb&&(b9=K[b5*b3+cb],b9);cb++){bt=b9.settings,G=b9.layoutRect(),j=cc[cb],bY=b4=0,G.x=b7,G.y=bV,ca=bt.alignH||(J?J[cb]||J[0]:null),"center"==ca?G.x=b7+j/2-G.w/2:"right"==ca?G.x=b7+j-G.w:"stretch"==ca&&(G.w=j),ca=bt.alignV||(I?I[cb]||I[0]:null),"center"==ca?G.y=bV+bX/2-G.h/2:"bottom"==ca?G.y=bV+bX-G.h:"stretch"==ca&&(G.h=bX),b9.layoutRect(G),b7+=j+Y,b9.recalc&&b9.recalc()}bV+=bX+U}}else{if(b6.w=b6.minW,b6.h=b6.minH,b2.layoutRect(b6),this.recalc(b2),null===b2._lastRect){var b8=b2.parent();b8&&(b8._lastRect=null,b8.recalc())}}}})}),aG(aX,[bj],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(b){return this.getEl().contentWindow.document.body.innerHTML=b,this}})}),aG(aq,[bj],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.addClass("widget"),b.addClass("label"),b.canFocus=!1,c.multiline&&b.addClass("autoscroll"),c.strong&&b.addClass("strong")},initLayoutRect:function(){var c=this,b=c._super();return c.settings.multiline&&(c.getEl().offsetWidth>b.maxW&&(b.minW=b.maxW,c.addClass("multiline")),c.getEl().style.width=b.minW+"px",b.startMinH=b.h=b.minH=Math.min(b.maxH,c.getEl().offsetHeight)),b},disabled:function(c){var b=this,d;return c!==d&&(b.toggleClass("label-disabled",c),b._rendered&&(b.getEl()[0].className=b.classes())),b._super(c)},repaint:function(){var b=this;return b.settings.multiline||(b.getEl().style.lineHeight=b.layoutRect().h+"px"),b._super()},text:function(c){var b=this;return b._rendered&&c&&(b.getEl().innerHTML=b.encode(c)),b._super(c)},renderHtml:function(){var c=this,b=c.settings.forId;return'<label id="'+c._id+'" class="'+c.classes()+'"'+(b?' for="'+b:"")+'">'+c.encode(c._text)+"</label>"}})}),aG(au,[aF,aZ],function(b,a){return b.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(d){var c=this;c._super(d),c.addClass("toolbar")},postRender:function(){var c=this;return c.items().addClass("toolbar-item"),c.keyNav=new a({root:c,enableLeftRight:!0}),c._super()}})}),aG(ad,[au],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),aG(a8,[bc,aU,ad],function(b,a,c){function d(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var f=b.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),g.addClass("menubtn"),h.fixedWidth&&g.addClass("fixed-width"),g.aria("haspopup",!0),g.hasPopup=!0},showMenu:function(){var g=this,h=g.settings,i;return g.menu&&g.menu.visible()?g.hideMenu():(g.menu||(i=h.menu||[],i.length?i={type:"menu",items:i}:i.type=i.type||"menu",g.menu=a.create(i).parent(g).renderTo(g.getContainerElm()),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control===g.menu&&g.focus()}),g.menu.on("show hide",function(e){e.control==g.menu&&g.activeMenu("show"==e.type)}).fire("show"),g.aria("expanded",!0)),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),g.menu.moveRel(g.getEl(),["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide(),g.aria("expanded",!1))},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var h=this,g=h._id,j=h.classPrefix,k=h.settings.icon?j+"ico "+j+"i-"+h.settings.icon:"";return h.aria("role",h.parent() instanceof c?"menuitem":"button"),'<div id="'+g+'" class="'+h.classes()+'" tabindex="-1"><button id="'+g+'-open" role="presentation" type="button" tabindex="-1">'+(k?'<i class="'+k+'"></i>':"")+"<span>"+(h._text?(k?" ":"")+h.encode(h._text):"")+'</span> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&d(e.target,g.getEl())&&(g.showMenu(),e.keyboard&&g.menu.items()[0].focus())}),g.on("mouseenter",function(h){var i=h.control,j=g.parent(),e;i&&j&&i instanceof f&&i.parent()==j&&(j.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=i&&(k.menu&&k.menu.visible()&&(e=!0),k.hideMenu())}),e&&i.showMenu())}),g._super()},text:function(h){var g=this,i,j;if(g._rendered){for(j=g.getEl("open").getElementsByTagName("span"),i=0;i<j.length;i++){j[i].innerHTML=g.encode(h)}}return this._super(h)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return f}),aG(ap,[a8],function(a){return a.extend({init:function(f){var d=this,g,h,j,b,c;if(d._values=g=f.values,g){for(h=0;h<g.length;h++){j=g[h].selected||f.value===g[h].value,j&&(b=b||g[h].text,d._value=g[h].value)}f.menu=g}f.text=f.text||b||g[0].text,d._super(f),d.addClass("listbox"),d.on("select",function(e){var i=e.control;c&&(e.lastControl=c),f.multiple?i.active(!i.active()):d.value(e.control.settings.value),c=i})},value:function(f){function d(i,k){i.items().each(function(l){h=l.value()===k,h&&(j=j||l.text()),l.active(h),l.menu&&d(l.menu,k)})}var g=this,h,j,b,c;if("undefined"!=typeof f){if(g.menu){d(g.menu,f)}else{for(b=g.settings.menu,c=0;c<b.length;c++){h=b[c].value==f,h&&(j=j||b[c].text),b[c].active=h}}g.text(j||this.settings.text)}return g._super(f)}})}),aG(bs,[bj,aU],function(b,a){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(d){var c=this;c.hasPopup=!0,c._super(d),d=c.settings,c.addClass("menu-item"),d.menu&&c.addClass("menu-item-expand"),("-"===c._text||"|"===c._text)&&(c.addClass("menu-item-sep"),c.aria("role","separator"),c.canFocus=!1,c._text="-"),d.selectable&&(c.aria("role","menuitemcheckbox"),c.aria("checked",!0),c.addClass("menu-item-checkbox"),d.icon="selected"),c.on("mousedown",function(f){f.preventDefault()}),c.on("mouseenter click",function(e){e.control===c&&(d.menu||"click"!==e.type?(c.showMenu(),e.keyboard&&setTimeout(function(){c.menu.items()[0].focus()},0)):(c.parent().hideAll(),c.fire("cancel"),c.fire("select")))}),d.menu&&c.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var c=this,d=c.settings,f;if(c.parent().items().each(function(e){e!==c&&e.hideMenu()}),d.menu){f=c.menu,f?f.show():(f=d.menu,f.length?f={type:"menu",items:f}:f.type=f.type||"menu",f=c.menu=a.create(f).parent(c).renderTo(c.getContainerElm()),f.reflow(),f.fire("show"),f.on("cancel",function(){c.focus()}),f.on("hide",function(e){e.control===f&&c.removeClass("selected")})),f._parentMenu=c.parent(),f.addClass("menu-sub");var g=f.testMoveRel(c.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(c.getEl(),g),g="menu-sub-"+g,f.removeClass(f._lastRel),f.addClass(g),f._lastRel=g,c.addClass("selected"),c.aria("expanded",!0)}},hideMenu:function(){var c=this;return c.menu&&(c.menu.items().each(function(d){d.hideMenu&&d.hideMenu()}),c.menu.hide(),c.aria("expanded",!1)),c},renderHtml:function(){var f=this,d=f._id,g=f.settings,h=f.classPrefix,j=f.encode(f._text),c=f.settings.icon;return c&&f.parent().addClass("menu-has-icons"),c=h+"ico "+h+"i-"+(f.settings.icon||"none"),'<div id="'+d+'" class="'+f.classes()+'" tabindex="-1">'+("-"!==j?'<i class="'+c+'"></i>&nbsp;':"")+("-"!==j?'<span id="'+d+'-text" class="'+h+'text">'+j+"</span>":"")+(g.shortcut?'<div id="'+d+'-shortcut" class="'+h+'menu-shortcut">'+g.shortcut+"</div>":"")+(g.menu?'<div class="'+h+'caret"></div>':"")+"</div>"},postRender:function(){var d=this,c=d.settings,f=c.textStyle;if("function"==typeof f&&(f=f()),f){var g=d.getEl("text");g&&g.setAttribute("style",f)}return d._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aG(bP,[bq,aZ,bs],function(b,a,c){var d=b.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(f){var g=this;f.autohide=!0,f.constrainToViewport=!0,g._super(f),g.addClass("menu"),g.keyNav=new a({root:g,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){g.parent() instanceof c&&g.keyNav.cancel()},onCancel:function(){g.fire("cancel",{},!1),g.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("cancel"),f.fire("select")},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;return g.icon||g.selectable?(f._hasIcons=!0,!1):void 0}),f._super()}});return d}),aG(aO,[ai],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aG(bF,[bj,a1],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.addClass("resizehandle"),"both"==d.settings.direction&&d.addClass("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes()+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},end:function(){c.fire("ResizeEnd")}})}})}),aG(bT,[bj],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),aG(aN,[a8,a9],function(b,a){var c=a.DOM;return b.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var h=this,g=h.getEl(),j=h.layoutRect(),k,d,f;return h._super(),k=g.firstChild,d=g.lastChild,c.css(k,{width:j.w-d.offsetWidth,height:j.h-2}),c.css(d,{height:j.h-2}),f=k.firstChild.style,f.width=f.height="100%",f=d.firstChild.style,f.width=f.height="100%",h},activeMenu:function(f){var d=this;c.toggleClass(d.getEl().lastChild,d.classPrefix+"active",f)},renderHtml:function(){var f=this,d=f._id,g=f.classPrefix,h=f.settings.icon?g+"ico "+g+"i-"+f.settings.icon:"";return'<div id="'+d+'" class="'+f.classes()+'"><button type="button" hidefocus tabindex="-1">'+(h?'<i class="'+h+'"></i>':"")+(f._text?(h?" ":"")+f._text:"")+'</button><button type="button" class="'+g+'open" hidefocus tabindex="-1">'+(f._menuBtnText?(h?" ":"")+f._menuBtnText:"")+' <i class="'+g+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){g.control!=this||c.getParent(g.target,"."+this.classPrefix+"open")||(g.stopImmediatePropagation(),d.call(this,g))}),delete f.settings.onclick,f._super()}})}),aG(aa,[ae],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),aG(bS,[bb,aH],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){this.activeTabId&&a.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+c,a.addClass(this.getEl("t"+c),this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var d=this,c=d._layout,f="",g=d.classPrefix;return d.preRender(),c.preRender(d),d.items().each(function(e,h){f+='<div id="'+d._id+"-t"+h+'" class="'+g+'tab" unselectable="on">'+d.encode(e.settings.title)+"</div>"}),'<div id="'+d._id+'" class="'+d.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+d._id+'-head" class="'+g+'tabs">'+f+'</div><div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(d){var e=d.target.parentNode;if(d.target.parentNode.id==c._id+"-head"){for(var f=e.childNodes.length;f--;){e.childNodes[f]==d.target&&c.activateTab(f)}}})},initLayoutRect:function(){var d=this,c,f,g;f=g=0,d.items().each(function(e,j){f=Math.max(f,e.layoutRect().minW),g=Math.max(g,e.layoutRect().minH),d.settings.activeTab!=j&&e.hide()}),d.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=f,i.settings.h=g,i.layoutRect({x:0,y:0,w:f,h:g})});var h=d.getEl("head").offsetHeight;return d.settings.minWidth=f,d.settings.minHeight=g+h,c=d._super(),c.deltaH+=d.getEl("head").offsetHeight,c.innerH=c.h-c.deltaH,c}})}),aG(aB,[bj,aH],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c._value=d.value||"",c.addClass("textbox"),d.multiline?c.addClass("multiline"):c.on("keydown",function(f){13==f.keyCode&&c.parents().reverse().each(function(e){return f.preventDefault(),e.submit?(e.submit(),!1):void 0})})},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().value=d),c):c._rendered?c.getEl().value:c._value},repaint:function(){var h=this,g,j,k,l=0,c=0,f;g=h.getEl().style,j=h._layoutRect,f=h._lastRepaintRect||{};var d=document;return !h.settings.multiline&&d.all&&(!d.documentMode||d.documentMode<=8)&&(g.lineHeight=j.h-c+"px"),k=h._borderBox,l=k.left+k.right+8,c=k.top+k.bottom+(h.settings.multiline?8:0),j.x!==f.x&&(g.left=j.x+"px",f.x=j.x),j.y!==f.y&&(g.top=j.y+"px",f.y=j.y),j.w!==f.w&&(g.width=j.w-l+"px",f.w=j.w),j.h!==f.h&&(g.height=j.h-c+"px",f.h=j.h),h._lastRepaintRect=f,h.fire("repaint",{},!1),h},renderHtml:function(){var d=this,c=d._id,f=d.settings,g=d.encode(d._value,!1),h="";return"spellcheck" in f&&(h+=' spellcheck="'+f.spellcheck+'"'),f.maxLength&&(h+=' maxlength="'+f.maxLength+'"'),f.size&&(h+=' size="'+f.size+'"'),f.subtype&&(h+=' type="'+f.subtype+'"'),f.multiline?'<textarea id="'+c+'" class="'+d.classes()+'" '+(f.rows?' rows="'+f.rows+'"':"")+' hidefocus="true"'+h+">"+g+"</textarea>":'<input id="'+c+'" class="'+d.classes()+'" value="'+g+'" hidefocus="true"'+h+">"},postRender:function(){var c=this;return a.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()}})}),aG(aP,[aH],function(a){return function(b){var c=this,d;c.show=function(e){return c.hide(),d=!0,window.setTimeout(function(){d&&b.appendChild(a.createFragment('<div class="mce-throbber"></div>'))},e||0),c},c.hide=function(){var f=b.lastChild;return f&&-1!=f.className.indexOf("throbber")&&f.parentNode.removeChild(f),d=!1,c}}}),ar([af,br,bk,aV,bn,bG,aw,bm,bl,a9,ao,bA,by,bR,bO,a4,aK,ak,bJ,bK,av,aL,ay,bw,bH,bu,aC,aT,bh,bE,aS,a3,a7,aH,ba,aU,aF,a1,aR,bb,ax,bB,bq,aZ,aW,aE,bN,bQ,bi,a2,bL,aQ,bz,aJ,bv,ag,bd,bp,ac,aY,bC,aD,bD,be,bj,bc,aM,ai,a6,bM,bo,a0,ab,bx,al,aI,am,bg,a5,ae,ah,an,aX,aq,au,ad,a8,ap,bs,bP,aO,bF,bT,aN,aa,bS,aB,aP])}(this);
$(document).ready(function(){$("#stage-list-container").on("click","#add-more-stages",function(a){a.preventDefault();$.get(Routing.generate("ctf_admin_stage_form",null),null,function(b){$("#stage-form-dyn").empty();$("#stage-form-dyn").html(b).fadeIn()})});$("#stage-list-container").on("click","a.list-item",function(a){a.preventDefault();$.get($(this).attr("href"),null,function(b){$("#stage-form-dyn").empty();$("#stage-form-dyn").html(b).fadeIn()})});$("#stage-form-container").on("submit","#stage-form",function(a){a.preventDefault();$.post($("#stage-form").attr("action"),$("#stage-form").serialize(),function(b){if("true"==b){$("#stage-form").fadeOut();$("#stage-form").fadeIn("fast",function(){$("#ctf_questbundle_stagetype_name").val("");$("#ctf_questbundle_stagetype_description").val("")});$("#stage-form-status").html('<div class="alert alert-success">Successfully Saved!</div>').show().fadeOut(2200);$.get(Routing.generate("ctf_admin_stage_list",null),null,function(c){$("#stage-list-dyn").html(c).show()});$.get(Routing.generate("ctf_admin_stage_list",{q:1}),null,function(c){$("#qlist-dyn").html(c).show()})}else{$("#stage-form-status").html('<div class="alert alert-error">Could not save!</div>').show().fadeOut(1200)}})});$("#qlist-container").on("click","a.list-item",function(a){a.preventDefault();$.get($(this).attr("href"),null,function(b){$("#question-form-dyn").empty();$("#question-form-dyn").html(b).fadeIn();tinyMCE.init({selector:".rich",mode:"specific_textareas"})})});$("#qlist-container").on("click","#add-more-questions",function(a){a.preventDefault();$.get(Routing.generate("ctf_admin_stage_question",null),null,function(b){$("#question-form-dyn").empty();$("#question-form-dyn").html(b).show();tinyMCE.init({selector:".rich",mode:"specific_textareas"});$("#qtabs").tab()})})});