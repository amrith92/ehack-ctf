(function(){function g(x,y){var s;s=function(){};s.prototype=y.prototype;s=new s;x.prototype=s;x.prototype.constructor=x;x.parent=y.prototype}function r(x,y,s){"millisecond"===s?x.setMilliseconds(x.getMilliseconds()+1*y):"second"===s?x.setSeconds(x.getSeconds()+1*y):"minute"===s?x.setMinutes(x.getMinutes()+1*y):"hour"===s?x.setHours(x.getHours()+1*y):"day"===s?x.setDate(x.getDate()+1*y):"week"===s?x.setDate(x.getDate()+7*y):"month"===s?x.setMonth(x.getMonth()+1*y):"year"===s&&x.setFullYear(x.getFullYear()+1*y);return x}function v(s,x){return p[x+"Duration"]*s}function ah(x,y){var s=!1;0>x&&(s=!0,x*=-1);x=""+x;for(y=!y?1:y;x.length<y;){x="0"+x}return s?"-"+x:x}function w(x){x=x.replace(/^\s\s*/,"");for(var y=/\s/,s=x.length;y.test(x.charAt(--s));){}return x.slice(0,s+1)}function m(s,x){return s-x}function aj(s,x){return s.x-x.x}function aq(x){var y=((x&16711680)>>16).toString(16),s=((x&65280)>>8).toString(16);x=((x&255)>>0).toString(16);y=2>y.length?"0"+y:y;s=2>s.length?"0"+s:s;x=2>x.length?"0"+x:x;return"#"+y+s+x}function ae(s){var x=[];x[0]=(s&16711680)>>16;x[1]=(s&65280)>>8;x[2]=(s&255)>>0;return x}function o(x,y,s){this._defaultsKey=x;currentTheme={};s&&(f[s]&&f[s][x])&&(currentTheme=f[s][x]);this._options=y?y:{};this.setOptions(this._options,currentTheme)}function l(x,z,s){l.parent.constructor.call(this,"Chart",z,z.theme?z.theme:"theme1");l.externalReference=s;var y=this;this._containerId=x;this._objectsInitialized=!1;this.overlaidCanvasCtx=this.ctx=null;this._indexLabels=[];this._panTimerId=0;this._lastTouchEventType="";this.panEnabled=!1;this._defaultCursor="default";if(this._container=document.getElementById(this._containerId)){z=x=0,x=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,z=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height,this.width=x,this.height=z,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.style.position="relative",this._container.appendChild(this._canvasJSContainer),this.canvas=document.createElement("canvas"),this.canvas.width=x,this.canvas.height=z,this.canvas.style.background=this.backgroundColor,this.canvas.style.position="absolute",this._canvasJSContainer.appendChild(this.canvas),this.overlaidCanvas=document.createElement("canvas"),this.overlaidCanvas.width=x,this.overlaidCanvas.height=z,this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this._eventManager=new al(this),this._toolBar=document.createElement("div"),this._toolBar.style.position="absolute",this._toolBar.style.top="0px",this._toolBar.style.right="0px",this._canvasJSContainer.appendChild(this._toolBar),this.zoomEnabled&&(this._zoomButton=document.createElement("button"),this._zoomButton.appendChild(document.createTextNode("Pan")),this._toolBar.appendChild(this._zoomButton),this._zoomButton.addEventListener("click",function(){y.zoomEnabled?(y.zoomEnabled=!1,y.panEnabled=!0,y._zoomButton.innerHTML=y._cultureInfo.zoomText,y._defaultCursor="move"):(y.zoomEnabled=!0,y.panEnabled=!1,y._zoomButton.innerHTML=y._cultureInfo.panText,y._defaultCursor="default");y.overlaidCanvas.style.cursor=y._defaultCursor;y.render()},!1)),this.zoomEnabled&&(this._resetButton=document.createElement("button"),this._resetButton.appendChild(document.createTextNode("Reset")),this._toolBar.appendChild(this._resetButton),this.zoomEnabled=this._options.zoomEnabled?!0:!1,this.panEnabled=!1,this.overlaidCanvas.style.cursor=y._defaultCursor,this._resetButton.addEventListener("click",function(){y._toolTip.hide();y.zoomEnabled||y.panEnabled?(y.zoomEnabled=!0,y.panEnabled=!1,y._zoomButton.innerHTML=y._cultureInfo.panText,y._defaultCursor="default",y.overlaidCanvas.style.cursor=y._defaultCursor):(y.zoomEnabled=!1,y.panEnabled=!1);y.sessionVariables.axisX.internalMinimum=y._options.axisX&&y._options.axisX.minimum?y._options.axisX.minimum:null;y.sessionVariables.axisX.internalMaximum=y._options.axisX&&y._options.axisX.maximum?y._options.axisX.maximum:null;y.resetOverlayedCanvas();y.render()},!1)),window.addEventListener("resize",function(){var C=0,B=0,C=y._options.width?y.width:0<y._container.clientWidth?y._container.clientWidth:y.width,B=y._options.height?y.height:0<y._container.clientHeight?y._container.clientHeight:y.height;if(y.canvas.width!==C||y.canvas.height!==B){y.renderCount--,y.canvas.width=C,y.canvas.height=B,y.overlaidCanvas.width=C,y.overlaidCanvas.height=B,y.render()}}),this._toolBar.style.display="none",this.bounds={x1:0,y1:0,x2:this.canvas.width,y2:this.canvas.height},y=this,this.canvas.getContext&&(this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",this.ctx.roundRect=function(G,F,J,I,B,E,C,H){C&&(this.fillStyle=C);H&&(this.strokeStyle=H);"undefined"==typeof stroke&&(stroke=!0);"undefined"===typeof B&&(B=5);this.lineWidth=E;this.beginPath();this.moveTo(G+B,F);this.lineTo(G+J-B,F);this.quadraticCurveTo(G+J,F,G+J,F+B);this.lineTo(G+J,F+I-B);this.quadraticCurveTo(G+J,F+I,G+J-B,F+I);this.lineTo(G+B,F+I);this.quadraticCurveTo(G,F+I,G,F+I-B);this.lineTo(G,F+B);this.quadraticCurveTo(G,F,G+B,F);this.closePath();C&&this.fill();H&&0<E&&this.stroke()},this.overlaidCanvas.addEventListener("click",function(B){y._mouseEventHandler(B)},!1),this.overlaidCanvas.addEventListener("mousemove",function(B){y._mouseEventHandler(B)},!1),this.overlaidCanvas.addEventListener("mouseup",function(B){y._mouseEventHandler(B)},!1),this.overlaidCanvas.addEventListener("mousedown",function(B){y._mouseEventHandler(B)},!1),this.overlaidCanvas.addEventListener("mouseout",function(B){y._mouseEventHandler(B)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(B){y._touchEventHandler(B)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(B){y._touchEventHandler(B)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(B){y._touchEventHandler(B)},!1),this.overlaidCanvas.addEventListener(window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(B){y._touchEventHandler(B)},!1)),this._toolTip=new d(this,this._options.toolTip,this.theme),this.layoutManager=new at(this.canvas),this.axisY2=this.axisY=this.axisX=this.data=null,this.renderCount=0,this.creditText&&this.creditHref&&(this._creditLink=document.createElement("a"),this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+(z-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),this._creditLink.setAttribute("tabIndex",-1),this._creditLink.setAttribute("href",this.creditHref),this._creditLink.innerHTML=this.creditText,this._creditLink.setAttribute("target","_blank"),this._canvasJSContainer.appendChild(this._creditLink)),this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}}}}function u(y,C){for(var x=[],B=0;B<y.length;B++){if(0==B){x.push(y[0])}else{var s,z,E;E=B-1;s=0===E?0:E-1;z=E===y.length-1?E:E+1;x[x.length]={x:y[E].x+(y[z].x-y[s].x)/C/3,y:y[E].y+(y[z].y-y[s].y)/C/3};E=B;s=0===E?0:E-1;z=E===y.length-1?E:E+1;x[x.length]={x:y[E].x-(y[z].x-y[s].x)/C/3,y:y[E].y-(y[z].y-y[s].y)/C/3};x[x.length]=y[B]}}return x}function at(s){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0;this.canvas=s}function af(s,x){af.parent.constructor.call(this,"TextBlock",x);this.ctx=s;this._isDirty=!0;this._wrappedText=null}function b(s,x){b.parent.constructor.call(this,"Title",x,s.theme);this.chart=s;this.canvas=s.canvas;this.ctx=this.chart.ctx;"undefined"===typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize));this.height=this.width=null;this.bounds={x1:null,y1:null,x2:null,y2:null}}function n(x,y,s){n.parent.constructor.call(this,"Legend",y,s);this.chart=x;this.canvas=x.canvas;this.ctx=this.chart.ctx;this.height=this.width=0;this.orientation=null;this.horizontalSpacing=10;this.dataSeries=[];this.bounds={x1:null,y1:null,x2:null,y2:null}}function q(s,x){q.parent.constructor.call(this,x);this.chart=s;this.canvas=s.canvas;this.ctx=this.chart.ctx}function A(y,B,x,z,s){A.parent.constructor.call(this,"DataSeries",B,x);this.chart=y;this.canvas=y.canvas;this._ctx=y.canvas.ctx;this.index=z;this.noDataPointsInPlotArea=0;this.id=s;this.dataPointIds=[];this.axisY=this.axisX=null;this.axisPlacement=this.getDefaultAxisPlacement()}function ao(x,z,s,y){ao.parent.constructor.call(this,"Axis",z,x.theme);this.chart=x;this.canvas=x.canvas;this.ctx=x.ctx;this.intervalStartPosition=this.maxHeight=this.maxWidth=0;this.labels=[];this.dataInfo={min:Infinity,max:-Infinity,viewPortMin:Infinity,viewPortMax:-Infinity,minDiff:Infinity};"axisX"===s?(this.sessionVariables=this.chart.sessionVariables[s],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===y||"top"===y?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2;"undefined"===typeof this._options.titleFontSize&&(this.titleFontSize=fontSize=this.chart.getAutoFontSize(this.titleFontSize));"undefined"===typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize));this.type=s;if(!z||"undefined"===typeof z.gridThickness){this.gridThickness="axisX"===s?0:1}this._labels=null;this._position=y;this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null};this.labelAngle=(this.labelAngle%360+360)%360;90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360);this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null;this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum);this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum);this.trackChanges("minimum");this.trackChanges("maximum")}function d(x,y,s){d.parent.constructor.call(this,"ToolTip",y,s);this.chart=x;this.canvas=x.canvas;this.ctx=this.chart.ctx;this.currentDataPointIndex=this.currentSeriesIndex=-1;this._timerId=0;this._prevY=this._prevX=NaN;this._initialize()}function al(s){this.chart=s;this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCanvas=document.createElement("canvas");this.ghostCanvas.width=this.chart.canvas.width;this.ghostCanvas.height=this.chart.canvas.height;this.ghostCtx=this.ghostCanvas.getContext("2d")}function ap(x,y){var s;y&&ag[y]&&(s=ag[y]);b.parent.constructor.call(this,"CultureInfo",s,x.theme);this.chart=x;this.canvas=x.canvas;this.ctx=this.chart.ctx}var ab={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",backgroundColor:"white",theme:"theme1",animationEnabled:!0,colorSet:"colorSet1",culture:"en",creditHref:"http://canvasjs.com/",creditText:"CanvasJS.com"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,cursor:null,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"#808080",indexLabelLineThickness:1,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2},Legend:{name:null,borderThickness:0,borderColor:"black",cornerRadius:0,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal"},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},ag={en:{}},D={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},f={theme1:{Chart:{colorSet:D[0]},Title:{fontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:"monospace, sans-serif,arial black",titleFontWeight:"bold",labelFontFamily:"monospace, Courier New, Courier",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:"Courier New, Courier, monospace",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif",fontSize:32,fontColor:"rgb(68,78,58)",fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:"Verdana, Geneva, Calibri, sans-serif",labelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:"Candara, Optima, Calibri, Verdana, Geneva, sans-serif",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},p={numberDuration:1,yearDuration:31449600000,monthDuration:2592000000,weekDuration:604800000,dayDuration:86400000,hourDuration:3600000,minuteDuration:60000,secondDuration:1000,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},ar,e=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),a="Sun Mon Tue Wed Thu Fri Sat".split(" "),an="January February March April May June July August September October November December".split(" "),ak="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),k=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,j=/[^-+\dA-Z]/g;ar=function(N,C,x){var L=x?x.days:h,H=x?x.months:an,B=x?x.shortDays:a,s=x?x.shortMonths:ak;x="";var M=!1;N=N&&N.getTime?N:N?new Date(N):new Date;if(isNaN(N)){throw SyntaxError("invalid date")}"UTC:"==C.slice(0,4)&&(C=C.slice(4),M=!0);x=M?"getUTC":"get";var J=N[x+"Date"](),O=N[x+"Day"](),G=N[x+"Month"](),I=N[x+"FullYear"](),K=N[x+"Hours"](),E=N[x+"Minutes"](),F=N[x+"Seconds"](),y=N[x+"Milliseconds"](),z=M?0:N.getTimezoneOffset();return x=C.replace(e,function(P){switch(P){case"D":return J;case"DD":return ah(J,2);case"DDD":return B[O];case"DDDD":return L[O];case"M":return G+1;case"MM":return ah(G+1,2);case"MMM":return s[G];case"MMMM":return H[G];case"Y":return parseInt(String(I).slice(-2));case"YY":return ah(String(I).slice(-2),2);case"YYY":return ah(String(I).slice(-3),3);case"YYYY":return ah(I,4);case"h":return K%12||12;case"hh":return ah(K%12||12,2);case"H":return K;case"HH":return ah(K,2);case"m":return E;case"mm":return ah(E,2);case"s":return F;case"ss":return ah(F,2);case"f":return String(y).slice(0,1);case"ff":return ah(String(y).slice(0,2),2);case"fff":return ah(String(y).slice(0,3),3);case"t":return 12>K?"a":"p";case"tt":return 12>K?"am":"pm";case"T":return 12>K?"A":"P";case"TT":return 12>K?"AM":"PM";case"K":return M?"UTC":(String(N).match(k)||[""]).pop().replace(j,"");case"z":return(0<z?"-":"+")+Math.floor(Math.abs(z)/60);case"zz":return(0<z?"-":"+")+ah(Math.floor(Math.abs(z)/60),2);case"zzz":return(0<z?"-":"+")+ah(Math.floor(Math.abs(z)/60),2)+ah(Math.abs(z)%60,2);default:return P.slice(1,P.length-1)}})};var ai=function(M,B,x){M=Number(M);var K=0>M?!0:!1;K&&(M*=-1);decimalSeparator=x?x.decimalSeparator:".";digitGroupSeparator=x?x.digitGroupSeparator:",";var G="";B=String(B);for(var G=1,z=x="",s=-1,L=[],I=[],N=0,F=0,H=0,G=1,J=!1,C=0,z=B.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),E=0;z&&E<z.length;E++){if(B=z[E],"."===B&&0>s){s=E}else{if("%"===B){G*=100}else{if("\u2030"===B){G*=1000;continue}else{if(","===B[0]&&"."===B[B.length-1]){G/=Math.pow(1000,B.length-1);s=E+B.length-1;continue}else{if(("E"===B[0]||"e"===B[0])&&"0"===B[B.length-1]){J=!0}}}}0>s?(L.push(B),"#"===B||"0"===B?N++:","===B&&H++):(I.push(B),("#"===B||"0"===B)&&F++)}}J&&(B=Math.floor(M),C=(0===B?"":String(B)).length-N,G/=Math.pow(10,C));0>s&&(s=E);G=(M*G).toFixed(F);B=G.split(".");M=(B[0]+"").split("");G=(B[1]+"").split("");M&&"0"===M[0]&&M.shift();for(E=J=z=F=s=0;0<L.length;){if(B=L.pop(),"#"===B||"0"===B){if(s++,s===N){var y=M;M=[];if("0"===B){for(B=N-F-(y?y.length:0);0<B;){y.unshift("0"),B--}}for(;0<y.length;){x=y.pop()+x,E++,0===E%J&&(z===H&&0<y.length)&&(x=digitGroupSeparator+x)}K&&(x="-"+x)}else{0<M.length?(x=M.pop()+x,F++,E++):"0"===B&&(x="0"+x,F++,E++),0===E%J&&(z===H&&0<M.length)&&(x=digitGroupSeparator+x)}}else{("E"===B[0]||"e"===B[0])&&"0"===B[B.length-1]&&/[eE][+-]*[0]+/.test(B)?(B=0>C?B.replace("+","").replace("-",""):B.replace("-",""),x+=B.replace(/[0]+/,function(O){return ah(C,O.length)})):","===B?(z++,J=E,E=0,0<M.length&&(x=digitGroupSeparator+x)):x=1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?B.slice(1,B.length-1)+x:B+x}}for(K=0;0<I.length;){B=I.shift(),"#"===B||"0"===B?0<G.length&&0!==Number(G.join(""))?x+=(0===K++?decimalSeparator:"")+G.shift():"0"===B&&(x+=(0===K++?decimalSeparator:"")+"0"):1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?x+=(0===K++?decimalSeparator:"")+B.slice(1,B.length-1):("E"===B[0]||"e"===B[0])&&"0"===B[B.length-1]&&/[eE][+-]*[0]+/.test(B)?(B=0>C?B.replace("+","").replace("-",""):B.replace("-",""),x+=B.replace(/[0]+/,function(O){return ah(C,O.length)})):x+=(0===K++?decimalSeparator:"")+B}return x},am=function(x){var y=0,s=0;x||(x=window.event);x.offsetX||0===x.offsetX?(y=x.offsetX,s=x.offsetY):x.layerX||0==x.layerX?(y=x.layerX,s=x.layerY):(y=x.pageX-x.target.offsetLeft,s=x.pageY-x.target.offsetTop);return{x:y,y:s}};o.prototype.setOptions=function(x,y){if(ab[this._defaultsKey]){var s=ab[this._defaultsKey];for(prop in s){this[prop]=x&&prop in x?x[prop]:y&&prop in y?y[prop]:s[prop]}}};o.prototype.trackChanges=function(s){this._options._oldOptions||(this._options._oldOptions={});this._options._oldOptions[s]=this._options[s]};o.prototype.isBeingTracked=function(s){this._options._oldOptions||(this._options._oldOptions={});return this._options._oldOptions[s]?!0:!1};o.prototype.hasOptionChanged=function(s){this._options._oldOptions||(this._options._oldOptions={});return this._options._oldOptions[s]!==this._options[s]};g(l,o);l.prototype._initialize=function(){this._selectedColorSet="undefined"!==typeof D[this.colorSet]?D[this.colorSet]:D.colorSet1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.ctx.beginPath();this.axisY2=this.axisY=this.axisX=null;this._indexLabels=[];this._events=[];this._eventManager&&this._eventManager.reset();this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]};this.layoutManager.reset();this._cultureInfo=new ap(this,this._options.culture);this.data=[];var x=0;for(series in this._options.data){if(x++,!this._options.data[series].type||0<=l._supportedChartTypes.indexOf(this._options.data[series].type)){var z=new A(this,this._options.data[series],this.theme,x-1,++this._eventManager.lastObjectId);null===z.name&&(z.name="DataSeries "+x);null===z.color?1<this._options.data.length?(z._colorSet=[this._selectedColorSet[z.index%this._selectedColorSet.length]],z.color=this._selectedColorSet[z.index%this._selectedColorSet.length]):z._colorSet="line"===z.type||"stepLine"===z.type||"spline"===z.type||"area"===z.type||"splineArea"===z.type||"stackedArea"===z.type||"stackedArea100"===z.type?[this._selectedColorSet[0]]:this._selectedColorSet:z._colorSet=[z.color];if(null===z.markerSize&&(("line"===z.type||"stepLine"===z.type||"spline"===z.type)&&z.dataPoints.length<this.canvas.width/16||"scatter"===z.type)){z.markerSize=8}("bubble"===z.type||"scatter"===z.type)&&z.dataPoints.sort(aj);this.data.push(z);var s=z.axisPlacement,y;"normal"===s?"xySwapped"===this.plotInfo.axisPlacement?y='You cannot combine "'+z.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?y='You cannot combine "'+z.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?y='You cannot combine "'+z.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?y='You cannot combine "'+z.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==s&&("normal"===this.plotInfo.axisPlacement?y='You cannot combine "'+z.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?y='You cannot combine "'+z.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"));if(y&&window.console){window.console.log(y);return}}}this._objectsInitialized=!0};l._supportedChartTypes="line stepLine spline column area splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 pie doughnut".split(" ");l.prototype.render=function(){this._initialize();for(var x=0;x<this.data.length;x++){if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){!this.data[x].axisYType||"primary"===this.data[x].axisYType?(this.axisY||("normal"===this.plotInfo.axisPlacement?this.axisY=new ao(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new ao(this,this._options.axisY,"axisY","bottom"))),this.data[x].axisY=this.axisY):"secondary"===this.data[x].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new ao(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new ao(this,this._options.axisY2,"axisY","top"))),this.data[x].axisY=this.axisY2),this.axisX||("normal"===this.plotInfo.axisPlacement?this.axisX=new ao(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new ao(this,this._options.axisX,"axisX","left"))),this.data[x].axisX=this.axisX}}this._processData();this._options.title&&(this._title=new b(this,this._options.title),this._title.render());this.legend=new n(this,this._options.legend,this.theme);for(x=0;x<this.data.length;x++){this.data[x].showInLegend&&this.legend.dataSeries.push(this.data[x])}this.legend.render();if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){ao.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())}else{if("none"!==this.plotInfo.axisPlacement){return}}for(x=0;x<this.plotInfo.plotTypes.length;x++){for(var z=this.plotInfo.plotTypes[x],s=0;s<z.plotUnits.length;s++){var y=z.plotUnits[s];"line"===y.type?this.renderLine(y):"stepLine"===y.type?this.renderStepLine(y):"spline"===y.type?this.renderSpline(y):"column"===y.type?this.renderColumn(y):"bar"===y.type?this.renderBar(y):"area"===y.type?this.renderArea(y):"splineArea"===y.type?this.renderSplineArea(y):"stackedColumn"===y.type?this.renderStackedColumn(y):"stackedColumn100"===y.type?this.renderStackedColumn100(y):"stackedBar"===y.type?this.renderStackedBar(y):"stackedBar100"===y.type?this.renderStackedBar100(y):"stackedArea"===y.type?this.renderStackedArea(y):"stackedArea100"===y.type?this.renderStackedArea100(y):"bubble"===y.type?this.renderBubble(y):"scatter"===y.type?this.renderScatter(y):"pie"===y.type?this.renderPie(y):"doughnut"===y.type&&this.renderPie(y)}}0<this._indexLabels.length&&this.renderIndexLabels();this.setToolbarButtonStates();this._toolTip._updateToolTip();this.renderCount++};l.prototype.setToolbarButtonStates=function(){this.zoomEnabled||this.panEnabled||this._toolTip.enabled?this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,capture:!0,bounds:this.getPlotArea()}):this._toolBar.style.display="none"};l.prototype.categoriseDataSeries=function(){for(var y="",C=0;C<this.data.length;C++){if(y=this.data[C],y.dataPoints&&0!==y.dataPoints.length&&0<=l._supportedChartTypes.indexOf(y.type)){for(var x=null,B=!1,s=null,z=!1,E=0;E<this.plotInfo.plotTypes.length;E++){if(this.plotInfo.plotTypes[E].type===y.type){B=!0;x=this.plotInfo.plotTypes[E];break}}B||(x={type:y.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(x));for(E=0;E<x.plotUnits.length;E++){if(x.plotUnits[E].axisYType===y.axisYType){z=!0;s=x.plotUnits[E];break}}z||(s={type:y.type,previousDataSeriesCount:0,index:x.plotUnits.length,plotType:x,axisYType:y.axisYType,axisY:"primary"===y.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]},x.plotUnits.push(s));x.totalDataSeries++;s.dataSeriesIndexes.push(C)}}for(C=0;C<this.plotInfo.plotTypes.length;C++){x=this.plotInfo.plotTypes[C];for(E=y=0;E<x.plotUnits.length;E++){x.plotUnits[E].previousDataSeriesCount=y,y+=x.plotUnits[E].dataSeriesIndexes.length}}};l.prototype.assignIdToDataPoints=function(){for(var x=0;x<this.data.length;x++){dataSeries=this.data[x];for(var y=dataSeries.dataPoints.length,s=0;s<y;s++){dataSeries.dataPointIds[s]=++this._eventManager.lastObjectId}}};l.prototype._processData=function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var x=0;x<this.plotInfo.plotTypes.length;x++){for(var z=this.plotInfo.plotTypes[x],s=0;s<z.plotUnits.length;s++){var y=z.plotUnits[s];"line"===y.type||"stepLine"===y.type||"spline"===y.type||"column"===y.type||"area"===y.type||"splineArea"===y.type||"bar"===y.type||"bubble"===y.type||"scatter"===y.type?this._processMultiseriesPlotUnit(y):"stackedColumn"===y.type||"stackedBar"===y.type||"stackedArea"===y.type?this._processStackedPlotUnit(y):("stackedColumn100"===y.type||"stackedBar100"===y.type||"stackedArea100"===y.type)&&this._processStacked100PlotUnit(y)}}};l.prototype._processMultiseriesPlotUnit=function(K){if(K.dataSeriesIndexes&&!(1>K.dataSeriesIndexes.length)){for(var z=K.axisY.dataInfo,x=K.axisX.dataInfo,I,E,y=!1,s=0;s<K.dataSeriesIndexes.length;s++){var J=this.data[K.dataSeriesIndexes[s]],G=0,L=!1,C=!1;if("normal"===J.axisPlacement||"xySwapped"===J.axisPlacement){var F=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,H=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity}if(J.dataPoints[G].x&&J.dataPoints[G].x.getTime||"dateTime"===J.xValueType){y=!0}for(G=0;G<J.dataPoints.length;G++){"undefined"===typeof J.dataPoints[G].x&&(J.dataPoints[G].x=G);J.dataPoints[G].x.getTime?(y=!0,I=J.dataPoints[G].x.getTime()):I=J.dataPoints[G].x;E=J.dataPoints[G].y;I<x.min&&(x.min=I);I>x.max&&(x.max=I);E<z.min&&(z.min=E);E>z.max&&(z.max=E);if(0<G){var B=I-J.dataPoints[G-1].x;0>B&&(B*=-1);x.minDiff>B&&0!==B&&(x.minDiff=B)}if(!(I<F)||L){if(!L&&(L=!0,0<G)){G-=2;continue}if(I>H&&!C){C=!0}else{if(I>H&&C){continue}}J.dataPoints[G].label&&(K.axisX.labels[I]=J.dataPoints[G].label);I<x.viewPortMin&&(x.viewPortMin=I);I>x.viewPortMax&&(x.viewPortMax=I);E<z.viewPortMin&&(z.viewPortMin=E);E>z.viewPortMax&&(z.viewPortMax=E)}}this.plotInfo.axisXValueType=J.xValueType=y?"dateTime":"number"}}};l.prototype._processStackedPlotUnit=function(M){if(M.dataSeriesIndexes&&!(1>M.dataSeriesIndexes.length)){for(var B=M.axisY.dataInfo,x=M.axisX.dataInfo,K,G,z=!1,s=[],L=[],I=0;I<M.dataSeriesIndexes.length;I++){var N=this.data[M.dataSeriesIndexes[I]],F=0,H=!1,J=!1;if("normal"===N.axisPlacement||"xySwapped"===N.axisPlacement){var C=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,E=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity}if(N.dataPoints[F].x&&N.dataPoints[F].x.getTime||"dateTime"===N.xValueType){z=!0}for(F=0;F<N.dataPoints.length;F++){"undefined"===typeof N.dataPoints[F].x&&(N.dataPoints[F].x=F);N.dataPoints[F].x.getTime?(z=!0,K=N.dataPoints[F].x.getTime()):K=N.dataPoints[F].x;G=N.dataPoints[F].y;K<x.min&&(x.min=K);K>x.max&&(x.max=K);if(0<F){var y=K-N.dataPoints[F-1].x;0>y&&(y*=-1);x.minDiff>y&&0!==y&&(x.minDiff=y)}if(!(K<C)||H){if(!H&&(H=!0,0<F)){F-=2;continue}if(K>E&&!J){J=!0}else{if(K>E&&J){continue}}N.dataPoints[F].label&&(M.axisX.labels[K]=N.dataPoints[F].label);K<x.viewPortMin&&(x.viewPortMin=K);K>x.viewPortMax&&(x.viewPortMax=K);0<=G?s[K]=s[K]?s[K]+G:G:L[K]=L[K]?L[K]+G:G}}this.plotInfo.axisXValueType=N.xValueType=z?"dateTime":"number"}for(F in s){M=s[F],M<B.min&&(B.min=M),M>B.max&&(B.max=M),F<x.viewPortMin||F>x.viewPortMax||(M<B.viewPortMin&&(B.viewPortMin=M),M>B.viewPortMax&&(B.viewPortMax=M))}for(F in L){M=L[F],M<B.min&&(B.min=M),M>B.max&&(B.max=M),F<x.viewPortMin||F>x.viewPortMax||(M<B.viewPortMin&&(B.viewPortMin=M),M>B.viewPortMax&&(B.viewPortMax=M))}}};l.prototype._processStacked100PlotUnit=function(N){if(N.dataSeriesIndexes&&!(1>N.dataSeriesIndexes.length)){for(var C=N.axisY.dataInfo,x=N.axisX.dataInfo,L,H,B=!1,s=!1,M=!1,J=[],O=0;O<N.dataSeriesIndexes.length;O++){var G=this.data[N.dataSeriesIndexes[O]],I=0,K=!1,E=!1;if("normal"===G.axisPlacement||"xySwapped"===G.axisPlacement){var F=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,y=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity}if(G.dataPoints[I].x&&G.dataPoints[I].x.getTime||"dateTime"===G.xValueType){B=!0}for(I=0;I<G.dataPoints.length;I++){"undefined"===typeof G.dataPoints[I].x&&(G.dataPoints[I].x=I);G.dataPoints[I].x.getTime?(B=!0,L=G.dataPoints[I].x.getTime()):L=G.dataPoints[I].x;H=G.dataPoints[I].y;L<x.min&&(x.min=L);L>x.max&&(x.max=L);if(0<I){var z=L-G.dataPoints[I-1].x;0>z&&(z*=-1);x.minDiff>z&&0!==z&&(x.minDiff=z)}if(!(L<F)||K){if(!K&&(K=!0,0<I)){I-=2;continue}if(L>y&&!E){E=!0}else{if(L>y&&E){continue}}G.dataPoints[I].label&&(N.axisX.labels[L]=G.dataPoints[I].label);L<x.viewPortMin&&(x.viewPortMin=L);L>x.viewPortMax&&(x.viewPortMax=L);0<=H?s=!0:M=!0;J[L]=J[L]?J[L]+Math.abs(H):Math.abs(H)}}this.plotInfo.axisXValueType=G.xValueType=B?"dateTime":"number"}s&&!M?(C.max=99,C.min=1):s&&M?(C.max=99,C.min=-99):!s&&M&&(C.max=-1,C.min=-99);C.viewPortMin=C.min;C.viewPortMax=C.max;N.dataPointYSums=J}};l.prototype.getAutoFontSize=function(s){return Math.min(this.canvas.width,this.canvas.height)*(s/400)};l.prototype.resetOverlayedCanvas=function(){var s=this.overlaidCanvas.width;this.overlaidCanvas.width=0;this.overlaidCanvas.width=s};l.prototype.attachEvent=function(s){this._events.push(s)};l.prototype._touchEventHandler=function(y){if(y.changedTouches){var B=[];first=(B=y.changedTouches)?B[0]:y;switch(y.type){case"touchstart":case"MSPointerDown":B=["mousemove","mousedown"];break;case"touchmove":case"MSPointerMove":B=["mousemove"];break;case"touchend":case"MSPointerUp":B="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}this._lastTouchEventType=y.type;for(var x=0;x<B.length;x++){var z=B[x],s=document.createEvent("MouseEvent");s.initMouseEvent(z,!0,!0,window,1,first.screenX,first.screenY,first.clientX,first.clientY,!1,!1,!1,!1,0,null);first.target.dispatchEvent(s);y.preventManipulation&&y.preventManipulation();y.preventDefault&&y.preventDefault()}}};l.prototype._mouseEventHandler=function(y){y.preventManipulation&&y.preventManipulation();y.preventDefault&&y.preventDefault();var C=am(y),x=y.type,B;y.which?B=3==y.which:y.button&&(B=2==y.button);if(!B){if(l.capturedEventParam){B=l.capturedEventParam,"mouseup"===x&&(l.capturedEventParam=null,B.chart.overlaidCanvas.releaseCapture?B.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",B.chart._mouseEventHandler,!1)),B.hasOwnProperty(x)&&B[x].call(B.context,C.x,C.y)}else{if(this._events){for(var s=0;s<this._events.length;s++){if(this._events[s].hasOwnProperty(x)){B=this._events[s];var z=B.bounds;if(C.x>=z.x1&&C.x<=z.x2&&C.y>=z.y1&&C.y<=z.y2){B[x].call(B.context,C.x,C.y);"mousedown"===x&&!0===B.capture?(l.capturedEventParam=B,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===x&&(B.chart.overlaidCanvas.releaseCapture?B.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}}}}}this._toolTip&&this._toolTip.enabled&&(x=this.getPlotArea(),(C.x<x.x1||C.x>x.x2||C.y<x.y1||C.y>x.y2)&&this._toolTip.hide());(!this.isDrag||!this.zoomEnabled)&&this._eventManager&&this._eventManager.mouseEventHandler(y)}};l.prototype._plotAreaMouseDown=function(s,x){this.isDrag=!0;this.dragStartPoint="none"!==this.plotInfo.axisPlacement?{x:s,y:x,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}:{x:s,y:x}};l.prototype._plotAreaMouseUp=function(y,B){var x,z;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var s=0,s=this.axisX.lineCoordinates,s="xySwapped"===this.plotInfo.axisPlacement?B-this.dragStartPoint.y:this.dragStartPoint.x-y;Math.abs(this.axisX.maximum-this.axisX.minimum);if(2<Math.abs(s)){if(this.panEnabled){s=!1,z=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(z=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=z,this.axisX.sessionVariables.internalMaximum+=z,s=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(z=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=z,this.axisX.sessionVariables.internalMinimum-=z,s=!0),this.overlaidCanvas.style.cursor=this._defaultCursor,s&&this.render()}else{if(this.zoomEnabled){this.resetOverlayedCanvas();if(!this.dragStartPoint){return}"xySwapped"===this.plotInfo.axisPlacement?(x=Math.min(this.dragStartPoint.y,B),z=Math.max(this.dragStartPoint.y,B),1<Math.abs(x-z)&&(s=this.axisX.lineCoordinates,z=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/s.height*(z-s.y1),s=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/s.height*(x-s.y1),z=Math.max(z,this.axisX.dataInfo.min),s=Math.min(s,this.axisX.dataInfo.max),Math.abs((s-z)/this.axisX.dataInfo.minDiff)>=0.008*this.canvas.height&&(this.axisX.sessionVariables.internalMinimum=z,this.axisX.sessionVariables.internalMaximum=s,this.render()))):"normal"===this.plotInfo.axisPlacement&&(z=Math.min(this.dragStartPoint.x,y),x=Math.max(this.dragStartPoint.x,y),1<Math.abs(z-x)&&(s=this.axisX.lineCoordinates,z=(this.axisX.maximum-this.axisX.minimum)/s.width*(z-s.x1)+this.axisX.minimum,s=(this.axisX.maximum-this.axisX.minimum)/s.width*(x-s.x1)+this.axisX.minimum,z=Math.max(z,this.axisX.dataInfo.min),s=Math.min(s,this.axisX.dataInfo.max),Math.abs((s-z)/this.axisX.dataInfo.minDiff)>=0.01*this.canvas.width&&(this.axisX.sessionVariables.internalMinimum=z,this.axisX.sessionVariables.internalMaximum=s,this.render())))}}this.zoomEnabled&&"none"===this._toolBar.style.display&&(this._toolBar.style.display="inline",this._zoomButton.innerHTML=this._cultureInfo.panText,this._resetButton.innerHTML=this._cultureInfo.resetText)}}this.isDrag=!1};l.prototype._plotAreaMouseMove=function(y,B){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var x=0,z=0,z=this.axisX.lineCoordinates;"xySwapped"===this.plotInfo.axisPlacement?(x=B-this.dragStartPoint.y,z=Math.abs(this.axisX.maximum-this.axisX.minimum)/z.height*x):(x=this.dragStartPoint.x-y,z=Math.abs(this.axisX.maximum-this.axisX.minimum)/z.width*x);2<Math.abs(x)&&8>Math.abs(x)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():this._toolTip.enabled&&(!this.panEnabled&&!this.zoomEnabled)&&this._toolTip.mouseMoveHandler(y,B);if(2<Math.abs(x)&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+z;this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+z;x=0;this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-v(this.axisX.interval,this.axisX.intervalType)?(x=this.axisX._absoluteMinimum-v(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=x,this.axisX.sessionVariables.internalMaximum+=x):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+v(this.axisX.interval,this.axisX.intervalType)&&(x=this.axisX.sessionVariables.internalMaximum-(this.axisX._absoluteMaximum+v(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=x,this.axisX.sessionVariables.internalMinimum-=x);var s=this;clearTimeout(this._panTimerId);this._panTimerId=setTimeout(function(){s.render()},0)}else{this.zoomEnabled&&(x=this.getPlotArea(),this.resetOverlayedCanvas(),z=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=0.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?this.overlaidCanvasCtx.fillRect(x.x1,this.dragStartPoint.y,x.x2-x.x1,B-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,x.y1,y-this.dragStartPoint.x,x.y2-x.y1),this.overlaidCanvasCtx.globalAlpha=z)}}}else{this._toolTip.enabled&&this._toolTip.mouseMoveHandler(y,B)}};l.prototype.getPlotArea=function(){var x,z,s,y;y=this.axisY?this.axisY:this.axisY2;if(this.axisX&&y){x=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:y.lineCoordinates.x1,s=this.axisX.lineCoordinates.y1<y.lineCoordinates.y1?this.axisX.lineCoordinates.y1:y.lineCoordinates.y1,z=this.axisX.lineCoordinates.x2>y.lineCoordinates.x2?this.axisX.lineCoordinates.x2:y.lineCoordinates.x2,y=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:y.lineCoordinates.y2}else{return this.layoutManager.getFreeSpace()}return{x1:x,y1:s,x2:z,y2:y,width:z-x,height:y-s}};l.prototype.getPixelCoordinatesOnPlotArea=function(s,x){return{x:this.axisX.getPixelCoordinatesOnAxis(s).x,y:this.axisY.getPixelCoordinatesOnAxis(x).y}};l.prototype.renderIndexLabels=function(){this.ctx.textBaseline="middle";for(var L=this.getPlotArea(),z=0;z<this._indexLabels.length;z++){var x=this._indexLabels[z],J,F,y;this.ctx.fillStyle="indexLabelFontColor" in x.dataPoint?x.dataPoint.indexLabelFontColor:x.dataSeries.indexLabelFontColor;y=this.ctx;var s=x.dataPoint,K=x.dataSeries,H="",H=H+(s.indexLabelFontStyle?s.indexLabelFontStyle+" ":K&&K.indexLabelFontStyle?K.indexLabelFontStyle+" ":""),H=H+(s.indexLabelFontWeight?s.indexLabelFontWeight+" ":K&&K.indexLabelFontWeight?K.indexLabelFontWeight+" ":""),H=H+(s.indexLabelFontSize?s.indexLabelFontSize+"px ":K&&K.indexLabelFontSize?K.indexLabelFontSize+"px ":""),H=H+(s.indexLabelFontFamily?s.indexLabelFontFamily+" ":K&&K.indexLabelFontFamily?K.indexLabelFontFamily+" ":"");y.font=H;var s=this.replaceKeywordsWithValue("indexLabel" in x.dataPoint?x.dataPoint.indexLabel:x.dataSeries.indexLabel,x.dataPoint,x.dataSeries),K=this.ctx.measureText(s).width,H="indexLabelFontSize" in x.dataPoint?x.dataPoint.indexLabelFontSize:x.dataSeries.indexLabelFontSize,M="indexLabelPlacement" in x.dataPoint?x.dataPoint.indexLabelPlacement:x.dataSeries.indexLabelPlacement,E="indexLabelOrientation" in x.dataPoint?x.dataPoint.indexLabelOrientation:x.dataSeries.indexLabelOrientation,G=y=0,I=0,B=0,C=0;x.point.x<L.x1||(x.point.x>L.x2||x.point.y<L.y1||x.point.y>L.y2)||("column"===x.chartType||"stackedColumn"===x.chartType||"stackedColumn100"===x.chartType||"bar"===x.chartType||"stackedBar"===x.chartType||"stackedBar100"===x.chartType?(Math.abs(x.bounds.x1,x.bounds.x2),Math.abs(x.bounds.y1,x.bounds.y2),"normal"===this.plotInfo.axisPlacement?("outside"===M?(G=L.y1,I=L.y2):"inside"===M&&(G=x.bounds.y1,I=x.bounds.y2),"horizontal"===E?(J=x.point.x-K/2,F=0<=x.dataPoint.y?Math.min(Math.max(x.point.y-H/2-5,G+H/2+5),I-H/2-5):Math.max(Math.min(x.point.y+H/2+5,I-H/2),G+H/2+5)):"vertical"===E&&(J=x.point.x,F=0<=x.dataPoint.y?Math.min(Math.max(x.point.y-5,G+K+5),I):Math.max(Math.min(x.point.y+K+5,I-5),G),y=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("outside"===M?(B=L.x1,C=L.x2):"inside"===M&&(B=x.bounds.x1,C=x.bounds.x2),"horizontal"===E?(F=x.point.y,J=0<=x.dataPoint.y?Math.max(Math.min(x.point.x+5,C-K),B):Math.min(Math.max(x.point.x-K-5,B),C)):"vertical"===E&&(F=x.point.y+K/2,J=0<=x.dataPoint.y?Math.max(Math.min(x.point.x+H/2+5,C-H/2),B):Math.min(Math.max(x.point.x-H/2-5,B+H/2),C+H/2),y=-90))):"horizontal"===E?(J=x.point.x-K/2,F=0<=x.dataPoint.y?Math.max(x.point.y-H/2-5,L.y1+H/2):Math.min(x.point.y+H/2+5,L.y2-H/2)):"vertical"===E&&(J=x.point.x,F=0<=x.dataPoint.y?Math.max(x.point.y-5,L.y1+K):Math.min(x.point.y+K+5,L.y2),y=-90),this.ctx.save(),this.ctx.translate(J,F),this.ctx.rotate(Math.PI/180*y),this.ctx.fillText(s,0,0),this.ctx.restore())}};l.prototype.renderLine=function(J){if(!(0>=J.dataSeriesIndexes.length)){var z=this._eventManager.ghostCtx;this.ctx.save();var x=this.getPlotArea();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();for(var x=[],H=0;H<J.dataSeriesIndexes.length;H++){var C=J.dataSeriesIndexes[H],y=this.data[C];this.ctx.lineWidth=y.lineThickness;var s=y.dataPoints,I=y.id;this._eventManager.objectMap[I]={objectType:"dataSeries",dataSeriesIndex:C};I=aq(I);z.strokeStyle=I;z.lineWidth=0<y.lineThickness?Math.max(y.lineThickness,4):0;colorSet=y._colorSet;color=colorSet[0];this.ctx.strokeStyle=color;var I=!0,F=0,K,B;if(0<s.length){for(F=0;F<s.length;F++){if(K=s[F].getTime?s[F].x.getTime():s[F].x,!(K<J.axisX.dataInfo.viewPortMin||K>J.axisX.dataInfo.viewPortMax)&&"number"===typeof s[F].y){K=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(K-J.axisX.convertionParameters.minimum)+0.5<<0;B=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(s[F].y-J.axisY.convertionParameters.minimum)+0.5<<0;var E=y.dataPointIds[F];this._eventManager.objectMap[E]={objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:F,x1:K,y1:B};I?(this.ctx.beginPath(),this.ctx.moveTo(K,B),z.beginPath(),z.moveTo(K,B),I=!1):(this.ctx.lineTo(K,B),z.lineTo(K,B),0==F%500&&(this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(K,B),z.stroke(),z.beginPath(),z.moveTo(K,B)));if(0<s[F].markerSize||0<y.markerSize){var G=y.getMarkerProperties(F,K,B,this.ctx);x.push(G);E=aq(E);x.push({x:K,y:B,ctx:z,type:G.type,size:G.size,color:E,borderColor:E,borderThickness:G.borderThickness})}(s[F].indexLabel||y.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:s[F],dataSeries:y,point:{x:K,y:B},color:color})}}this.ctx.stroke();z.stroke()}}c.drawMarkers(x);this.ctx.restore();this.ctx.beginPath();z.beginPath()}};l.prototype.renderStepLine=function(J){if(!(0>=J.dataSeriesIndexes.length)){var z=this._eventManager.ghostCtx;this.ctx.save();var x=this.getPlotArea();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();for(var x=[],H=0;H<J.dataSeriesIndexes.length;H++){var C=J.dataSeriesIndexes[H],y=this.data[C];this.ctx.lineWidth=y.lineThickness;var s=y.dataPoints,I=y.id;this._eventManager.objectMap[I]={objectType:"dataSeries",dataSeriesIndex:C};I=aq(I);z.strokeStyle=I;z.lineWidth=0<y.lineThickness?Math.max(y.lineThickness,4):0;colorSet=y._colorSet;color=colorSet[0];this.ctx.strokeStyle=color;var I=!0,F=0,K,B;if(0<s.length){for(F=0;F<s.length;F++){if(K=s[F].getTime?s[F].x.getTime():s[F].x,!(K<J.axisX.dataInfo.viewPortMin||K>J.axisX.dataInfo.viewPortMax)&&"number"===typeof s[F].y){var E=B;K=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(K-J.axisX.convertionParameters.minimum)+0.5<<0;B=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(s[F].y-J.axisY.convertionParameters.minimum)+0.5<<0;var G=y.dataPointIds[F];this._eventManager.objectMap[G]={objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:F,x1:K,y1:B};I?(this.ctx.beginPath(),this.ctx.moveTo(K,B),z.beginPath(),z.moveTo(K,B),I=!1):(this.ctx.lineTo(K,E),z.lineTo(K,E),this.ctx.lineTo(K,B),z.lineTo(K,B),0==F%500&&(this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(K,B),z.stroke(),z.beginPath(),z.moveTo(K,B)));if(0<s[F].markerSize||0<y.markerSize){E=y.getMarkerProperties(F,K,B,this.ctx),x.push(E),G=aq(G),x.push({x:K,y:B,ctx:z,type:E.type,size:E.size,color:G,borderColor:G,borderThickness:E.borderThickness})}(s[F].indexLabel||y.indexLabel)&&this._indexLabels.push({chartType:"stepLine",dataPoint:s[F],dataSeries:y,point:{x:K,y:B},color:color})}}this.ctx.stroke();z.stroke()}}c.drawMarkers(x);this.ctx.restore();this.ctx.beginPath();z.beginPath()}};l.prototype.renderSpline=function(J){if(!(0>=J.dataSeriesIndexes.length)){var z=this._eventManager.ghostCtx;this.ctx.save();var x=this.getPlotArea();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();for(var x=[],H=0;H<J.dataSeriesIndexes.length;H++){var C=J.dataSeriesIndexes[H],y=this.data[C];this.ctx.lineWidth=y.lineThickness;var s=y.dataPoints,I=y.id;this._eventManager.objectMap[I]={objectType:"dataSeries",dataSeriesIndex:C};I=aq(I);z.strokeStyle=I;z.lineWidth=0<y.lineThickness?Math.max(y.lineThickness,4):0;colorSet=y._colorSet;color=colorSet[0];this.ctx.strokeStyle=color;var I=0,F,K,B=[];if(0<s.length){for(I=0;I<s.length;I++){if(F=s[I].getTime?s[I].x.getTime():s[I].x,!(F<J.axisX.dataInfo.viewPortMin||F>J.axisX.dataInfo.viewPortMax)&&"number"===typeof s[I].y){F=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(F-J.axisX.convertionParameters.minimum)+0.5<<0;K=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(s[I].y-J.axisY.convertionParameters.minimum)+0.5<<0;var E=y.dataPointIds[I];this._eventManager.objectMap[E]={objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:I,x1:F,y1:K};B[B.length]={x:F,y:K};if(0<s[I].markerSize||0<y.markerSize){var G=y.getMarkerProperties(I,F,K,this.ctx);x.push(G);E=aq(E);x.push({x:F,y:K,ctx:z,type:G.type,size:G.size,color:E,borderColor:E,borderThickness:G.borderThickness})}(s[I].indexLabel||y.indexLabel)&&this._indexLabels.push({chartType:"spline",dataPoint:s[I],dataSeries:y,point:{x:F,y:K},color:color})}}}C=u(B,2);if(0<C.length){this.ctx.beginPath();z.beginPath();this.ctx.moveTo(C[0].x,C[0].y);z.moveTo(C[0].x,C[0].y);for(I=0;I<C.length-3;I+=3){this.ctx.bezierCurveTo(C[I+1].x,C[I+1].y,C[I+2].x,C[I+2].y,C[I+3].x,C[I+3].y),z.bezierCurveTo(C[I+1].x,C[I+1].y,C[I+2].x,C[I+2].y,C[I+3].x,C[I+3].y)}this.ctx.stroke();z.stroke()}}c.drawMarkers(x);this.ctx.restore();this.ctx.beginPath();z.beginPath()}};var t=function(H,z,x,F,C,y,s,G,E,I){var B=15<F-z&&15<C-x?8:0.35*Math.min(F-z,C-x);color2="rgba(255, 255, 255, .4)";color3="rgba(255, 255, 255, 0.1)";color1=y;H.beginPath();H.moveTo(z,x);H.save();H.fillStyle=color1;H.fillRect(z,x,F-z,C-x);H.restore();!0===s&&(H.save(),H.beginPath(),H.moveTo(z,x),H.lineTo(z+B,x+B),H.lineTo(F-B,x+B),H.lineTo(F,x),H.closePath(),y=H.createLinearGradient((F+z)/2,x+B,(F+z)/2,x),y.addColorStop(0,color1),y.addColorStop(1,color2),H.fillStyle=y,H.fill(),H.restore());!0===G&&(H.save(),H.beginPath(),H.moveTo(z,C),H.lineTo(z+B,C-B),H.lineTo(F-B,C-B),H.lineTo(F,C),H.closePath(),y=H.createLinearGradient((F+z)/2,C-B,(F+z)/2,C),y.addColorStop(0,color1),y.addColorStop(1,color2),H.fillStyle=y,H.fill(),H.restore());!0===E&&(H.save(),H.beginPath(),H.moveTo(z,x),H.lineTo(z+B,x+B),H.lineTo(z+B,C-B),H.lineTo(z,C),H.closePath(),y=H.createLinearGradient(z+B,(C+x)/2,z,(C+x)/2),y.addColorStop(0,color1),y.addColorStop(1,color3),H.fillStyle=y,H.fill(),H.restore());!0===I&&(H.save(),H.beginPath(),H.moveTo(F,x),H.lineTo(F-B,x+B),H.lineTo(F-B,C-B),H.lineTo(F,C),y=H.createLinearGradient(F-B,(C+x)/2,F,(C+x)/2),y.addColorStop(0,color1),y.addColorStop(1,color3),H.fillStyle=y,y.addColorStop(0,color1),y.addColorStop(1,color3),H.fillStyle=y,H.fill(),H.closePath(),H.restore())};l.prototype.renderColumn=function(M){if(!(0>=M.dataSeriesIndexes.length)){var B=null,x=this.getPlotArea(),K=0,G,z,s,L=M.axisY.convertionParameters.reference+M.axisY.convertionParameters.pixelPerUnit*(0-M.axisY.convertionParameters.minimum)<<0,I=0.15*this.canvas.width,K=M.axisX.dataInfo.minDiff,N=0.9*(x.width/Math.abs(M.axisX.maximum-M.axisX.minimum)*Math.abs(K)/M.plotType.totalDataSeries)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();this._eventManager.ghostCtx.rect(x.x1,x.y1,x.width,x.height);this._eventManager.ghostCtx.clip();for(x=0;x<M.dataSeriesIndexes.length;x++){var F=M.dataSeriesIndexes[x],H=this.data[F],J=H.dataPoints;1==J.length&&(N=I);1>N?N=1:N>I&&(N=I);if(0<J.length){for(var C=5<N&&H.bevelEnabled?!0:!1,K=0;K<J.length;K++){if(J[K].getTime?s=J[K].x.getTime():s=J[K].x,!(s<M.axisX.dataInfo.viewPortMin||s>M.axisX.dataInfo.viewPortMax)&&"number"===typeof J[K].y){G=M.axisX.convertionParameters.reference+M.axisX.convertionParameters.pixelPerUnit*(s-M.axisX.convertionParameters.minimum)+0.5<<0;z=M.axisY.convertionParameters.reference+M.axisY.convertionParameters.pixelPerUnit*(J[K].y-M.axisY.convertionParameters.minimum)+0.5<<0;G=G-M.plotType.totalDataSeries*N/2+(M.previousDataSeriesCount+x)*N<<0;var E=G+N<<0,y;0<=J[K].y?y=L:(y=z,z=L);z>y&&(y=z=y);B=J[K].color?J[K].color:H._colorSet[K%H._colorSet.length];t(this.ctx,G,z,E,y,B,C&&0<=J[K].y,0>J[K].y&&C,!1,!1);B=H.dataPointIds[K];this._eventManager.objectMap[B]={objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:K,x1:G,y1:z,x2:E,y2:y};B=aq(B);t(this._eventManager.ghostCtx,G,z,E,y,B,!1,!1,!1,!1);if(J[K].indexLabel||H.indexLabel){this._indexLabels.push({chartType:"column",dataPoint:J[K],dataSeries:H,point:{x:G+(E-G)/2,y:0<=J[K].y?z:y},bounds:{x1:G,y1:Math.min(z,y),x2:E,y2:Math.max(z,y)},color:B})}}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderStackedColumn=function(J){if(!(0>=J.dataSeriesIndexes.length)){var B=null,M=this.getPlotArea(),K=[],z=[],C=0,O,Q=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(0-J.axisY.convertionParameters.minimum)<<0,I=0.15*this.canvas.width,C=J.axisX.dataInfo.minDiff,F=0.9*(M.width/Math.abs(J.axisX.maximum-J.axisX.minimum)*Math.abs(C)/J.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(M.x1,M.y1,M.width,M.height);this.ctx.clip();this._eventManager.ghostCtx.rect(M.x1,M.y1,M.width,M.height);this._eventManager.ghostCtx.clip();for(var N=0;N<J.dataSeriesIndexes.length;N++){var s=J.dataSeriesIndexes[N],y=this.data[s],E=y.dataPoints;1==E.length&&(F=I);1>F?F=1:F>I&&(F=I);if(0<E.length){var L=5<F&&y.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(C=0;C<E.length;C++){if(B=E[C].x.getTime?E[C].x.getTime():E[C].x,!(B<J.axisX.dataInfo.viewPortMin||B>J.axisX.dataInfo.viewPortMax)&&"number"===typeof E[C].y){M=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(B-J.axisX.convertionParameters.minimum)+0.5<<0;O=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(E[C].y-J.axisY.convertionParameters.minimum)+0.5<<0;var P=M-J.plotType.plotUnits.length*F/2+J.index*F<<0,x=P+F<<0,H;if(0<=E[C].y){var G=K[B]?K[B]:0;O-=G;H=Q-G;K[B]=G+(H-O)}else{G=z[B]?z[B]:0,H=O+G,O=Q+G,z[B]=G+(H-O)}B=E[C].color?E[C].color:y._colorSet[C%y._colorSet.length];t(this.ctx,P,O,x,H,B,L&&0<=E[C].y,0>E[C].y&&L,!1,!1);B=y.dataPointIds[C];this._eventManager.objectMap[B]={objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:C,x1:P,y1:O,x2:x,y2:H};B=aq(B);t(this._eventManager.ghostCtx,P,O,x,H,B,!1,!1,!1,!1);if(E[C].indexLabel||y.indexLabel){this._indexLabels.push({chartType:"stackedColumn",dataPoint:E[C],dataSeries:y,point:{x:M,y:0<=E[C].y?O:H},bounds:{x1:P,y1:Math.min(O,H),x2:x,y2:Math.max(O,H)},color:B})}}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderStackedColumn100=function(J){if(!(0>=J.dataSeriesIndexes.length)){var B=null,M=this.getPlotArea(),K=[],z=[],C=0,O,Q=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(0-J.axisY.convertionParameters.minimum)<<0,I=0.15*this.canvas.width,C=J.axisX.dataInfo.minDiff,F=0.9*(M.width/Math.abs(J.axisX.maximum-J.axisX.minimum)*Math.abs(C)/J.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(M.x1,M.y1,M.width,M.height);this.ctx.clip();this._eventManager.ghostCtx.rect(M.x1,M.y1,M.width,M.height);this._eventManager.ghostCtx.clip();for(var N=0;N<J.dataSeriesIndexes.length;N++){var s=J.dataSeriesIndexes[N],y=this.data[s],E=y.dataPoints;1==E.length&&(F=I);1>F?F=1:F>I&&(F=I);if(0<E.length){for(var L=5<F&&y.bevelEnabled?!0:!1,C=0;C<E.length;C++){if(B=E[C].x.getTime?E[C].x.getTime():E[C].x,!(B<J.axisX.dataInfo.viewPortMin||B>J.axisX.dataInfo.viewPortMax)&&"number"===typeof E[C].y){M=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(B-J.axisX.convertionParameters.minimum)+0.5<<0;O=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*((0!==J.dataPointYSums[B]?100*(E[C].y/J.dataPointYSums[B]):0)-J.axisY.convertionParameters.minimum)+0.5<<0;var P=M-J.plotType.plotUnits.length*F/2+J.index*F<<0,x=P+F<<0,H;if(0<=E[C].y){var G=K[B]?K[B]:0;O-=G;H=Q-G;K[B]=G+(H-O)}else{G=z[B]?z[B]:0,H=O+G,O=Q+G,z[B]=G+(H-O)}B=E[C].color?E[C].color:y._colorSet[C%y._colorSet.length];t(this.ctx,P,O,x,H,B,L&&0<=E[C].y,0>E[C].y&&L,!1,!1);B=y.dataPointIds[C];this._eventManager.objectMap[B]={objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:C,x1:P,y1:O,x2:x,y2:H};B=aq(B);t(this._eventManager.ghostCtx,P,O,x,H,B,!1,!1,!1,!1);if(E[C].indexLabel||y.indexLabel){this._indexLabels.push({chartType:"stackedColumn100",dataPoint:E[C],dataSeries:y,point:{x:M,y:0<=E[C].y?O:H},bounds:{x1:P,y1:Math.min(O,H),x2:x,y2:Math.max(O,H)},color:B})}}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderBar=function(M){if(!(0>=M.dataSeriesIndexes.length)){var B=null,x=this.getPlotArea(),K=0,G,z,s,L=M.axisY.convertionParameters.reference+M.axisY.convertionParameters.pixelPerUnit*(0-M.axisY.convertionParameters.minimum)<<0,I=0.15*this.canvas.height,K=M.axisX.dataInfo.minDiff,N=0.9*(x.height/Math.abs(M.axisX.maximum-M.axisX.minimum)*Math.abs(K)/M.plotType.totalDataSeries)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();this._eventManager.ghostCtx.rect(x.x1,x.y1,x.width,x.height);this._eventManager.ghostCtx.clip();for(x=0;x<M.dataSeriesIndexes.length;x++){var F=M.dataSeriesIndexes[x],H=this.data[F],J=H.dataPoints;1==J.length&&(N=I);1>N?N=1:N>I&&(N=I);if(0<J.length){var C=5<N&&H.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(K=0;K<J.length;K++){if(J[K].getTime?s=J[K].x.getTime():s=J[K].x,!(s<M.axisX.dataInfo.viewPortMin||s>M.axisX.dataInfo.viewPortMax)&&"number"===typeof J[K].y){z=M.axisX.convertionParameters.reference+M.axisX.convertionParameters.pixelPerUnit*(s-M.axisX.convertionParameters.minimum)+0.5<<0;G=M.axisY.convertionParameters.reference+M.axisY.convertionParameters.pixelPerUnit*(J[K].y-M.axisY.convertionParameters.minimum)+0.5<<0;z=z-M.plotType.totalDataSeries*N/2+(M.previousDataSeriesCount+x)*N<<0;var E=z+N<<0,y;0<=J[K].y?y=L:(y=G,G=L);B=J[K].color?J[K].color:H._colorSet[K%H._colorSet.length];t(this.ctx,y,z,G,E,B,C,!1,!1,!1);B=H.dataPointIds[K];this._eventManager.objectMap[B]={objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:K,x1:y,y1:z,x2:G,y2:E};B=aq(B);t(this._eventManager.ghostCtx,y,z,G,E,B,!1,!1,!1,!1);this._indexLabels.push({chartType:"bar",dataPoint:J[K],dataSeries:H,point:{x:0<=J[K].y?G:y,y:z+(E-z)/2},bounds:{x1:Math.min(y,G),y1:z,x2:Math.max(y,G),y2:E},color:B})}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderStackedBar=function(J){if(!(0>=J.dataSeriesIndexes.length)){var B=null,M=this.getPlotArea(),K=[],z=[],C=0,O,Q=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(0-J.axisY.convertionParameters.minimum)<<0,I=0.15*this.canvas.width,C=J.axisX.dataInfo.minDiff,F=0.9*(M.height/Math.abs(J.axisX.maximum-J.axisX.minimum)*Math.abs(C)/J.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(M.x1,M.y1,M.width,M.height);this.ctx.clip();this._eventManager.ghostCtx.rect(M.x1,M.y1,M.width,M.height);this._eventManager.ghostCtx.clip();for(var N=0;N<J.dataSeriesIndexes.length;N++){var s=J.dataSeriesIndexes[N],y=this.data[s],E=y.dataPoints;1==E.length&&(F=I);1>F?F=1:F>I&&(F=I);if(0<E.length){var L=5<F&&y.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(C=0;C<E.length;C++){if(B=E[C].x.getTime?E[C].x.getTime():E[C].x,!(B<J.axisX.dataInfo.viewPortMin||B>J.axisX.dataInfo.viewPortMax)&&"number"===typeof E[C].y){M=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(B-J.axisX.convertionParameters.minimum)+0.5<<0;O=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(E[C].y-J.axisY.convertionParameters.minimum)+0.5<<0;var P=M-J.plotType.plotUnits.length*F/2+J.index*F<<0,x=P+F<<0,H;if(0<=E[C].y){var G=K[B]?K[B]:0;H=Q+G;O+=G;K[B]=G+(O-H)}else{G=z[B]?z[B]:0,H=O-G,O=Q-G,z[B]=G+(O-H)}B=E[C].color?E[C].color:y._colorSet[C%y._colorSet.length];t(this.ctx,H,P,O,x,B,L,!1,!1,!1);B=y.dataPointIds[C];this._eventManager.objectMap[B]={objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:C,x1:H,y1:P,x2:O,y2:x};B=aq(B);t(this._eventManager.ghostCtx,H,P,O,x,B,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar",dataPoint:E[C],dataSeries:y,point:{x:0<=E[C].y?O:H,y:M},bounds:{x1:Math.min(H,O),y1:P,x2:Math.max(H,O),y2:x},color:B})}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderStackedBar100=function(J){if(!(0>=J.dataSeriesIndexes.length)){var B=null,M=this.getPlotArea(),K=[],z=[],C=0,O,Q=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*(0-J.axisY.convertionParameters.minimum)<<0,I=0.15*this.canvas.width,C=J.axisX.dataInfo.minDiff,F=0.9*(M.height/Math.abs(J.axisX.maximum-J.axisX.minimum)*Math.abs(C)/J.plotType.plotUnits.length)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(M.x1,M.y1,M.width,M.height);this.ctx.clip();this._eventManager.ghostCtx.rect(M.x1,M.y1,M.width,M.height);this._eventManager.ghostCtx.clip();for(var N=0;N<J.dataSeriesIndexes.length;N++){var s=J.dataSeriesIndexes[N],y=this.data[s],E=y.dataPoints;1==E.length&&(F=I);1>F?F=1:F>I&&(F=I);if(0<E.length){var L=5<F&&y.bevelEnabled?!0:!1;this.ctx.strokeStyle="#4572A7 ";for(C=0;C<E.length;C++){if(B=E[C].x.getTime?E[C].x.getTime():E[C].x,!(B<J.axisX.dataInfo.viewPortMin||B>J.axisX.dataInfo.viewPortMax)&&"number"===typeof E[C].y){M=J.axisX.convertionParameters.reference+J.axisX.convertionParameters.pixelPerUnit*(B-J.axisX.convertionParameters.minimum)+0.5<<0;O=J.axisY.convertionParameters.reference+J.axisY.convertionParameters.pixelPerUnit*((0!==J.dataPointYSums[B]?100*(E[C].y/J.dataPointYSums[B]):0)-J.axisY.convertionParameters.minimum)+0.5<<0;var P=M-J.plotType.plotUnits.length*F/2+J.index*F<<0,x=P+F<<0,H;if(0<=E[C].y){var G=K[B]?K[B]:0;H=Q+G;O+=G;K[B]=G+(O-H)}else{G=z[B]?z[B]:0,H=O-G,O=Q-G,z[B]=G+(O-H)}B=E[C].color?E[C].color:y._colorSet[C%y._colorSet.length];t(this.ctx,H,P,O,x,B,L,!1,!1,!1);B=y.dataPointIds[C];this._eventManager.objectMap[B]={objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:C,x1:H,y1:P,x2:O,y2:x};B=aq(B);t(this._eventManager.ghostCtx,H,P,O,x,B,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar100",dataPoint:E[C],dataSeries:y,point:{x:0<=E[C].y?O:H,y:M},bounds:{x1:Math.min(H,O),y1:P,x2:Math.max(H,O),y2:x},color:B})}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderArea=function(I){if(!(0>=I.dataSeriesIndexes.length)){var B=this._eventManager.ghostCtx,L=I.axisX.lineCoordinates,J=I.axisY.lineCoordinates,z=[],C=this.getPlotArea();this.ctx.save();B.save();this.ctx.beginPath();this.ctx.rect(C.x1,C.y1,C.width,C.height);this.ctx.clip();B.beginPath();B.rect(C.x1,C.y1,C.width,C.height);B.clip();for(C=0;C<I.dataSeriesIndexes.length;C++){var N=I.dataSeriesIndexes[C],P=this.data[N],H=P.dataPoints,z=P.id;this._eventManager.objectMap[z]={objectType:"dataSeries",dataSeriesIndex:N};z=aq(z);B.fillStyle=z;var z=[],F=!0,M=0,s,y,E=I.axisY.convertionParameters.reference+I.axisY.convertionParameters.pixelPerUnit*(0-I.axisY.convertionParameters.minimum)+0.5<<0,K,O=null;if(0<H.length){color=P._colorSet[M%P._colorSet.length];for(this.ctx.fillStyle=color;M<H.length;M++){if(y=H[M].x.getTime?H[M].x.getTime():H[M].x,!(y<I.axisX.dataInfo.viewPortMin||y>I.axisX.dataInfo.viewPortMax)){if(s=I.axisX.convertionParameters.reference+I.axisX.convertionParameters.pixelPerUnit*(y-I.axisX.convertionParameters.minimum)+0.5<<0,y=I.axisY.convertionParameters.reference+I.axisY.convertionParameters.pixelPerUnit*(H[M].y-I.axisY.convertionParameters.minimum)+0.5<<0,"number"===typeof H[M].y){F?(this.ctx.beginPath(),this.ctx.moveTo(s,y),O={x:s,y:y},B.beginPath(),B.moveTo(s,y),F=!1):(this.ctx.lineTo(s,y),B.lineTo(s,y),0==M%250&&(0>=I.axisY.minimum&&0<=I.axisY.maximum?K=E:0>I.axisY.maximum?K=J.y1:0<I.axisY.minimum&&(K=L.y2),this.ctx.lineTo(s,K),this.ctx.lineTo(O.x,K),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(s,y),B.lineTo(s,K),B.lineTo(O.x,K),B.closePath(),B.fill(),B.beginPath(),B.moveTo(s,y),O={x:s,y:y}));var x=P.dataPointIds[M];this._eventManager.objectMap[x]={objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:M,x1:s,y1:y};if(0!==H[M].markerSize&&(0<H[M].markerSize||0<P.markerSize)){var G=P.getMarkerProperties(M,s,y,this.ctx);z.push(G);markerColor=aq(x);z.push({x:s,y:y,ctx:B,type:G.type,size:G.size,color:markerColor,borderColor:markerColor,borderThickness:G.borderThickness})}(H[M].indexLabel||P.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:H[M],dataSeries:P,point:{x:s,y:y},color:color})}}}0>=I.axisY.minimum&&0<=I.axisY.maximum?K=E:0>I.axisY.maximum?K=J.y1:0<I.axisY.minimum&&(K=L.y2);this.ctx.lineTo(s,K);this.ctx.lineTo(O.x,K);this.ctx.closePath();this.ctx.fill();B.lineTo(s,K);B.lineTo(O.x,K);B.closePath();B.fill();c.drawMarkers(z)}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderSplineArea=function(N){if(!(0>=N.dataSeriesIndexes.length)){var C=this._eventManager.ghostCtx,x=N.axisX.lineCoordinates,L=N.axisY.lineCoordinates,H=[],B=this.getPlotArea();this.ctx.save();C.save();this.ctx.beginPath();this.ctx.rect(B.x1,B.y1,B.width,B.height);this.ctx.clip();C.beginPath();C.rect(B.x1,B.y1,B.width,B.height);C.clip();for(B=0;B<N.dataSeriesIndexes.length;B++){var s=N.dataSeriesIndexes[B],M=this.data[s],J=M.dataPoints,H=M.id;this._eventManager.objectMap[H]={objectType:"dataSeries",dataSeriesIndex:s};H=aq(H);C.fillStyle=H;var H=[],O=0,G,I,K=N.axisY.convertionParameters.reference+N.axisY.convertionParameters.pixelPerUnit*(0-N.axisY.convertionParameters.minimum)+0.5<<0,E,F=null,F=[];if(0<J.length){color=M._colorSet[O%M._colorSet.length];for(this.ctx.fillStyle=color;O<J.length;O++){if(G=J[O].x.getTime?J[O].x.getTime():J[O].x,!(G<N.axisX.dataInfo.viewPortMin||G>N.axisX.dataInfo.viewPortMax)){if(G=N.axisX.convertionParameters.reference+N.axisX.convertionParameters.pixelPerUnit*(G-N.axisX.convertionParameters.minimum)+0.5<<0,I=N.axisY.convertionParameters.reference+N.axisY.convertionParameters.pixelPerUnit*(J[O].y-N.axisY.convertionParameters.minimum)+0.5<<0,"number"===typeof J[O].y){var y=M.dataPointIds[O];this._eventManager.objectMap[y]={objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:O,x1:G,y1:I};F[F.length]={x:G,y:I};if(0!==J[O].markerSize&&(0<J[O].markerSize||0<M.markerSize)){var z=M.getMarkerProperties(O,G,I,this.ctx);H.push(z);markerColor=aq(y);H.push({x:G,y:I,ctx:C,type:z.type,size:z.size,color:markerColor,borderColor:markerColor,borderThickness:z.borderThickness})}(J[O].indexLabel||M.indexLabel)&&this._indexLabels.push({chartType:"splineArea",dataPoint:J[O],dataSeries:M,point:{x:G,y:I},color:color})}}}s=u(F,2);if(0<s.length){this.ctx.beginPath();C.beginPath();this.ctx.moveTo(s[0].x,s[0].y);C.moveTo(s[0].x,s[0].y);for(O=0;O<s.length-3;O+=3){this.ctx.bezierCurveTo(s[O+1].x,s[O+1].y,s[O+2].x,s[O+2].y,s[O+3].x,s[O+3].y),C.bezierCurveTo(s[O+1].x,s[O+1].y,s[O+2].x,s[O+2].y,s[O+3].x,s[O+3].y)}0>=N.axisY.minimum&&0<=N.axisY.maximum?E=K:0>N.axisY.maximum?E=L.y1:0<N.axisY.minimum&&(E=x.y2);F={x:s[0].x,y:s[0].y};this.ctx.lineTo(s[s.length-1].x,E);this.ctx.lineTo(F.x,E);this.ctx.closePath();this.ctx.fill();C.lineTo(s[s.length-1].x,E);C.lineTo(F.x,E);C.closePath();C.fill()}c.drawMarkers(H)}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderStackedArea=function(L){if(!(0>=L.dataSeriesIndexes.length)){var E=null,O=[],M=this.getPlotArea(),C=[],F=[],Q=0,U,K,H,P=L.axisY.convertionParameters.reference+L.axisY.convertionParameters.pixelPerUnit*(0-L.axisY.convertionParameters.minimum)<<0,x=this._eventManager.ghostCtx;x.beginPath();this.ctx.save();x.save();this.ctx.beginPath();this.ctx.rect(M.x1,M.y1,M.width,M.height);this.ctx.clip();x.beginPath();x.rect(M.x1,M.y1,M.width,M.height);x.clip();xValuePresent=[];for(M=0;M<L.dataSeriesIndexes.length;M++){var B=L.dataSeriesIndexes[M],G=this.data[B],N=G.dataPoints;G.dataPointIndexes=[];for(Q=0;Q<N.length;Q++){B=N[Q].x.getTime?N[Q].x.getTime():N[Q].x,G.dataPointIndexes[B]=Q,xValuePresent[B]||(F.push(B),xValuePresent[B]=!0)}F.sort(m)}for(M=0;M<L.dataSeriesIndexes.length;M++){var B=L.dataSeriesIndexes[M],G=this.data[B],N=G.dataPoints,T=!0,z=[],Q=G.id;this._eventManager.objectMap[Q]={objectType:"dataSeries",dataSeriesIndex:B};Q=aq(Q);x.fillStyle=Q;if(0<F.length){E=G._colorSet[0];this.ctx.fillStyle=E;for(Q=0;Q<F.length;Q++){H=F[Q];var J=null,J=0<=G.dataPointIndexes[H]?N[G.dataPointIndexes[H]]:{x:H,y:0};if(!(H<L.axisX.dataInfo.viewPortMin||H>L.axisX.dataInfo.viewPortMax)&&"number"===typeof J.y){U=L.axisX.convertionParameters.reference+L.axisX.convertionParameters.pixelPerUnit*(H-L.axisX.convertionParameters.minimum)+0.5<<0;K=L.axisY.convertionParameters.reference+L.axisY.convertionParameters.pixelPerUnit*(J.y-L.axisY.convertionParameters.minimum)+0.5<<0;var I=C[H]?C[H]:0;K-=I;z.push({x:U,y:P-I});C[H]=P-K;if(T){this.ctx.beginPath(),this.ctx.moveTo(U,K),x.beginPath(),x.moveTo(U,K),T=!1}else{if(this.ctx.lineTo(U,K),x.lineTo(U,K),0==Q%250){for(;0<z.length;){var S=z.pop();this.ctx.lineTo(S.x,S.y);x.lineTo(S.x,S.y)}this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(U,K);x.closePath();x.fill();x.beginPath();x.moveTo(U,K);z.push({x:U,y:P-I})}}if(0<=G.dataPointIndexes[H]){var R=G.dataPointIds[G.dataPointIndexes[H]];this._eventManager.objectMap[R]={objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:G.dataPointIndexes[H],x1:U,y1:K}}if(0<=G.dataPointIndexes[H]&&0!==J.markerSize&&(0<J.markerSize||0<G.markerSize)){H=G.getMarkerProperties(Q,U,K,this.ctx),O.push(H),markerColor=aq(R),O.push({x:U,y:K,ctx:x,type:H.type,size:H.size,color:markerColor,borderColor:markerColor,borderThickness:H.borderThickness})}(J.indexLabel||G.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:J,dataSeries:G,point:{x:U,y:K},color:E})}}for(;0<z.length;){S=z.pop(),this.ctx.lineTo(S.x,S.y),x.lineTo(S.x,S.y)}this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(U,K);x.closePath();x.fill();x.beginPath();x.moveTo(U,K)}delete G.dataPointIndexes}c.drawMarkers(O);this.ctx.restore();x.restore()}};l.prototype.renderStackedArea100=function(M){if(!(0>=M.dataSeriesIndexes.length)){var F=null,Q=this.getPlotArea(),N=[],E=[],G=[],S=0,X,L,I,R=M.axisY.convertionParameters.reference+M.axisY.convertionParameters.pixelPerUnit*(0-M.axisY.convertionParameters.minimum)<<0,z=0.15*this.canvas.width,C=M.axisX.dataInfo.minDiff,C=0.9*Q.width/Math.abs(M.axisX.maximum-M.axisX.minimum)*Math.abs(C)<<0,H=this._eventManager.ghostCtx;this.ctx.save();H.save();this.ctx.beginPath();this.ctx.rect(Q.x1,Q.y1,Q.width,Q.height);this.ctx.clip();H.beginPath();H.rect(Q.x1,Q.y1,Q.width,Q.height);this._eventManager.ghostCtx.clip();xValuePresent=[];for(Q=0;Q<M.dataSeriesIndexes.length;Q++){var P=M.dataSeriesIndexes[Q],V=this.data[P],B=V.dataPoints;V.dataPointIndexes=[];for(S=0;S<B.length;S++){P=B[S].x.getTime?B[S].x.getTime():B[S].x,V.dataPointIndexes[P]=S,xValuePresent[P]||(G.push(P),xValuePresent[P]=!0)}G.sort(m)}for(Q=0;Q<M.dataSeriesIndexes.length;Q++){var P=M.dataSeriesIndexes[Q],V=this.data[P],B=V.dataPoints,K=!0,F=V.id;this._eventManager.objectMap[F]={objectType:"dataSeries",dataSeriesIndex:P};F=aq(F);H.fillStyle=F;1==B.length&&(C=z);1>C?C=1:C>z&&(C=z);var J=[];if(0<G.length){F=V._colorSet[S%V._colorSet.length];this.ctx.fillStyle=F;for(S=0;S<G.length;S++){I=G[S];var U=null,U=0<=V.dataPointIndexes[I]?B[V.dataPointIndexes[I]]:{x:I,y:0};if(!(I<M.axisX.dataInfo.viewPortMin||I>M.axisX.dataInfo.viewPortMax)&&"number"===typeof U.y){L=0!==M.dataPointYSums[I]?100*(U.y/M.dataPointYSums[I]):0;X=M.axisX.convertionParameters.reference+M.axisX.convertionParameters.pixelPerUnit*(I-M.axisX.convertionParameters.minimum)+0.5<<0;L=M.axisY.convertionParameters.reference+M.axisY.convertionParameters.pixelPerUnit*(L-M.axisY.convertionParameters.minimum)+0.5<<0;var T=E[I]?E[I]:0;L-=T;J.push({x:X,y:R-T});E[I]=R-L;if(K){this.ctx.beginPath(),this.ctx.moveTo(X,L),H.beginPath(),H.moveTo(X,L),K=!1}else{if(this.ctx.lineTo(X,L),H.lineTo(X,L),0==S%250){for(;0<J.length;){var W=J.pop();this.ctx.lineTo(W.x,W.y);H.lineTo(W.x,W.y)}this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(X,L);H.closePath();H.fill();H.beginPath();H.moveTo(X,L);J.push({x:X,y:R-T})}}if(0<=V.dataPointIndexes[I]){var O=V.dataPointIds[V.dataPointIndexes[I]];this._eventManager.objectMap[O]={objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:V.dataPointIndexes[I],x1:X,y1:L}}if(0<=V.dataPointIndexes[I]&&0!==U.markerSize&&(0<U.markerSize||0<V.markerSize)){I=V.getMarkerProperties(S,X,L,this.ctx),N.push(I),markerColor=aq(O),N.push({x:X,y:L,ctx:H,type:I.type,size:I.size,color:markerColor,borderColor:markerColor,borderThickness:I.borderThickness})}(U.indexLabel||V.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:U,dataSeries:V,point:{x:X,y:L},color:F})}}for(;0<J.length;){W=J.pop(),this.ctx.lineTo(W.x,W.y),H.lineTo(W.x,W.y)}this.ctx.closePath();this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(X,L);H.closePath();H.fill();H.beginPath();H.moveTo(X,L)}delete V.dataPointIndexes}c.drawMarkers(N);this.ctx.restore();H.restore()}};l.prototype.renderBubble=function(N){var C=N.dataSeriesIndexes.length;if(!(0>=C)){var x=this.getPlotArea(),L=0,H,B,s=0.15*this.canvas.width,L=N.axisX.dataInfo.minDiff,C=0.9*(x.width/Math.abs(N.axisX.maximum-N.axisX.minimum)*Math.abs(L)/C)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();this._eventManager.ghostCtx.rect(x.x1,x.y1,x.width,x.height);this._eventManager.ghostCtx.clip();for(var M=-Infinity,J=Infinity,O=0;O<N.dataSeriesIndexes.length;O++){for(var G=N.dataSeriesIndexes[O],I=this.data[G],K=I.dataPoints,E=0,L=0;L<K.length;L++){if(H=K[L].getTime?H=K[L].x.getTime():H=K[L].x,!(H<N.axisX.dataInfo.viewPortMin||H>N.axisX.dataInfo.viewPortMax)&&"undefined"!==typeof K[L].z){E=K[L].z,E>M&&(M=E),E<J&&(J=E)}}}for(var F=25*Math.PI,x=Math.max(Math.pow(0.25*Math.min(x.height,x.width)/2,2)*Math.PI,F),O=0;O<N.dataSeriesIndexes.length;O++){if(G=N.dataSeriesIndexes[O],I=this.data[G],K=I.dataPoints,1==K.length&&(C=s),1>C?C=1:C>s&&(C=s),0<K.length){this.ctx.strokeStyle="#4572A7 ";for(L=0;L<K.length;L++){if(H=K[L].getTime?H=K[L].x.getTime():H=K[L].x,!(H<N.axisX.dataInfo.viewPortMin||H>N.axisX.dataInfo.viewPortMax)&&"number"===typeof K[L].y){H=N.axisX.convertionParameters.reference+N.axisX.convertionParameters.pixelPerUnit*(H-N.axisX.convertionParameters.minimum)+0.5<<0;B=N.axisY.convertionParameters.reference+N.axisY.convertionParameters.pixelPerUnit*(K[L].y-N.axisY.convertionParameters.minimum)+0.5<<0;var E=K[L].z,y=2*Math.max(Math.sqrt((F+(x-F)/(M-J)*(E-J))/Math.PI)<<0,1),E=I.getMarkerProperties(L,this.ctx);E.size=y;c.drawMarker(H,B,this.ctx,E.type,E.size,E.color,E.borderColor,E.borderThickness);var z=I.dataPointIds[L];this._eventManager.objectMap[z]={objectType:"dataPoint",dataSeriesIndex:G,dataPointIndex:L,x1:H,y1:B,size:y};y=aq(z);c.drawMarker(H,B,this._eventManager.ghostCtx,E.type,E.size,y,y,E.borderThickness)}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};l.prototype.renderScatter=function(K){var z=K.dataSeriesIndexes.length;if(!(0>=z)){var x=this.getPlotArea(),I=0,E,y,s=0.15*this.canvas.width,I=K.axisX.dataInfo.minDiff,z=0.9*(x.width/Math.abs(K.axisX.maximum-K.axisX.minimum)*Math.abs(I)/z)<<0;this.ctx.save();this._eventManager.ghostCtx.save();this.ctx.beginPath();this.ctx.rect(x.x1,x.y1,x.width,x.height);this.ctx.clip();this._eventManager.ghostCtx.rect(x.x1,x.y1,x.width,x.height);this._eventManager.ghostCtx.clip();for(var J=0;J<K.dataSeriesIndexes.length;J++){var G=K.dataSeriesIndexes[J],L=this.data[G],C=L.dataPoints;1==C.length&&(z=s);1>z?z=1:z>s&&(z=s);if(0<C.length){this.ctx.strokeStyle="#4572A7 ";Math.pow(0.3*Math.min(x.height,x.width)/2,2);for(var F=0,H=0,I=0;I<C.length;I++){if(E=C[I].getTime?E=C[I].x.getTime():E=C[I].x,!(E<K.axisX.dataInfo.viewPortMin||E>K.axisX.dataInfo.viewPortMax)&&"number"===typeof C[I].y){E=K.axisX.convertionParameters.reference+K.axisX.convertionParameters.pixelPerUnit*(E-K.axisX.convertionParameters.minimum)+0.5<<0;y=K.axisY.convertionParameters.reference+K.axisY.convertionParameters.pixelPerUnit*(C[I].y-K.axisY.convertionParameters.minimum)+0.5<<0;var B=L.getMarkerProperties(I,E,y,this.ctx);c.drawMarker(B.x,B.y,B.ctx,B.type,B.size,B.color,B.color,B.thickness);Math.sqrt((F-E)*(F-E)+(H-y)*(H-y))<Math.min(B.size,5)||(F=L.dataPointIds[I],this._eventManager.objectMap[F]={objectType:"dataPoint",dataSeriesIndex:G,dataPointIndex:I,x1:E,y1:y},F=aq(F),c.drawMarker(B.x,B.y,this._eventManager.ghostCtx,B.type,B.size,F,F,B.borderThickness),F=E,H=y)}}}}this.ctx.restore();this._eventManager.ghostCtx.restore()}};var ad=function(y,C,x,B,s,z,E){y.save();"pie"===s?(y.beginPath(),y.moveTo(C.x,C.y),y.arc(C.x,C.y,x,z,E,!1),y.fillStyle=B,y.strokeStyle="white",y.lineWidth=2,y.closePath(),y.stroke(),y.fill()):"doughnut"===s&&(y.beginPath(),y.arc(C.x,C.y,x,z,E,!1),y.arc(C.x,C.y,0.6*x,E,z,!0),y.closePath(),y.fillStyle=B,y.strokeStyle="white",y.lineWidth=2,y.stroke(),y.fill());y.restore()};l.prototype.renderPie=function(T){function L(){X.ctx.save();X._eventManager.ghostCtx.save();X.ctx.translate(aw.x,aw.y);X._eventManager.ghostCtx.translate(aw.x,aw.y);X.ctx.clearRect(-P.width/2,-P.height/2,P.width,P.height);var aE=!0===X.animationEnabled?60:1;if(null!=aA&&aA.frame<=aE){aA.isAnimating--;for(var F=R[0],aF=aA.maxAngle+2*Math.PI/aE,aD=!1,E=0;E<Q;E++){var B=M.dataPoints[E].exploded,s=M.dataPoints[E].color?M.dataPoints[E].color:M.color?M.color:av[E%av.length],C=F,x=F=C+2*Math.PI/G*Math.abs(M.dataPoints[E].y);x>aF&&(x=aF);type=M.type;"outside"===M.indexLabelPlacement?(indexLineMinLength=Math.min(P.width,P.height)/14,J=indexLineMinLength<ay?ay-indexLineMinLength:ay-25):"inside"===M.indexLabelPlacement&&(J=(1-aa)*0.5*Math.min(P.width,P.height));var y={x:0,y:0};aD||ad(X.ctx,y,J,s,type,C,x);C=M.dataPointIds[E];X._eventManager.objectMap[C]={objectType:"dataPoint",dataSeriesIndex:0,dataPointIndex:E,center:{x:aw.x,y:aw.y},radius:J,color:s,startAngle:R[E],endAngle:R[E+1],currentlyExploded:!0===M.dataPoints[E].exploded?!0:!1,userSetExploded:B,pastExploded:!1};B=ae(C);X._eventManager.ghostCtx.save();s="rgb("+B[0]+","+B[1]+","+B[2]+")";ad(X._eventManager.ghostCtx,y,J,s,type,R[E],R[E+1]);X._eventManager.ghostCtx.restore();x===aF&&(aD=!0)}aA.maxAngle=aF;aA.frame++;aA.frame<=aE?X.requestAnimFrame.call(window,L):(K(0,aE),X.ctx.restore(),X._eventManager.ghostCtx.restore(),setTimeout(function(){aA.frame=0;aA.isAnimating=20;W()},200))}X.renderCount++;X.ctx.restore();X._eventManager.ghostCtx.restore()}function W(){X.ctx.save();X._eventManager.ghostCtx.save();X.ctx.translate(aw.x,aw.y);X._eventManager.ghostCtx.translate(aw.x,aw.y);if(null!==aA&&20>aA.frame){aA.isAnimating--;X.ctx.fillStyle=X.backgroundColor?X.backgroundColor:"white";X.ctx.clearRect(-P.width/2,-P.height/2,P.width,P.height);for(var aD=0;aD<Q;aD++){var x=M.dataPoints[aD].color?M.dataPoints[aD].color:M.color?M.color:av[aD%av.length],E={x:0,y:0},F=J*aa*Math.cos(O[aD]),B=J*aa*Math.sin(O[aD]),y=M.type,C=M.dataPointIds[aD],s=X._eventManager.objectMap[C].currentlyExploded,z=X._eventManager.objectMap[C].pastExploded;!0===s&&!1===z?(E.x+=F/20*(aA.frame+1),E.y+=B/20*(aA.frame+1),20===aA.frame+1&&(X._eventManager.objectMap[C].pastExploded=!0)):!0===s&&!0===z&&(E.x+=F,E.y+=B);X._eventManager.objectMap[C].center.x=E.x+aw.x;X._eventManager.objectMap[C].center.y=E.y+aw.y;z!==s&&(F={},F.dataSeries=M,F.dataPoint=M.dataPoints[aD],F.index=aD,X._toolTip.highlightObjects([F]));ad(X.ctx,E,J,x,y,R[aD],R[aD+1]);19===aA.frame&&(C=M.dataPointIds[aD],x=ae(C),X._eventManager.ghostCtx.save(),x="rgb("+x[0]+","+x[1]+","+x[2]+")",ad(X._eventManager.ghostCtx,E,J,x,y,R[aD],R[aD+1]),X._eventManager.ghostCtx.restore())}aA.frame++;20>aA.frame&&X.requestAnimFrame.call(window,W)}K(aA.frame,20);X.ctx.restore();X._eventManager.ghostCtx.restore()}function U(){X.ctx.save();X._eventManager.ghostCtx.save();X.ctx.translate(aw.x,aw.y);X._eventManager.ghostCtx.translate(aw.x,aw.y);if(null!==aA&&0<aA.frame){aA.isAnimating--;X.ctx.clearRect(-P.width/2,-P.height/2,P.width,P.height);for(var aD=0;aD<Q;aD++){var s=M.dataPointIds[aD],y=X._eventManager.objectMap[s].currentlyExploded,F=X._eventManager.objectMap[s].pastExploded,C=M.dataPoints[aD].color?M.dataPoints[aD].color:M.color?M.color:av[aD%av.length],z={x:0,y:0},E=M.type,y=X._eventManager.objectMap[s].currentlyExploded,x=J*aa*Math.cos(O[aD]),B=J*aa*Math.sin(O[aD]);!1===y&&!0===F?(z.x+=x/20*aA.frame,z.y+=B/20*aA.frame,1===aA.frame&&(X._eventManager.objectMap[s].pastExploded=!1)):!0===y&&!0===F&&(z.x+=x,z.y+=B);X._eventManager.objectMap[s].center.x=z.x+aw.x;X._eventManager.objectMap[s].center.y=z.y+aw.y;F!==y&&(s={},s.dataSeries=M,s.dataPoint=M.dataPoints[aD],s.index=aD,X._toolTip.highlightObjects([s]));ad(X.ctx,z,J,C,E,R[aD],R[aD+1]);1===aA.frame&&(s=M.dataPointIds[aD],C=ae(s),X._eventManager.ghostCtx.save(),C="rgb("+C[0]+","+C[1]+","+C[2]+")",ad(X._eventManager.ghostCtx,z,J,C,E,R[aD],R[aD+1]),X._eventManager.ghostCtx.restore())}aA.frame--;0<aA.frame&&X.requestAnimFrame.call(window,U)}K(aA.frame,20);X.ctx.restore();X._eventManager.ghostCtx.restore()}function K(aN,aP){for(var aH=0;aH<M.dataPoints.length;aH++){var aO=M.dataPointIds[aH],aG=X.ctx,aJ=N[aH],aD=V[aH],aU=ax[aH],aI=H[aH],aK=X._eventManager.objectMap[aO].currentlyExploded,aX=Z[aH],aR=J,a2=O[aH],a1=M.dataPoints[aH].indexLabelFontColor?M.dataPoints[aH].indexLabelFontColor:M.indexLabelFontColor,aS=M.indexLabelPlacement,aM=M.dataPoints[aH].indexLabelLineColor?M.dataPoints[aH].indexLabelLineColor:M.indexLabelLineColor,a0=M.dataPoints[aH].indexLabelLineThickness?M.dataPoints[aH].indexLabelLineThickness:M.indexLabelLineThickness,aQ=aN,aF=aP,aO=X._eventManager.objectMap[aO].pastExploded,aE=aB[aH],aY=M.dataPoints[aH].indexLabelFontStyle?M.dataPoints[aH].indexLabelFontStyle:M.indexLabelFontStyle,aL=M.dataPoints[aH].indexLabelFontWeight?M.dataPoints[aH].indexLabelFontWeight:M.indexLabelFontWeight,aZ=M.dataPoints[aH].indexLabelFontSize?M.dataPoints[aH].indexLabelFontSize:M.indexLabelFontSize,aT=M.dataPoints[aH].indexLabelFontFamily?M.dataPoints[aH].indexLabelFontFamily:M.indexLabelFontFamily,aW=M.dataPoints[aH].indexLabelBackgroundColor?M.dataPoints[aH].indexLabelBackgroundColor:M.indexLabelBackgroundColor?M.indexLabelBackgroundColor:null,aV=aH;aG.save();aG.lineWidth=a0;aG.font=aY+" "+aL+" "+aZ+"px "+aT;a0="left";0>aJ&&"outside"===aS?a0="right":0<=aJ&&"outside"===aS?a0="left":"inside"===aS&&(a0="center");aG.textAlign=a0;aG.textBaseline="middle";aG.beginPath();aW&&(aG.fillStyle=aW,"outside"===aS?0<=aJ?aG.fillRect(aJ-2.5,aU-2.5,aD-aJ+5,aI-aU+5):aG.fillRect(aJ+2.5,aU-2.5,aD-aJ-5,aI-aU+5):"inside"===aS&&(0<=aJ?aG.fillRect(aJ-aE/2-2.5,aU-2.5,aD-aJ+5,aI-aU+5):aG.fillRect(aJ+aE/2+2.5,aU-2.5,aD-aJ-5,aI-aU+5)));aG.fillStyle=a1;aG.fillText(aX,aJ,(aU+aI)/2);"outside"===aS&&aB[aV]&&(aD=aR*Math.cos(a2),aX=aR*Math.sin(a2),!0===aK&&!0!==aO?(aD+=aR*aa*Math.cos(a2)/aF*aQ,aX+=aR*aa*Math.sin(a2)/aF*aQ):!0===aK&&!0===aO?(aD+=aR*aa*Math.cos(a2),aX+=aR*aa*Math.sin(a2)):!0!==aK&&!0===aO&&(aD+=aR*aa*Math.cos(a2)/aF*aQ,aX+=aR*aa*Math.sin(a2)/aF*aQ),aG.moveTo(aD,aX),0<aJ?(aG.lineTo(aJ-10,(aU+aI)/2),aG.lineTo(aJ-2,(aU+aI)/2)):0>aJ&&(aG.lineTo(aJ+10,(aU+aI)/2),aG.lineTo(aJ+2,(aU+aI)/2)),aG.strokeStyle=aM,aG.stroke());aG.restore()}}if(!(0>=T.dataSeriesIndexes.length)){var M=this.data[T.dataSeriesIndexes[0]],aa=0.07;ctx=this.ctx;var aB=[],R=[],O=[],Z=[],G=0,J=0,N=[],V=[],ax=[],H=[],Q=M.dataPoints.length,P=this.getPlotArea();P.width=P.x2-P.x1;P.height=P.y2-P.y1;var aw={x:(P.x2+P.x1)/2,y:(P.y2+P.y1)/2};T=M.startAngle?M.startAngle:0;T=(T%360+360)%360*Math.PI/180;R.push(T);var av=this._selectedColorSet,ay=0.5*Math.min(P.width,P.height);for(T=0;T<Q;T++){var aC=M.dataPoints[T].indexLabel?M.dataPoints[T].indexLabel:M.indexLabel?M.indexLabel:M.dataPoints[T].label?M.dataPoints[T].label:M.label?M.label:"",aC=this.replaceKeywordsWithValue(aC,M.dataPoints[T],M,T);Z.push(aC);var aC=M.dataPoints[T].indexLabelFontStyle?M.dataPoints[T].indexLabelFontStyle:M.indexLabelFontStyle,au=M.dataPoints[T].indexLabelFontWeight?M.dataPoints[T].indexLabelFontWeight:M.indexLabelFontWeight,az=M.dataPoints[T].indexLabelFontSize?M.dataPoints[T].indexLabelFontSize:M.indexLabelFontSize,S=M.dataPoints[T].indexLabelFontFamily?M.dataPoints[T].indexLabelFontFamily:M.indexLabelFontFamily;ctx.save();ctx.font=aC+" "+au+" "+az+"px "+S;aC=ctx.measureText(Z[T]).width;ctx.restore();aB.push(aC);G+=Math.abs(M.dataPoints[T].y)}for(T=aC=0;T<Q;T++){au=Math.abs(M.dataPoints[T].y),au=2*Math.PI*(au/G),R.push(R[T]+au),au=au/2+R[T],O.push(au%(2*Math.PI)),aC+=aB[T]}0===aC&&(M.indexLabelPlacement="inside");aC=0;if("inside"===M.indexLabelPlacement){ay*=0.8*(1-aa);for(T=0;T<Q;T++){az=ay*Math.cos(O[T]),S=ay*Math.sin(O[T]),N.push(az),0<az?V.push(N[T]+aB[T]):V.push(N[T]-aB[T]),ax.push(S-M.indexLabelFontSize/2),H.push(S+M.indexLabelFontSize/2)}}else{if("outside"===M.indexLabelPlacement){for(au=0;3>au;au++){for(T=0;T<Q;T++){az=ay*Math.cos(O[T]),S=ay*Math.sin(O[T]),N.push(az),0<az?V.push(N[T]+aB[T]):V.push(N[T]-aB[T]),ax.push(S-M.indexLabelFontSize/2),H.push(S+M.indexLabelFontSize/2)}for(T=0;T<Q;T++){O[T]<Math.PI/2&&(1<=T&&ax[T]<H[T-1])&&(az=H[T-1]-ax[T],ax[T]+=az+2,H[T]+=az+2,20>Q&&(ax[T]+=3,H[T]+=3)),O[T]<3*Math.PI/2&&O[T]>=Math.PI&&H[T]>ax[T-1]&&(az=H[T]-ax[T-1],ax[T]-=az+2,H[T]-=az+2,20>Q&&(ax[T]-=3,H[T]-=3))}for(T=Q;0<=T;T--){O[T]<Math.PI&&O[T]>=Math.PI/2&&ax[T]<H[T+1]&&(az=H[T+1]-ax[T],ax[T]+=az+2,H[T]+=az+2,20>Q&&(ax[T]+=3,H[T]+=3)),O[T]>=3*Math.PI/2&&H[T]>ax[T+1]&&(az=H[T]-ax[T+1],ax[T]-=az,H[T]-=az,20>Q&&(ax[T]+=-3,H[T]+=-3))}if(2>aC){T=Math.min.apply(Math,ax.concat(H));var az=Math.max.apply(Math,ax.concat(H)),S=Math.max.apply(Math,V.concat(N)),I=Math.min.apply(Math,V.concat(N)),Y=[];Math.abs(T)>P.height/2&&Y.push(Math.abs(T)-P.height/2);Math.abs(az)>P.height/2&&Y.push(Math.abs(az)-P.height/2);Math.abs(S)>P.width/2&&Y.push(Math.abs(S)-P.width/2);Math.abs(I)>P.width/2&&Y.push(Math.abs(I)-P.width/2);N=[];V=[];ax=[];H=[];Y.length&&(ay-=Math.max.apply(Math,Y)+M.indexLabelFontSize/2+2,40>ay&&(ay=40));aC++}}}}var X=this,aA={frame:0,maxAngle:R[0],count:0};0!==X.renderCount&&(this.animationEnabled=!1);aA.isAnimating=60;L();this.pieDoughnutClickHandler=function(s){if(0===aA.isAnimating){s=s.dataPointIndex;var x=M.dataPointIds[s];!0===X._eventManager.objectMap[x].currentlyExploded?(!0===X._eventManager.objectMap[x].userSetExploded&&(M.dataPoints[s].exploded=!1),X._eventManager.objectMap[x].currentlyExploded=!1,aA.frame=20,aA.isAnimating=20,U()):!1===X._eventManager.objectMap[x].currentlyExploded&&(!0===X._eventManager.objectMap[x].userSetExploded&&(M.dataPoints[s].exploded=!0),X._eventManager.objectMap[x].currentlyExploded=!0,aA.isAnimating=20,aA.frame=0,W())}}}};l.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(s){window.setTimeout(s,1000/60)};at.prototype.registerSpace=function(s,x){"top"===s?this._topOccupied+=x.height:"bottom"===s?this._bottomOccupied+=x.height:"left"===s?this._leftOccupied+=x.width:"right"===s&&(this._rightOccupied+=x.width)};at.prototype.unRegisterSpace=function(s,x){"top"===s?this._topOccupied-=x.height:"bottom"===s?this._bottomOccupied-=x.height:"left"===s?this._leftOccupied-=x.width:"right"===s&&(this._rightOccupied-=x.width)};at.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.canvas.width-this._rightOccupied,y2:this.canvas.height-this._bottomOccupied,width:this.canvas.width-this._rightOccupied-this._leftOccupied,height:this.canvas.height-this._bottomOccupied-this._topOccupied}};at.prototype.reset=function(){this._topOccupied=0;this._bottomOccupied=3;this._rightOccupied=this._leftOccupied=0};g(af,o);af.prototype.render=function(y){y&&this.ctx.save();var C=this.ctx.font;this.ctx.textBaseline=this.textBaseline;this._isDirty&&this.measureText(this.ctx);this.ctx.translate(this.x,this.y);this.ctx.font=this._getFontString();this.ctx.rotate(Math.PI/180*this.angle);var x=0,B=this.padding,s=null;if(0<this.borderThickness&&this.borderColor||this.backgroundColor){this.ctx.roundRect(0,0,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),"middle"===this.textBaseline&&(B+=this.fontSize/2)}this.ctx.fillStyle=this.fontColor;for(var z=0;z<this._wrappedText.lines.length;z++){s=this._wrappedText.lines[z],"right"===this.horizontalAlign?x=this.width-s.width-this.padding:"left"===this.horizontalAlign?x=this.padding:"center"===this.horizontalAlign&&(x=(this.width-2*this.padding)/2-s.width/2+this.padding),this.ctx.fillText(s.text,x,B),B+=s.height}this.ctx.font=C;y&&this.ctx.restore()};af.prototype.setText=function(s){this.text=s;this._isDirty=!0;this._wrappedText=null};af.prototype.measureText=function(){if(null===this.maxWidth){throw"Please set maxWidth and height for TextBlock"}this._wrapText(this.ctx);this._isDirty=!1;return{width:this.width,height:this.height}};af.prototype._wrapText=function(){text=new String(w(this.text));var G=[],z=this.ctx.font,x=0,E=0;for(this.ctx.font=this._getFontString();0<text.length;){for(var B=text,y=0,s=0,F=this.maxWidth-2*this.padding,C=this.maxHeight-2*this.padding;;){if(y=this.ctx.measureText(B).width,s=0,y>F){s=B.length/y*F,y=Math.max(Math.min(Math.ceil(s),B.length-1),0),s=B.lastIndexOf(" ",y,B.length-1),B=0<=s?w(text.slice(0,s)):w(text.slice(0,y-1))}else{G.push({text:B,width:y,height:this.fontSize});E=Math.max(E,y);x+=this.fontSize;text=w(text.slice(B.length,text.length));break}}if(C&&x>C-this.fontSize&&0<text.length){B=G.pop();Math.min(B.text.length,3);G.push(B);break}}this._wrappedText={lines:G,width:E,height:x};this.width=E+2*this.padding;this.height=x+2*this.padding;this.ctx.font=z};af.prototype._getFontString=function(){return this.fontStyle+" "+this.fontWeight+" "+this.fontSize+"px "+this.fontFamily};g(b,o);b.prototype.render=function(){if(this.text){var G=this.chart.layoutManager.getFreeSpace(),z=0,x=0,E=0,B=0,y=0,s,F;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(B=G.width-2*this.margin,y=0.5*G.height-2*this.margin,E=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(B=G.height-2*this.margin,y=0.5*G.width-2*this.margin):"center"===this.horizontalAlign&&(B=G.width-2*this.margin,y=0.5*G.height-2*this.margin));var y=new af(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:B,maxHeight:y,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:this.borderColor&&0<this.borderThickness?"middle":"top"}),C=y.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(x=this.margin,F="top"):"bottom"===this.verticalAlign&&(x=G.y2-this.margin-C.height,F="bottom"),"left"===this.horizontalAlign?z=G.x1+this.margin:"center"===this.horizontalAlign?z=G.x1+(B/2-C.width/2)+this.margin:"right"===this.horizontalAlign&&(z=G.x2-this.margin-C.width),s=this.horizontalAlign,this.width=C.width,this.height=C.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(z=G.x1+this.margin,x=G.y2-this.margin-(B/2-C.width/2),E=-90,F="left",this.width=C.height,this.height=C.width):"right"===this.horizontalAlign?(z=G.x2-this.margin,x=G.y1+this.margin+(B/2-C.width/2),E=90,F="right",this.width=C.height,this.height=C.width):"center"===this.horizontalAlign&&(x=G.y1+(G.height/2-C.height/2),z=G.x1+(G.width/2-C.width/2),F="center",this.width=C.width,this.height=C.height),s="center");y.x=z;y.y=x;y.angle=E;y.horizontalAlign=s;y.render(!0);this.chart.layoutManager.registerSpace(F,{width:this.width+2*this.margin,height:this.height+2*this.margin});this.bounds={x1:z,y1:x,x2:z+this.width,y2:x+this.height};this.ctx.textBaseline="top"}};g(n,o);n.prototype.render=function(){var M=this.chart.layoutManager.getFreeSpace(),B=null,x=0,K=0,G=0,z=0,s=[],L=[];"undefined"===typeof this._options.fontSize&&(this.fontSize=fontSize=this.chart.getAutoFontSize(this.fontSize));"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",B=this.verticalAlign,G=0.9*M.width,z=0.5*M.height):"center"===this.verticalAlign&&(this.orientation="vertical",B=this.horizontalAlign,G=0.5*M.width,z=0.9*M.height);for(var I=0;I<this.dataSeries.length;I++){var N=this.dataSeries[I],F=N.legendMarkerType?N.legendMarkerType:("line"===N.type||"stepLine"===N.type||"spline"===N.type||"scatter"===N.type||"bubble"===N.type)&&N.markerType?N.markerType:A.getDefaultLegendMarker(N.type),H=N.legendText?N.legendText:N.name,J=N.legendMarkerColor?N.legendMarkerColor:N.markerColor?N.markerColor:N._colorSet[0],C=!N.markerSize&&("line"===N.type||"stepLine"===N.type||"spline"===N.type)?0:0.7*this.fontSize;if("pie"!==N.type&&"doughnut"!==N.type){F={markerType:F,markerColor:J,text:H,textBlock:null,chartType:N.type,markerSize:C,lineColor:N._colorSet[0]},s.push(F)}else{for(var E=0;E<N.dataPoints.length;E++){C=N.dataPoints[E],F=C.legendMarkerType?C.legendMarkerType:N.legendMarkerType?N.legendMarkerType:A.getDefaultLegendMarker(N.type),H=C.legendText?C.legendText:N.legendText?N.legendText:C.name?C.name:"DataPoint: "+(E+1),J=C.markerColor?C.markerColor:N.markerColor?N.markerColor:C.color?C.color:N.color?N.color:N._colorSet[E%N._colorSet.length],C=(0===C.markerSize||0===N.markerSize&&!C.markerSize)&&("line"===N.type||"stepLine"===N.type||"spline"===N.type)?0:0.7*this.fontSize,F={markerType:F,markerColor:J,text:H,textBlock:null,chartType:N.type,markerSize:C},s.push(F)}}}if(0<s.length){N=null;for(I=E=0;I<s.length;I++){F=s[I];if("horizontal"===this.orientation){if(F.textBlock=new af(this.ctx,{x:0,y:0,maxWidth:G,maxHeight:this.fontSize,angle:0,text:F.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),F.textBlock.measureText(),!N||N.width+F.textBlock.width+(0===N.width?0:this.horizontalSpacing)>G){N={entries:[],width:0},L.push(N),this.height=L.length*(this.fontSize+5)}}else{this.height+this.fontSize<z?(N={entries:[],width:0},L.push(N),this.height=L.length*this.fontSize):(N=L[E],E=(E+1)%L.length),F.textBlock=new af(this.ctx,{x:0,y:0,maxWidth:G,maxHeight:this.fontSize,angle:0,text:F.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),F.textBlock.measureText()}F.textBlock.x=N.width+(0===N.width?0:this.horizontalSpacing);F.textBlock.y=0;N.width+=F.textBlock.width+(this.fontSize+5)+(0===N.width?0:this.horizontalSpacing);N.entries.push(F);this.width=Math.max(N.width,this.width)}this.height=L.length*this.fontSize}"top"===this.verticalAlign?(K="left"===this.horizontalAlign?M.x1+2:"right"===this.horizontalAlign?M.x2-this.width-2:M.x1+M.width/2-this.width/2,x=M.y1):"center"===this.verticalAlign?(K="left"===this.horizontalAlign?M.x1+2:"right"===this.horizontalAlign?M.x2-this.width-2:M.x1+M.width/2-this.width/2,x=M.y1+M.height/2-this.height/2):"bottom"===this.verticalAlign&&(K="left"===this.horizontalAlign?M.x1+2:"right"===this.horizontalAlign?M.x2-this.width-2:M.x1+M.width/2-this.width/2,x=M.y2-this.height-5);for(I=0;I<L.length;I++){var N=L[I],y;for(y in N.entries){F=N.entries[y];M=F.textBlock.x+K;G=x+I*this.fontSize;if("line"===F.chartType||"stepLine"===F.chartType||"spline"===F.chartType){this.ctx.strokeStyle=F.lineColor,this.ctx.lineWidth=Math.ceil(this.fontSize/8),this.ctx.beginPath(),this.ctx.moveTo(M-2,G+this.fontSize/2),this.ctx.lineTo(M+2+this.fontSize,G+this.fontSize/2),this.ctx.stroke()}c.drawMarker(M+this.fontSize/2,G+this.fontSize/2,this.ctx,F.markerType,C,F.markerColor,null,0);F.textBlock.x=M+this.fontSize+5;F.textBlock.y=G;F.textBlock.render(!0)}}this.chart.layoutManager.registerSpace(B,{width:this.width,height:this.height+5+5});this.bounds={x1:K,y1:x,x2:K+this.width,y2:x+this.height}};g(q,o);q.prototype.render=function(){var s=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red";this.ctx.fillRect(s.x1,s.y1,s.x2,s.y2)};g(A,o);A.prototype.getDefaultAxisPlacement=function(){type=this.type;if("column"===type||"line"===type||"stepLine"===type||"spline"===type||"area"===type||"splineArea"===type||"stackedColumn"===type||"stackedLine"===type||"bubble"===type||"scatter"===type||"stackedArea"===type||"stackedColumn100"===type||"stackedLine100"===type||"stackedArea100"===type){return"normal"}if("bar"===type||"stackedBar"===type||"stackedBar100"===type){return"xySwapped"}if("pie"===type||"doughnut"===type){return"none"}window.console.log("Unknown Chart Type: "+type);return null};A.getDefaultLegendMarker=function(s){if("column"===s||"stackedColumn"===s||"stackedLine"===s||"bar"===s||"stackedBar"===s||"stackedBar100"===s||"bubble"===s||"scatter"===s||"stackedColumn100"===s||"stackedLine100"===s){return"square"}if("line"===s||"stepLine"===s||"spline"===s||"pie"===s||"doughnut"===s){return"circle"}if("area"===s||"splineArea"===s||"stackedArea"===s||"stackedArea100"===s){return"triangle"}window.console.log("Unknown Chart Type: "+s);return null};A.prototype.findDataPointByX=function(G,z){for(var x=0,E=this.dataPoints.length,B,y={dataPoint:null,distance:Infinity,index:NaN},s=0,F=null;x<E;){s++;B=(x+E)/2<<0;var F=this.dataPoints[B],C=Math.abs(F.x-G);C<y.distance&&(y.dataPoint=F,y.distance=C,y.index=B);if(F.x<G){x=B+1}else{if(F.x>G){E=B}else{y.dataPoint=F;y.distance=C;y.index=B;break}}}return !z&&y.dataPoint.x===G?y:z&&null!==y.dataPoint?y:null};A.prototype.getMarkerProperties=function(y,C,x,B){var s=this.dataPoints,z=s[y].markerColor?s[y].markerColor:this.markerColor?this.markerColor:s[y].color?s[y].color:this.color?this.color:this._colorSet[y%this._colorSet.length];return{x:C,y:x,ctx:B,type:s[y].markerType?s[y].markerType:this.markerType,size:s[y].markerSize?s[y].markerSize:this.markerSize,color:z,borderColor:s[y].markerBorderColor?s[y].markerBorderColor:this.markerBorderColor?this.markerBorderColor:z,borderThickness:s[y].markerBorderThickness?s[y].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:1}};g(ao,o);ao.prototype.createLabels=function(){var y,B=0,x;if("axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType){x=r(new Date(this.maximum),this.interval,this.intervalType);for(B=this.intervalStartPosition;B<x;r(B,this.interval,this.intervalType)){y="axisX"===this.type&&this.labels[B]?this.labels[B]:ar(B,this.valueFormatString,this.chart._cultureInfo),y=new af(this.ctx,{x:0,y:0,maxWidth:this.maxHeight,maxHeight:this.labelFontSize,angle:this.labelAngle,text:this.prefix+y+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:B.getTime(),textBlock:y,effectiveHeight:null})}}else{x=this.maximum;if(this.labels&&this.labels.length){y=Math.ceil(this.interval);for(var z=Math.ceil(this.intervalStartPosition),s=!1,B=z;B<this.maximum;B+=y){if(this.labels[B]){s=!0}else{s=!1;break}}s&&(this.interval=y,this.intervalStartPosition=z)}for(B=this.intervalStartPosition;B<=x;B+=this.interval){y="axisX"===this.type&&this.labels[B]?this.labels[B]:ai(B,this.valueFormatString,this.chart._cultureInfo),y=new af(this.ctx,{x:0,y:0,maxWidth:this.maxHeight,maxHeight:this.labelFontSize,angle:this.labelAngle,text:this.prefix+y+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:B,textBlock:y,effectiveHeight:null})}}};ao.prototype.createLabelsAndCalculateWidth=function(){var s=0;this._labels=[];if("left"===this._position||"right"===this._position){this.createLabels();for(i=0;i<this._labels.length;i++){textBlock=this._labels[i].textBlock;var x=textBlock.measureText();labelEffectiveWidth=0===this.labelAngle?x.width:x.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+x.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));s<labelEffectiveWidth&&(s=labelEffectiveWidth);this._labels[i].effectiveWidth=labelEffectiveWidth}}return(this.title?this.titleFontSize+5:0)+s+this.tickLength+10};ao.prototype.createLabelsAndCalculateHeight=function(){var x=0;this._labels=[];var z,s=0;this.createLabels();if("bottom"===this._position||"top"===this._position){for(s=0;s<this._labels.length;s++){z=this._labels[s].textBlock;z=z.measureText();var y=0,y=0===this.labelAngle?z.height:z.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+z.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));x<y&&(x=y);this._labels[s].effectiveHeight=y}}return(this.title?this.titleFontSize+5:0)+x+this.tickLength};ao.setLayoutAndRender=function(O,C,y,M,H){var B,x,N,J=O.chart.ctx;O.calculateAxisParameters();C&&C.calculateAxisParameters();y&&y.calculateAxisParameters();if(C&&y&&"undefined"===typeof C._options.maximum&&"undefined"===typeof C._options.minimum&&"undefined"===typeof C._options.interval&&"undefined"===typeof y._options.maximum&&"undefined"===typeof y._options.minimum&&"undefined"===typeof y._options.interval){var P=(C.maximum-C.minimum)/C.interval,G=(y.maximum-y.minimum)/y.interval;P>G?y.maximum=y.interval*P+y.minimum:G>P&&(C.maximum=C.interval*G+C.minimum)}var I=C?C.lineThickness?C.lineThickness:0:0,L=y?y.lineThickness?y.lineThickness:0:0,P=C?C.gridThickness?C.gridThickness:0:0,G=y?y.gridThickness?y.gridThickness:0:0,E=C?C.margin:0;if("normal"===M){var I=C?C.createLabelsAndCalculateWidth():0,L=y?y.createLabelsAndCalculateWidth():0,F=O.createLabelsAndCalculateHeight();M=H.x1+I+E;B=H.y2-F-O.margin;x=H.x2-L>O.chart.canvas.width-10?O.chart.canvas.width-10:H.x2-L;N=H.y2-O.margin;O.lineCoordinates={x1:M,y1:B,x2:x,y2:B,width:Math.abs(x-M)};O.boundingRect={x1:M,y1:B,x2:x,y2:N,width:x-M,height:N-B};C&&(M=H.x1+C.margin,B=10>H.y1?10:H.y1,x=H.x1+I+C.margin,N=H.y2-F-O.margin,C.lineCoordinates={x1:x,y1:B,x2:x,y2:N,height:Math.abs(N-B)},C.boundingRect={x1:M,y1:B,x2:x,y2:N,width:x-M,height:N-B});y&&(M=O.lineCoordinates.x2,B=10>H.y1?10:H.y1,x=M+L+y.margin,N=H.y2-F-O.margin,y.lineCoordinates={x1:M,y1:B,x2:M,y2:N,height:Math.abs(N-B)},y.boundingRect={x1:M,y1:B,x2:x,y2:N,width:x-M,height:N-B});J.save();J.rect(O.boundingRect.x1-40,O.boundingRect.y1,O.boundingRect.width+80,O.boundingRect.height);J.clip();O.renderLabelsTicksAndTitle();J.restore();C&&C.renderLabelsTicksAndTitle();y&&y.renderLabelsTicksAndTitle();H=O.chart.getPlotArea();J.save();J.rect(H.x1,H.y1-Math.max(G,P)/2,Math.abs(H.x2-H.x1),Math.abs(H.y2-H.y1+Math.max(G,P)/2+Math.max(G,P,O.lineThickness)/2))}else{var F=C?C.createLabelsAndCalculateHeight():0,z=y?y.createLabelsAndCalculateHeight():0,K=O.createLabelsAndCalculateWidth();C&&(M=H.x1+K+O.margin+O.lineThickness/2,B=H.y2-F-C.margin,x=H.x2>C.chart.canvas.width-10?C.chart.canvas.width-10:H.x2,N=H.y2-C.margin,C.lineCoordinates={x1:M,y1:B,x2:x,y2:B,width:Math.abs(x-M)},C.boundingRect={x1:M,y1:B,x2:x,y2:N,width:x-M,height:F});y&&(M=H.x1+K+O.margin+O.lineThickness/2,B=H.y1+y.margin,x=H.x2>y.chart.canvas.width-10?y.chart.canvas.width-10:H.x2,N=H.y1+y.margin+z,y.lineCoordinates={x1:M,y1:N,x2:x,y2:N,width:Math.abs(x-M)},y.boundingRect={x1:M,y1:B,x2:x,y2:N,width:x-M,height:z});M=H.x1+O.margin;B=10>H.y1+z+L/2?10:H.y1+z+L/2;x=H.x1+K+O.margin;N=H.y2-F-E-I/2;O.lineCoordinates={x1:x,y1:B,x2:x,y2:N,height:Math.abs(N-B)};O.boundingRect={x1:M,y1:B,x2:x,y2:N,width:x-M,height:N-B};J.save();C&&C.renderLabelsTicksAndTitle();y&&y.renderLabelsTicksAndTitle();O.renderLabelsTicksAndTitle();H=O.chart.getPlotArea();J.save();J.rect(H.x1-Math.max(O.lineThickness,P,G)/2,H.y1,Math.abs(H.x2-H.x1+Math.max(O.lineThickness,P,G)/2+Math.max(P,G)/2),Math.abs(H.y2-H.y1))}J.clip();O.calculateValueToPixelConvertionParameters();C&&C.calculateValueToPixelConvertionParameters();y&&y.calculateValueToPixelConvertionParameters();O.renderInterlacedColors();C&&C.renderInterlacedColors();y&&y.renderInterlacedColors();J.restore();O.renderGrid();C&&C.renderGrid();y&&y.renderGrid();O.renderAxisLine();C&&C.renderAxisLine();y&&y.renderAxisLine()};ao.prototype.renderLabelsTicksAndTitle=function(){var y=!1,C=0,x=0.9,B=0;0!==this.labelAngle&&360!==this.labelAngle&&(x=1.2);if("bottom"===this._position||"top"===this._position){for(s=0;s<this._labels.length;s++){z=this._labels[s],z.position<this.minimum||(z=z.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+z.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),C+=z)}C>this.lineCoordinates.width*x&&(y=!0)}if("left"===this._position||"right"===this._position){for(s=0;s<this._labels.length;s++){z=this._labels[s],z.position<this.minimum||(z=z.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+z.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),C+=z)}C>this.lineCoordinates.height*x&&(y=!0)}if("bottom"===this._position){var s=0;this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(var z,s=0;s<this._labels.length;s++){z=this._labels[s],z.position<this.minimum||z.position>this.maximum||(C=this.getPixelCoordinatesOnAxis(z.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(C.x<<0,C.y<<0),this.ctx.lineTo(C.x<<0,C.y+this.tickLength<<0),this.ctx.stroke()),y&&0!==B++%2||(0===z.textBlock.angle?(C.x-=z.textBlock.width/2,C.y+=this.tickLength+z.textBlock.height/2):(C.x-=0>this.labelAngle?z.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,C.y+=this.tickLength+Math.abs(0>this.labelAngle?z.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)),z.textBlock.x=C.x,z.textBlock.y=C.y,z.textBlock.render(!0)))}this.title&&(this._titleTextBlock=new af(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else{if("top"===this._position){this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(s=0;s<this._labels.length;s++){z=this._labels[s],z.position<this.minimum||z.position>this.maximum||(C=this.getPixelCoordinatesOnAxis(z.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(C.x<<0,C.y<<0),this.ctx.lineTo(C.x<<0,C.y-this.tickLength<<0),this.ctx.stroke()),y&&0!==B++%2||(0===z.textBlock.angle?(C.x-=z.textBlock.width/2,C.y-=this.tickLength+z.textBlock.height/2):(C.x-=0<this.labelAngle?z.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,C.y-=this.tickLength+Math.abs(0<this.labelAngle?z.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),z.textBlock.x=C.x,z.textBlock.y=C.y,z.textBlock.render(!0)))}this.title&&(this._titleTextBlock=new af(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else{if("left"===this._position){this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(s=0;s<this._labels.length;s++){z=this._labels[s],z.position<this.minimum||z.position>this.maximum||(C=this.getPixelCoordinatesOnAxis(z.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(C.x<<0,C.y<<0),this.ctx.lineTo(C.x-this.tickLength<<0,C.y<<0),this.ctx.stroke()),y&&0!==B++%2||(z.textBlock.x=C.x-z.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,z.textBlock.y=C.y-z.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),z.textBlock.render(!0)))}this.title&&(this._titleTextBlock=new af(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else{if("right"===this._position){this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor;for(s=0;s<this._labels.length;s++){z=this._labels[s],z.position<this.minimum||z.position>this.maximum||(C=this.getPixelCoordinatesOnAxis(z.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(C.x<<0,C.y<<0),this.ctx.lineTo(C.x+this.tickLength<<0,C.y<<0),this.ctx.stroke()),y&&0!==B++%2||(z.textBlock.x=C.x+this.tickLength+5,z.textBlock.y=C.y,z.textBlock.render(!0)))}this.title&&(this._titleTextBlock=new af(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}}}}};ao.prototype.renderInterlacedColors=function(){var x,z,s=this.chart.getPlotArea();if(("bottom"===this._position||"top"===this._position)&&this.interlacedColor){var y=0;this.ctx.fillStyle=this.interlacedColor;for(y=0;y<this._labels.length;y+=2){x=this.getPixelCoordinatesOnAxis(this._labels[y].position),z=y+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[y+1].position),this.ctx.fillRect(x.x,s.y1,Math.abs(z.x-x.x),Math.abs(s.y1-s.y2))}}else{if(("left"===this._position||"right"===this._position)&&this.interlacedColor){this.ctx.fillStyle=this.interlacedColor;for(y=0;y<this._labels.length;y+=2){z=this.getPixelCoordinatesOnAxis(this._labels[y].position),x=y+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[y+1].position),this.ctx.fillRect(s.x1,x.y,Math.abs(s.x1-s.x2),Math.abs(x.y-z.y))}}}};ao.prototype.renderGrid=function(){var x,y=this.chart.getPlotArea();if("bottom"===this._position||"top"===this._position){if(this.gridThickness&&0<this.gridThickness){this.ctx.lineWidth=this.gridThickness;this.ctx.strokeStyle=this.gridColor;this.ctx.beginPath();for(s=0;s<this._labels.length;s++){this._labels[s].position<this.minimum||this._labels[s].position>this.maximum||(x=this.getPixelCoordinatesOnAxis(this._labels[s].position),this.ctx.moveTo(x.x<<0,y.y1<<0),this.ctx.lineTo(x.x<<0,y.y2<<0),this.ctx.stroke())}}}else{if(("left"===this._position||"right"===this._position)&&this.gridThickness&&0<this.gridThickness){this.ctx.lineWidth=this.gridThickness;this.ctx.strokeStyle=this.gridColor;this.ctx.beginPath();for(var s=0;s<this._labels.length;s++){this._labels[s].position<this.minimum||this._labels[s].position>this.maximum||(x=this.getPixelCoordinatesOnAxis(this._labels[s].position),this.ctx.moveTo(y.x1<<0,x.y<<0),this.ctx.lineTo(y.x2<<0,x.y<<0),this.ctx.stroke())}}}};ao.prototype.renderAxisLine=function(){if("bottom"===this._position||"top"===this._position){this.lineThickness&&(this.ctx.lineWidth=this.lineThickness,this.ctx.strokeStyle=this.lineColor?this.lineColor:"black",this.ctx.beginPath(),this.ctx.moveTo(this.lineCoordinates.x1,this.lineCoordinates.y1),this.ctx.lineTo(this.lineCoordinates.x2,this.lineCoordinates.y2),this.ctx.stroke())}else{if(("left"===this._position||"right"===this._position)&&this.lineThickness){this.ctx.lineWidth=this.lineThickness,this.ctx.strokeStyle=this.lineColor,this.ctx.beginPath(),this.ctx.moveTo(this.lineCoordinates.x1,this.lineCoordinates.y1),this.ctx.lineTo(this.lineCoordinates.x2,this.lineCoordinates.y2),this.ctx.stroke()}}};ao.prototype.getPixelCoordinatesOnAxis=function(x){var z={},s=this.lineCoordinates.width,y=this.lineCoordinates.height;if("bottom"===this._position||"top"===this._position){s/=Math.abs(this.maximum-this.minimum),z.x=this.lineCoordinates.x1+s*(x-this.minimum),z.y=this.lineCoordinates.y1}if("left"===this._position||"right"===this._position){s=y/Math.abs(this.maximum-this.minimum),z.y=this.lineCoordinates.y2-s*(x-this.minimum),z.x=this.lineCoordinates.x2}return z};ao.prototype.calculateValueToPixelConvertionParameters=function(){var x={pixelPerUnit:null,minimum:null,reference:null},y=this.lineCoordinates.width,s=this.lineCoordinates.height;x.minimum=this.minimum;if("bottom"===this._position||"top"===this._position){x.pixelPerUnit=y/Math.abs(this.maximum-this.minimum),x.reference=this.lineCoordinates.x1}if("left"===this._position||"right"===this._position){x.pixelPerUnit=-1*s/Math.abs(this.maximum-this.minimum),x.reference=this.lineCoordinates.y2}this.convertionParameters=x};ao.prototype.calculateAxisParameters=function(){var y=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=y.width,this.maxHeight=y.height):(this.maxWidth=y.height,this.maxHeight=y.width);var y="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.floor(this.maxWidth/40),B,x,z,s;"axisX"===this.type?(B=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,x=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===x-B&&(x+=0.5,B-=0.5),z=Infinity!==this.dataInfo.minDiff?this.dataInfo.minDiff:1):"axisY"===this.type&&(B="undefined"===typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,x="undefined"===typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,0===x-B?(x+=5,B-=5):(0!==x&&(x+=Math.abs(0.05)),0!==B&&(B-=Math.abs(0.05))),this.includeZero&&"undefined"===typeof this._options.minimum&&0<B&&(B=0),this.includeZero&&"undefined"===typeof this._options.maximum&&0>x&&(x=0));"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(s=x-B,this.intervalType||(s/1<=y?(this.interval=1,this.intervalType="millisecond"):s/2<=y?(this.interval=2,this.intervalType="millisecond"):s/5<=y?(this.interval=5,this.intervalType="millisecond"):s/10<=y?(this.interval=10,this.intervalType="millisecond"):s/20<=y?(this.interval=20,this.intervalType="millisecond"):s/50<=y?(this.interval=50,this.intervalType="millisecond"):s/100<=y?(this.interval=100,this.intervalType="millisecond"):s/200<=y?(this.interval=200,this.intervalType="millisecond"):s/250<=y?(this.interval=250,this.intervalType="millisecond"):s/300<=y?(this.interval=300,this.intervalType="millisecond"):s/400<=y?(this.interval=400,this.intervalType="millisecond"):s/500<=y?(this.interval=500,this.intervalType="millisecond"):s/(1*p.secondDuration)<=y?(this.interval=1,this.intervalType="second"):s/(2*p.secondDuration)<=y?(this.interval=2,this.intervalType="second"):s/(5*p.secondDuration)<=y?(this.interval=5,this.intervalType="second"):s/(10*p.secondDuration)<=y?(this.interval=10,this.intervalType="second"):s/(15*p.secondDuration)<=y?(this.interval=15,this.intervalType="second"):s/(20*p.secondDuration)<=y?(this.interval=20,this.intervalType="second"):s/(30*p.secondDuration)<=y?(this.interval=30,this.intervalType="second"):s/(1*p.minuteDuration)<=y?(this.interval=1,this.intervalType="minute"):s/(2*p.minuteDuration)<=y?(this.interval=2,this.intervalType="minute"):s/(5*p.minuteDuration)<=y?(this.interval=5,this.intervalType="minute"):s/(10*p.minuteDuration)<=y?(this.interval=10,this.intervalType="minute"):s/(15*p.minuteDuration)<=y?(this.interval=15,this.intervalType="minute"):s/(20*p.minuteDuration)<=y?(this.interval=20,this.intervalType="minute"):s/(30*p.minuteDuration)<=y?(this.interval=30,this.intervalType="minute"):s/(1*p.hourDuration)<=y?(this.interval=1,this.intervalType="hour"):s/(2*p.hourDuration)<=y?(this.interval=2,this.intervalType="hour"):s/(3*p.hourDuration)<=y?(this.interval=3,this.intervalType="hour"):s/(6*p.hourDuration)<=y?(this.interval=6,this.intervalType="hour"):s/(1*p.dayDuration)<=y?(this.interval=1,this.intervalType="day"):s/(2*p.dayDuration)<=y?(this.interval=2,this.intervalType="day"):s/(4*p.dayDuration)<=y?(this.interval=4,this.intervalType="day"):s/(1*p.weekDuration)<=y?(this.interval=1,this.intervalType="week"):s/(2*p.weekDuration)<=y?(this.interval=2,this.intervalType="week"):s/(3*p.weekDuration)<=y?(this.interval=3,this.intervalType="week"):s/(1*p.monthDuration)<=y?(this.interval=1,this.intervalType="month"):s/(2*p.monthDuration)<=y?(this.interval=2,this.intervalType="month"):s/(3*p.monthDuration)<=y?(this.interval=3,this.intervalType="month"):s/(6*p.monthDuration)<=y?(this.interval=6,this.intervalType="month"):(this.interval=s/(1*p.yearDuration)<=y?1:s/(2*p.yearDuration)<=y?2:s/(4*p.yearDuration)<=y?4:Math.floor(ao.getNiceNumber(s/(y-1),!0)/p.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:B-z/2,this.maximum=this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:x+z/2,this.valueFormatString||("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="fff'ms'")),this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",s=ao.getNiceNumber(x-B,!1),this.interval=this._options&&this._options.interval?this._options.interval:ao.getNiceNumber(s/(y-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(B/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(x/this.interval)*this.interval,"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=B-z/2),this.sessionVariables.internalMaximum||(this.maximum=x+z/2),this.intervalStartPosition=Math.floor((this.minimum+this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalStartPosition=this.minimum));"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!==typeof this._options.minimum?this._options.minimum:this.dataInfo.min-z/2,this._absoluteMaximum=this._options&&"undefined"!==typeof this._options.maximum?this._options.maximum:this.dataInfo.max+z/2);if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",s=Math.abs(this.maximum-this.minimum),1>s&&(B=Math.floor(Math.abs(Math.log(s)/Math.LN10))+2,2<B))){for(x=0;x<B-2;x++){this.valueFormatString+="#"}}};ao.prototype._getFontString=function(){return this.labelFontStyle+" "+this.labelFontWeight+" "+this.labelFontSize+"px "+this.labelFontFamily};ao.getNiceNumber=function(x,z){var s=Math.floor(Math.log(x)/Math.LN10),y=x/Math.pow(10,s);return(z?1.5>y?1:3>y?2:7>y?5:10:1>=y?1:2>=y?2:5>=y?5:10)*Math.pow(10,s)};ao.prototype.getLabelStartPoint=function(){var s=v(this.interval,this.intervalType),s=new Date(Math.floor(this.minimum/s)*s);if("millisecond"!==this.intervalType){if("second"===this.intervalType){0<s.getMilliseconds()&&(s.setSeconds(s.getSeconds()+1),s.setMilliseconds(0))}else{if("minute"===this.intervalType){if(0<s.getSeconds()||0<s.getMilliseconds()){s.setMinutes(s.getMinutes()+1),s.setSeconds(0),s.setMilliseconds(0)}}else{if("hour"===this.intervalType){if(0<s.getMinutes()||0<s.getSeconds()||0<s.getMilliseconds()){s.setHours(s.getHours()+1),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}}else{if("day"===this.intervalType){if(0<s.getHours()||0<s.getMinutes()||0<s.getSeconds()||0<s.getMilliseconds()){s.setDate(s.getDate()+1),s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}}else{if("week"===this.intervalType){if(0<s.getDay()||0<s.getHours()||0<s.getMinutes()||0<s.getSeconds()||0<s.getMilliseconds()){s.setDate(s.getDate()+(7-s.getDay())),s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}}else{if("month"===this.intervalType){if(1<s.getDate()||0<s.getHours()||0<s.getMinutes()||0<s.getSeconds()||0<s.getMilliseconds()){s.setMonth(s.getMonth()+1),s.setDate(1),s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}}else{if("year"===this.intervalType&&(0<s.getMonth()||1<s.getDate()||0<s.getHours()||0<s.getMinutes()||0<s.getSeconds()||0<s.getMilliseconds())){s.setFullYear(s.getFullYear()+1),s.setMonth(0),s.setDate(1),s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}}}}}}}}return s};g(d,o);d.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div");this.container.style.height="auto";this.container.style.position="absolute";this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)";this.container.style.zIndex="1000";this.container.style.display="none";var s;s='<div style=" width: auto;height: auto;min-width: 50px;';s+="line-height: 20px;";s+="padding: 5px;";s+="font-family: Calibri, Arial, Georgia, serif;";s+="font-weight: 400;";s+="font-style: italic;";s+="font-size: 14px;";s+="color: #000000;";s+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";s+="text-align: left;";s+="border: 2px solid gray;";s+="background: rgba(255,255,255,.9);";s+="text-indent: 0px;";s+="white-space: nowrap;";s+="border-radius: 10px;";s+='} "> Sample Tooltip</div>';this.container.innerHTML=s;this.contentDiv=this.container.firstChild;this.container.style.borderRadius=this.contentDiv.style.borderRadius;this.chart._canvasJSContainer.appendChild(this.container)}};d.prototype.mouseMoveHandler=function(x,y){var s=this;clearTimeout(this._timerId);this._timerId=setTimeout(function(){s._updateToolTip(x,y)},5)};d.prototype._updateToolTip=function(y,C){if("undefined"===typeof y||"undefined"===typeof C){if(isNaN(this._prevX)||isNaN(this._prevY)){return}y=this._prevX;C=this._prevY}else{this._prevX=y,this._prevY=C}var x=null,B=null,s=[],z=0;if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){z="xySwapped"===this.chart.plotInfo.axisPlacement?(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-C)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(y-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum;x=[];for(B=0;B<this.chart.data.length;B++){if(E={},(E=this.chart.data[B].findDataPointByX(z,!0))&&0<=E.index){E.dataSeries=this.chart.data[B],x.push(E)}}if(0===x.length){return}x.sort(function(F,G){return F.distance-G.distance});z=x[0];for(B=0;B<x.length;B++){x[B].dataPoint.x.valueOf()===z.dataPoint.x.valueOf()&&s.push(x[B])}x=null}else{E=this.chart._eventManager.ghostCtx.getImageData(y,C,2,2).data;x=!0;for(B=0;4>B;B++){if(E[B]!==E[B+4]|E[B]!==E[B+8]|E[B]!==E[B+12]){x=!1;break}}E=x?E[0]<<16|E[1]<<8|E[2]:0;0<E&&"undefined"!==typeof this.chart._eventManager.objectMap[E]?(eventObject=this.chart._eventManager.objectMap[E],this.currentSeriesIndex=eventObject.dataSeriesIndex,this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1):this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){var B=this.chart.data[this.currentSeriesIndex],E={};if(0<=this.currentDataPointIndex){x=B.dataPoints[this.currentDataPointIndex],E.dataSeries=B,E.dataPoint=x,E.index=this.currentDataPointIndex,E.distance=Math.abs(x.x-z)}else{if("line"===B.type||"stepLine"===B.type||"spline"===B.type||"area"===B.type||"splineArea"===B.type||"stackedArea"===B.type||"stackedArea100"===B.type){z=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(y-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),E=B.findDataPointByX(z,!0),E.dataSeries=B,this.currentDataPointIndex=E.index,x=E.dataPoint}else{return}}s.push(E)}}0<s.length&&(this.highlightObjects(s),z="",z=this.getToolTipInnerHTML({entries:s}),this.contentDiv.innerHTML=z,this.contentDiv.innerHTML=z,z=!1,"none"===this.container.style.display&&(z=!0,this.container.style.display="block"),this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:s[0].dataPoint.color?s[0].dataPoint.color:s[0].dataSeries.color?s[0].dataSeries.color:s[0].dataSeries._colorSet[s[0].index%s[0].dataSeries._colorSet.length],toolTipLeft="pie"===s[0].dataSeries.type||"doughnut"===s[0].dataSeries.type||"bar"===s[0].dataSeries.type||"stackedBar"===s[0].dataSeries.type||"stackedBar100"===s[0].dataSeries.type?y-10-this.container.clientWidth:this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(s[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+0.5-this.container.clientWidth<<0,toolTipLeft=0<toolTipLeft?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+20+"px",s=1===s.length&&!this.shared&&("line"===s[0].dataSeries.type||"stepLine"===s[0].dataSeries.type||"spline"===s[0].dataSeries.type||"area"===s[0].dataSeries.type||"splineArea"===s[0].dataSeries.type||"stackedArea"===s[0].dataSeries.type||"stackedArea100"===s[0].dataSeries.type)?s[0].dataSeries.axisY.lineCoordinates.y2-s[0].dataSeries.axisY.lineCoordinates.height/Math.abs(s[0].dataSeries.axisY.maximum-s[0].dataSeries.axisY.minimum)*Math.abs(s[0].dataPoint.y-s[0].dataSeries.axisY.minimum)+0.5<<0:"bar"===s[0].dataSeries.type||"stackedBar"===s[0].dataSeries.type||"stackedBar100"===s[0].dataSeries.type?s[0].dataSeries.axisX.lineCoordinates.y2-s[0].dataSeries.axisX.lineCoordinates.height/Math.abs(s[0].dataSeries.axisX.maximum-s[0].dataSeries.axisX.minimum)*Math.abs(s[0].dataPoint.x-s[0].dataSeries.axisX.minimum)+0.5<<0:C,s=-s+10,0<s+this.container.clientHeight+5&&(s-=s+this.container.clientHeight+5-0),this.container.style.left=toolTipLeft,this.container.style.bottom=s+"px",!this.animationEnabled||z?this.disableAnimation():this.enableAnimation())};d.prototype.highlightObjects=function(y){var C=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas();var x=this.chart.getPlotArea();C.beginPath();C.rect(x.x1,x.y1,x.width,x.height);C.clip();for(x=0;x<y.length;x++){var B=y[x];if((B=this.chart._eventManager.objectMap[B.dataSeries.dataPointIds[B.index]])&&B.objectType&&"dataPoint"===B.objectType){var s=this.chart.data[B.dataSeriesIndex],z=B.dataPointIndex;if("line"===s.type||"stepLine"===s.type||"spline"===s.type||"scatter"===s.type||"area"===s.type||"splineArea"===s.type||"stackedArea"===s.type||"stackedArea100"===s.type){s=s.getMarkerProperties(z,B.x1,B.y1,this.chart.overlaidCanvasCtx),s.size=Math.max(1.5*s.size<<0,10),c.drawMarkers([s])}else{if("bubble"===s.type){s=s.getMarkerProperties(z,B.x1,B.y1,this.chart.overlaidCanvasCtx),s.size=B.size,s.color="white",s.borderColor="white",C.globalAlpha=0.3,c.drawMarkers([s]),C.globalAlpha=1}else{if("column"===s.type||"stackedColumn"===s.type||"stackedColumn100"===s.type||"bar"===s.type||"stackedBar"===s.type||"stackedBar100"===s.type){C.globalAlpha=0.3,t(C,B.x1,B.y1,B.x2,B.y2,"white",!1,!1,!1,!1),C.globalAlpha=1}else{if("pie"===s.type||"doughnut"===s.type){C.globalAlpha=0.3,ad(C,B.center,B.radius,"white",s.type,B.startAngle,B.endAngle),C.globalAlpha=1}}}}}}C.globalAlpha=1;C.restore()};d.prototype.getToolTipInnerHTML=function(y){y=y.entries;for(var E="",x=null,C=null,s=0,B="",F=!0,z=0;z<y.length;z++){if(y[z].dataSeries.toolTipContent||y[z].dataPoint.toolTipContent){F=!1;break}}if(F&&this.content&&"function"===typeof this.content){E=this.content({entries:y})}else{if(1<y.length){for(z=0;z<y.length;z++){x=y[z].dataSeries;C=y[z].dataPoint;s=y[z].index;B="";0===z&&(F&&!this.content)&&(B+="undefined"!==typeof this.chart.axisX.labels[C.x]?this.chart.axisX.labels[C.x]:"{x}",B+="</br>");if("line"===x.type||"stepLine"===x.type||"spline"===x.type||"area"===x.type||"splineArea"===x.type||"column"===x.type||"bar"===x.type||"scatter"===x.type||"stackedColumn"===x.type||"stackedColumn100"===x.type||"stackedBar"===x.type||"stackedBar100"===x.type||"stackedArea"===x.type||"stackedArea100"===x.type){B+=C.toolTipContent?C.toolTipContent:x.toolTipContent?x.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}"}else{if("bubble"===x.type){B+=C.toolTipContent?C.toolTipContent:x.toolTipContent?x.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"}else{if("pie"===x.type||"doughnut"===x.type){B+=C.toolTipContent?C.toolTipContent:x.toolTipContent?x.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"&nbsp;&nbsp;{y}"}}}E+=this.chart.replaceKeywordsWithValue(B,C,x,s);z<y.length-1&&(E+="</br>")}}else{x=y[0].dataSeries;C=y[0].dataPoint;s=y[0].index;if("line"===x.type||"stepLine"===x.type||"spline"===x.type||"area"===x.type||"splineArea"===x.type||"column"===x.type||"bar"===x.type||"scatter"===x.type||"stackedColumn"===x.type||"stackedColumn100"===x.type||"stackedBar"===x.type||"stackedBar100"===x.type||"stackedArea"===x.type||"stackedArea100"===x.type){B=C.toolTipContent?C.toolTipContent:x.toolTipContent?x.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(C.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}"}else{if("bubble"===x.type){B=C.toolTipContent?C.toolTipContent:x.toolTipContent?x.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(C.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"}else{if("pie"===x.type||"doughnut"===x.type){B=C.toolTipContent?C.toolTipContent:x.toolTipContent?x.toolTipContent:this.content&&"function"!==typeof this.content?this.content:(C.name?"{name}:&nbsp;&nbsp;":C.label?"{label}:&nbsp;&nbsp;":"")+"{y}"}}}E+=this.chart.replaceKeywordsWithValue(B,C,x,s)}}return E};d.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")};d.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")};d.prototype.hide=function(){this.container.style.display="none";this.currentSeriesIndex=-1;this._prevY=this._prevX=NaN;this.chart.resetOverlayedCanvas()};l.prototype.replaceKeywordsWithValue=function(y,B,x,z){var s=this;return y.replace(/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g,function(C){if('"'===C[0]&&'"'===C[C.length-1]||"'"===C[0]&&"'"===C[C.length-1]){return C.slice(1,C.length-1)}C=w(C.slice(1,C.length-1));var E=null;if("color"===C){return B.color?B.color:x.color?x.color:x._colorSet[z%x._colorSet.length]}if(B.hasOwnProperty(C)){E=B}else{if(x.hasOwnProperty(C)){E=x}else{return""}}return"x"===C?s.axisX&&"dateTime"===s.plotInfo.axisXValueType?ar(E[C],B.xValueFormatString?B.xValueFormatString:x.xValueFormatString?x.xValueFormatString:s.axisX&&s.axisX.valueFormatString?s.axisX.valueFormatString:"DD MMM YY",s._cultureInfo):ai(E[C],B.xValueFormatString?B.xValueFormatString:x.xValueFormatString?x.xValueFormatString:"#,##0.########",s._cultureInfo):"y"===C?ai(E[C],B.yValueFormatString?B.yValueFormatString:x.yValueFormatString?x.yValueFormatString:"#,##0.########",s._cultureInfo):E[C]})};al.prototype.reset=function(){this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCtx.clearRect(0,0,this.ghostCanvas.width,this.ghostCanvas.height);this.ghostCtx.beginPath()};al.prototype.getNewObjectTrackingId=function(){return ++this.lastObjectId};al.prototype.mouseEventHandler=function(y){if(!("mousemove"!==y.type&&"click"!==y.type)){var E=null,x=null,C=null,s=-1,B=!1,F=!1,z=am(y),x=this.ghostCtx.getImageData(z.x,z.y,1,1).data;if(240<x[3]){if(x=x[0]<<16|x[1]<<8|x[2],"undefined"!==typeof this.objectMap[x]&&"dataPoint"===this.objectMap[x].objectType){E=this.objectMap[x];x=this.chart.data[E.dataSeriesIndex];C=x.dataPoints[E.dataPointIndex];s=E.dataPointIndex;if(null===this.previousDataPointEventObject||this.previousDataPointEventObject.dataSeriesIndex!==E.dataSeriesIndex||this.previousDataPointEventObject.dataPointIndex!==E.dataPointIndex){if(this.previousDataPointEventObject&&(B=!0),C.mouseover&&C.mouseover.call(C,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s}),x.mouseover&&(null===this.previousDataPointEventObject||this.previousDataPointEventObject.dataSeriesIndex!==E.dataSeriesIndex)){x.mouseover&&x.mouseover.call(x,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s}),this.previousDataPointEventObject&&(F=!0)}}"mousemove"===y.type?(C.cursor?y.target.style.cursor=C.cursor:x.cursor&&(y.target.style.cursor=x.cursor),C.mousemove&&C.mousemove.call(C,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s}),x.mousemove&&x.mousemove.call(x,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s})):"click"===y.type&&5>Math.sqrt(Math.pow(this.chart.dragStartPoint.x-z.x,2)+Math.pow(this.chart.dragStartPoint.y-z.y,2))&&(C.click&&C.click.call(C,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s}),x.click&&x.click.call(x,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s}),this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(x,{x:z.x,y:z.y,dataPoint:C,dataSeries:x,dataPointIndex:s}))}else{this.previousDataPointEventObject&&(F=B=!0)}}else{this.previousDataPointEventObject&&(F=B=!0)}if(B||F){y.target.style.cursor=this.chart._defaultCursor,y=this.chart.data[this.previousDataPointEventObject.dataSeriesIndex],x=y.dataPoints[this.previousDataPointEventObject.dataPointIndex],C=this.previousDataPointEventObject.dataPointIndex,B&&x.mouseout&&x.mouseout.call(x,{x:z.x,y:z.y,dataPoint:x,dataSeries:y,dataPointIndex:C}),F&&y.mouseout&&y.mouseout.call(y,{x:z.x,y:z.y,dataPoint:x,dataSeries:y,dataPointIndex:C})}this.previousDataPointEventObject=E}};g(ap,o);var c={drawMarker:function(G,z,x,E,B,y,s,F){if(x){var C=1;x.fillStyle=y?y:"#000000";x.strokeStyle=s?s:"#000000";x.lineWidth=F?F:0;"circle"===E?(x.beginPath(),x.arc(G,z,B/2,0,360,!1),y&&x.fill(),F&&(s?x.stroke():(C=x.globalAlpha,x.globalAlpha=0.15,x.strokeStyle="black",x.stroke(),x.globalAlpha=C))):"square"===E?(x.beginPath(),x.rect(G-B/2,z-B/2,B,B),y&&x.fill(),F&&(s?x.stroke():(C=x.globalAlpha,x.globalAlpha=0.15,x.strokeStyle="black",x.stroke(),x.globalAlpha=C))):"triangle"===E?(x.beginPath(),x.moveTo(G-B/2,z+B/2),x.lineTo(G+B/2,z+B/2),x.lineTo(G,z-B/2),x.closePath(),y&&x.fill(),F&&(s?x.stroke():(C=x.globalAlpha,x.globalAlpha=0.15,x.strokeStyle="black",x.stroke(),x.globalAlpha=C))):"cross"===E&&(x.strokeStyle=y,x.lineWidth=B/4,x.beginPath(),x.moveTo(G-B/2,z-B/2),x.lineTo(G+B/2,z+B/2),x.stroke(),x.moveTo(G+B/2,z-B/2),x.lineTo(G-B/2,z+B/2),x.stroke())}},drawMarkers:function(x){for(var y=0;y<x.length;y++){var s=x[y];c.drawMarker(s.x,s.y,s.ctx,s.type,s.size,s.color,s.borderColor,s.borderThickness)}}},ac={Chart:function(x,y){var s=new l(x,y,this);this.render=function(){s.render()};this.options=s._options},addColorSet:function(s,x){D[s]=x},addCultureInfo:function(s,x){ag[s]=x}};ac.Chart.version="1.2.0";window.CanvasJS=ac})();
$(document).ready(function(){$("#announce-form").submit(function(){$.post(Routing.generate("ctf_admin_announce",null),$("#announce-form").serialize(),function(a){$("#announce-box").fadeOut();$("#announce-box").fadeIn("fast",function(){$("#ctf_adminbundle_announcementtype_announcement").val("")})});return false});$("#banteam-typeahead").typeahead({source:function(b,a){return $.get(Routing.generate("ctf_admin_team_list",{query:b}),null,function(c){return a(c.options)})},items:5});$("#banuser-typeahead").typeahead({source:function(b,a){return $.get(Routing.generate("ctf_admin_user_list",{query:b}),null,function(c){return a(c.options)})},items:5});$("#banteam-button").click(function(){var a=document.getElementById("banteam-typeahead").value;if(a!=null&&a!=""){$.post(Routing.generate("ctf_admin_team_ban",{name:a}),null,function(b){var c=JSON.parse(b);if("success"==c.result){$("#banteam-result").html('<div class="alert alert-success">Successfully banned team "'+a+'"</div>').show().fadeOut(2000);document.getElementById("banteam-typeahead").value=null}else{$("#banteam-result").html('<div class="alert alert-error">Could not ban team "'+a+' at this time."</div>').show().fadeOut(2000)}})}});$("#banteam-button-unban").click(function(){var a=document.getElementById("banteam-typeahead").value;if(a!=null&&a!=""){$.post(Routing.generate("ctf_admin_team_unban",{name:a}),null,function(b){var c=JSON.parse(b);if("success"==c.result){$("#banteam-result").html('<div class="alert alert-success">Successfully un-banned team "'+a+'"</div>').show().fadeOut(2000);document.getElementById("banteam-typeahead").value=null}else{$("#banteam-result").html('<div class="alert alert-error">Could not un-ban team "'+a+' at this time."</div>').show().fadeOut(2000)}})}});$("#banuser-button").click(function(){var a=document.getElementById("banuser-typeahead").value;if(a!=null&&a!=""){$.post(Routing.generate("ctf_admin_user_ban",{name:a}),null,function(b){var c=JSON.parse(b);if("success"==c.result){$("#banuser-result").html('<div class="alert alert-success">Successfully banned user "'+a+'"</div>').show().fadeOut(2000);document.getElementById("banuser-typeahead").value=null}else{$("#banuser-result").html('<div class="alert alert-error">Could not ban user "'+a+' at this time."</div>').show().fadeOut(2000)}})}});$("#banuser-button-unban").click(function(){var a=document.getElementById("banuser-typeahead").value;if(a!=null&&a!=""){$.post(Routing.generate("ctf_admin_user_unban",{name:a}),null,function(b){var c=JSON.parse(b);if("success"==c.result){$("#banuser-result").html('<div class="alert alert-success">Successfully un-banned user "'+a+'"</div>').show().fadeOut(2000);document.getElementById("banuser-typeahead").value=null}else{$("#banuser-result").html('<div class="alert alert-error">Could not un-ban user "'+a+' at this time."</div>').show().fadeOut(2000)}})}});$.post(Routing.generate("ctf_statistics_team_count",null),null,function(a){$("#teamstats-count").text(a)});setInterval(function(){$.post(Routing.generate("ctf_statistics_team_count",null),null,function(a){$("#teamstats-count").text(a)})},25000);$.post(Routing.generate("ctf_statistics_players_count",null),null,function(a){$("#player-count").text(a)});setInterval(function(){$.post(Routing.generate("ctf_statistics_players_count",null),null,function(a){$("#player-count").text(a)})},15000);$.post(Routing.generate("ctf_statistics_genders_count",null),null,function(a){$("#genderChart").empty();var b=new CanvasJS.Chart("genderChart",JSON.parse(a));b.render()});setInterval(function(){$.post(Routing.generate("ctf_statistics_genders_count",null),null,function(a){$("#genderChart").empty();var b=new CanvasJS.Chart("genderChart",JSON.parse(a));b.render()})},60000);$.post(Routing.generate("ctf_statistics_top_ten_orgs",null),null,function(a){$("#topOrgsChart").empty();var b=new CanvasJS.Chart("topOrgsChart",JSON.parse(a));b.render()});setInterval(function(){$.post(Routing.generate("ctf_statistics_top_ten_orgs",null),null,function(a){$("#topOrgsChart").empty();var b=new CanvasJS.Chart("topOrgsChart",JSON.parse(a));b.render()})},65000)});