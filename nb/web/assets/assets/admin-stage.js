!function(bl,bs){function bi(b,f){for(var d,a=[],c=0;c<b.length;++c){if(d=bq[b[c]]||bn(b[c]),!d){throw"module definition dependecy not found: "+b[c]}a.push(d)}f.apply(null,a)}function bk(b,a,c){if("string"!=typeof b){throw"invalid module definition, module id must be defined and be a string"}if(a===bs){throw"invalid module definition, dependencies must be specified"}if(c===bs){throw"invalid module definition, definition function must be specified"}bi(a,function(){bq[b]=c.apply(null,arguments)})}function a4(a){return !!bq[a]}function bn(d){for(var c=bl,a=d.split(/[.\/]/),b=0;b<a.length;++b){if(!c[a[b]]){return}c=c[a[b]]}return c}function a9(g){for(var c=0;c<g.length;c++){for(var d=bl,b=g[c],e=b.split(/[.\/]/),f=0;f<e.length-1;++f){d[e[f]]===bs&&(d[e[f]]={}),d=d[e[f]]}d[e[e.length-1]]=bq[b]}}var bq={},bj="tinymce/dom/EventUtils",ae="tinymce/dom/Sizzle",bx="tinymce/dom/DomQuery",a7="tinymce/html/Styles",ah="tinymce/dom/TreeWalker",ab="tinymce/util/Tools",bh="tinymce/dom/Range",a6="tinymce/html/Entities",bp="tinymce/Env",av="tinymce/dom/DOMUtils",aY="tinymce/dom/ScriptLoader",aq="tinymce/AddOnManager",bH="tinymce/html/Node",bU="tinymce/html/Schema",aw="tinymce/html/SaxParser",al="tinymce/html/DomParser",aT="tinymce/html/Writer",am="tinymce/html/Serializer",bd="tinymce/dom/Serializer",a8="tinymce/dom/TridentSelection",ak="tinymce/util/VK",aE="tinymce/dom/ControlSelection",ac="tinymce/dom/Selection",bQ="tinymce/dom/RangeUtils",bf="tinymce/Formatter",bA="tinymce/UndoManager",bP="tinymce/EnterKey",aB="tinymce/ForceBlocks",aa="tinymce/EditorCommands",au="tinymce/util/URI",aC="tinymce/util/Class",aK="tinymce/ui/Selector",bm="tinymce/ui/Collection",bC="tinymce/ui/DomUtils",aQ="tinymce/ui/Control",bI="tinymce/ui/Factory",ar="tinymce/ui/Container",ad="tinymce/ui/DragHelper",ay="tinymce/ui/Scrollable",ai="tinymce/ui/Panel",aA="tinymce/ui/Movable",bu="tinymce/ui/Resizable",bg="tinymce/ui/FloatPanel",bz="tinymce/ui/KeyboardNavigation",a3="tinymce/ui/Window",bJ="tinymce/ui/MessageBox",bD="tinymce/WindowManager",aF="tinymce/util/Quirks",aW="tinymce/util/Observable",aP="tinymce/Shortcuts",aX="tinymce/Editor",aN="tinymce/util/I18n",aI="tinymce/FocusManager",a5="tinymce/EditorManager",bE="tinymce/LegacyInput",ap="tinymce/util/XHR",bv="tinymce/util/JSON",be="tinymce/util/JSONRequest",az="tinymce/util/JSONP",br="tinymce/util/LocalStorage",aR="tinymce/Compat",ba="tinymce/ui/Layout",by="tinymce/ui/AbsoluteLayout",bo="tinymce/ui/Tooltip",bB="tinymce/ui/Widget",bM="tinymce/ui/Button",aV="tinymce/ui/ButtonGroup",aj="tinymce/ui/Checkbox",aZ="tinymce/ui/PanelButton",a1="tinymce/ui/ColorButton",ao="tinymce/ui/ComboBox",bT="tinymce/ui/Path",bS="tinymce/ui/ElementPath",bF="tinymce/ui/FormItem",aM="tinymce/ui/Form",ag="tinymce/ui/FieldSet",a2="tinymce/ui/FilePicker",bb="tinymce/ui/FitLayout",aU="tinymce/ui/FlexLayout",bc="tinymce/ui/FlowLayout",aD="tinymce/ui/FormatControls",ax="tinymce/ui/GridLayout",aO="tinymce/ui/Iframe",bN="tinymce/ui/Label",an="tinymce/ui/Toolbar",aS="tinymce/ui/MenuBar",bw="tinymce/ui/MenuButton",af="tinymce/ui/ListBox",aJ="tinymce/ui/MenuItem",bL="tinymce/ui/Menu",bR="tinymce/ui/Radio",aG="tinymce/ui/ResizeHandle",aH="tinymce/ui/Spacer",bO="tinymce/ui/SplitButton",a0="tinymce/ui/StackLayout",bK="tinymce/ui/TabPanel",aL="tinymce/ui/TextBox",bG="tinymce/ui/Throbber";bk(bj,[],function(){function d(i,l,k,a){i.addEventListener?i.addEventListener(l,k,a||!1):i.attachEvent&&i.attachEvent("on"+l,k)}function j(i,l,k,a){i.removeEventListener?i.removeEventListener(l,k,a||!1):i.detachEvent&&i.detachEvent("on"+l,k)}function h(y,q){function k(){return !1}function a(){return !0}var m,v=q||{},z;for(m in y){"layerX"!==m&&"layerY"!==m&&(v[m]=y[m])}if(v.target||(v.target=v.srcElement||document),y&&g.test(y.type)&&y.pageX===z&&y.clientX!==z){var p=v.target.ownerDocument||document,w=p.documentElement,x=p.body;v.pageX=y.clientX+(w&&w.scrollLeft||x&&x.scrollLeft||0)-(w&&w.clientLeft||x&&x.clientLeft||0),v.pageY=y.clientY+(w&&w.scrollTop||x&&x.scrollTop||0)-(w&&w.clientTop||x&&x.clientTop||0)}return v.preventDefault=function(){v.isDefaultPrevented=a,y&&(y.preventDefault?y.preventDefault():y.returnValue=!1)},v.stopPropagation=function(){v.isPropagationStopped=a,y&&(y.stopPropagation?y.stopPropagation():y.cancelBubble=!0)},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=a,v.stopPropagation()},v.isDefaultPrevented||(v.isDefaultPrevented=k,v.isPropagationStopped=k,v.isImmediatePropagationStopped=k),v}function c(v,k,q){function e(){q.domLoaded||(q.domLoaded=!0,k(m))}function t(){"complete"===u.readyState&&(j(u,"readystatechange",t),e())}function p(){try{u.documentElement.doScroll("left")}catch(a){return setTimeout(p,0),void 0}e()}var u=v.document,m={type:"ready"};return q.domLoaded?(k(m),void 0):(u.addEventListener?d(v,"DOMContentLoaded",e):(d(u,"readystatechange",t),u.documentElement.doScroll&&v===v.top&&p()),d(v,"load",e),void 0)}function f(){function n(s,w){var v,l,u,a;if(v=m[w][s.type]){for(l=0,u=v.length;u>l;l++){if(a=v[l],a&&a.func.call(a.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped()){return}}}}var p=this,m={},r,k,q,e,o;k=b+(+new Date).toString(32),e="onmouseenter" in document.documentElement,q="onfocusin" in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},r=1,p.domLoaded=!1,p.events=m,p.bind=function(A,B,u,E){function l(t){n(h(t||F.event),s)}var s,D,H,i,z,a,G,F=window;if(A&&3!==A.nodeType&&8!==A.nodeType){for(A[k]?s=A[k]:(s=r++,A[k]=s,m[s]={}),E=E||A,B=B.split(" "),H=B.length;H--;){i=B[H],a=l,z=G=!1,"DOMContentLoaded"===i&&(i="ready"),p.domLoaded&&"ready"===i&&"complete"==A.readyState?u.call(E,h({type:i})):(e||(z=o[i],z&&(a=function(w){var x,v;if(x=w.currentTarget,v=w.relatedTarget,v&&x.contains){v=x.contains(v)}else{for(;v&&v!==x;){v=v.parentNode}}v||(w=h(w||F.event),w.type="mouseout"===w.type?"mouseleave":"mouseenter",w.target=x,n(w,s))})),q||"focusin"!==i&&"focusout"!==i||(G=!0,z="focusin"===i?"focus":"blur",a=function(t){t=h(t||F.event),t.type="focus"===t.type?"focusin":"focusout",n(t,s)}),D=m[s][i],D?"ready"===i&&p.domLoaded?u({type:i}):D.push({func:u,scope:E}):(m[s][i]=D=[{func:u,scope:E}],D.fakeName=z,D.capture=G,D.nativeHandler=a,"ready"===i?c(A,a,p):d(A,z||i,a,G)))}return A=D=0,u}},p.unbind=function(B,s,a){var t,z,x,A,y,w;if(!B||3===B.nodeType||8===B.nodeType){return p}if(t=B[k]){if(w=m[t],s){for(s=s.split(" "),x=s.length;x--;){if(y=s[x],z=w[y]){if(a){for(A=z.length;A--;){z[A].func===a&&z.splice(A,1)}}a&&0!==z.length||(delete w[y],j(B,z.fakeName||y,z.nativeHandler,z.capture))}}}else{for(y in w){z=w[y],j(B,z.fakeName||y,z.nativeHandler,z.capture)}w={}}for(y in w){return p}delete m[t];try{delete B[k]}catch(v){B[k]=null}}return p},p.fire=function(l,s,i){var a;if(!l||3===l.nodeType||8===l.nodeType){return p}i=h(null,i),i.type=s,i.target=l;do{a=l[k],a&&n(i,a),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return p},p.clean=function(i){var s,l,a=p.unbind;if(!i||3===i.nodeType||8===i.nodeType){return p}if(i[k]&&a(i),i.getElementsByTagName||(i=i.document),i&&i.getElementsByTagName){for(a(i),l=i.getElementsByTagName("*"),s=l.length;s--;){i=l[s],i[k]&&a(i)}}return p},p.destroy=function(){m={}},p.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var b="mce-data-",g=/^(?:mouse|contextmenu)|click/;return f.Event=new f,f.Event.bind(window,"ready",function(){}),f}),bk(ae,[],function(){function cL(a){return cV.test(a+"")}function cJ(){var a,b=[];return a=function(d,c){return b.push(d+=" ")>co.cacheLength&&delete a[b.shift()],a[d]=c,c}}function cx(a){return a[cj]=!0,a}function cN(a){var c=cG.createElement("div");try{return !!a(c)}catch(b){return !1}finally{c=null}}function cC(C,w,f,b){var j,y,x,D,v,A,B,q,z,d;if((w?w.ownerDocument||w:cM)!==cG&&c7(w),w=w||cG,f=f||[],!C||"string"!=typeof C){return f}if(1!==(D=w.nodeType)&&9!==D){return[]}if(c6&&!b){if(j=cO.exec(C)){if(x=j[1]){if(9===D){if(y=w.getElementById(x),!y||!y.parentNode){return f}if(y.id===x){return f.push(y),f}}else{if(w.ownerDocument&&(y=w.ownerDocument.getElementById(x))&&cf(w,y)&&y.id===x){return f.push(y),f}}}else{if(j[2]){return c0.apply(f,w.getElementsByTagName(C)),f}if((x=j[3])&&cZ.getElementsByClassName&&w.getElementsByClassName){return c0.apply(f,w.getElementsByClassName(x)),f}}}if(cZ.qsa&&!ce.test(C)){if(B=!0,q=cj,z=w,d=9===D&&C,1===D&&"object"!==w.nodeName.toLowerCase()){for(A=cA(C),(B=w.getAttribute("id"))?q=B.replace(cp,"\\$&"):w.setAttribute("id",q),q="[id='"+q+"'] ",v=A.length;v--;){A[v]=q+bY(A[v])}z=cD.test(C)&&w.parentNode||w,d=A.join(",")}if(d){try{return c0.apply(f,z.querySelectorAll(d)),f}catch(k){}finally{B||w.removeAttribute("id")}}}}return c2(C.replace(b5,"$1"),w,f,b)}function cQ(b,d){var c=d&&b,a=c&&(~d.sourceIndex||cH)-(~b.sourceIndex||cH);if(a){return a}if(c){for(;c=c.nextSibling;){if(c===d){return -1}}}return b?1:-1}function cK(a){return function(c){var b=c.nodeName.toLowerCase();return"input"===b&&c.type===a}}function bX(a){return function(c){var b=c.nodeName.toLowerCase();return("input"===b||"button"===b)&&c.type===a}}function cU(a){return cx(function(b){return b=+b,cx(function(g,d){for(var e,c=a([],g.length,b),f=c.length;f--;){g[e=c[f]]&&(g[e]=!(d[e]=g[e]))}})})}function cA(m,g){var b,a,d,h,p,f,j,k=bW[m+" "];if(k){return g?0:k.slice(0)}for(p=m,f=[],j=co.preFilter;p;){(!b||(a=cT.exec(p)))&&(a&&(p=p.slice(a[0].length)||p),f.push(d=[])),b=!1,(a=cF.exec(p))&&(b=a.shift(),d.push({value:b,type:a[0].replace(b5," ")}),p=p.slice(b.length));for(h in co.filter){!(a=cn[h].exec(p))||j[h]&&!(a=j[h](a))||(b=a.shift(),d.push({value:b,type:h,matches:a}),p=p.slice(b.length))}if(!b){break}}return g?p.length:p?cC.error(m):bW(m,f).slice(0)}function bY(b){for(var d=0,c=b.length,a="";c>d;d++){a+=b[d].value}return a}function t(c,g,f){var b=g.dir,d=f&&"parentNode"===b,a=c3++;return g.first?function(i,h,e){for(;i=i[b];){if(1===i.nodeType||d){return c(i,h,e)}}}:function(o,m,i){var h,k,e,j=cm+" "+a;if(i){for(;o=o[b];){if((1===o.nodeType||d)&&c(o,m,i)){return !0}}}else{for(;o=o[b];){if(1===o.nodeType||d){if(e=o[cj]||(o[cj]={}),(k=e[b])&&k[0]===j){if((h=k[1])===!0||h===b2){return h===!0}}else{if(k=e[b]=[j],k[1]=c(o,m,i)||b2,k[1]===!0){return !0}}}}}}}function cI(a){return a.length>1?function(e,d,b){for(var c=a.length;c--;){if(!a[c](e,d,b)){return !1}}return !0}:a[0]}function cz(p,h,d,b,f){for(var k,j=[],q=0,g=p.length,m=null!=h;g>q;q++){(k=p[q])&&(!d||d(k,b,f))&&(j.push(k),m&&h.push(q))}return j}function cP(d,h,g,c,b,f){return c&&!c[cj]&&(c=cP(c)),b&&!b[cj]&&(b=cP(b,f)),cx(function(e,q,B,m){var z,A,o,n=[],k=[],x=q.length,j=e||b6(h||"*",B.nodeType?[B]:B,[]),w=!d||!e&&h?j:cz(j,n,d,B,m),C=g?b||(e?d:x||c)?[]:q:w;if(g&&g(w,C,B,m),c){for(z=cz(C,k),c(z,[],B,m),A=z.length;A--;){(o=z[A])&&(C[k[A]]=!(w[k[A]]=o))}}if(e){if(b||d){if(b){for(z=[],A=C.length;A--;){(o=C[A])&&z.push(w[A]=o)}b(null,C=[],z,m)}for(A=C.length;A--;){(o=C[A])&&(z=b?cq.call(e,o):n[A])>-1&&(e[z]=!(q[z]=o))}}}else{C=cz(C===q?C.splice(x,C.length):C),b?b(null,q,C,m):c0.apply(q,C)}})}function b9(q){for(var h,d,b,f=q.length,k=co.relative[q[0].type],j=k||co.relative[" "],v=k?1:0,g=t(function(a){return a===h},j,!0),m=t(function(a){return cq.call(h,a)>-1},j,!0),p=[function(c,i,a){return !k&&(a||i!==b1)||((h=i).nodeType?g(c,i,a):m(c,i,a))}];f>v;v++){if(d=co.relative[q[v].type]){p=[t(cI(p),d)]}else{if(d=co.filter[q[v].type].apply(null,q[v].matches),d[cj]){for(b=++v;f>b&&!co.relative[q[b].type];b++){}return cP(v>1&&cI(p),v>1&&bY(q.slice(0,v-1)).replace(b5,"$1"),d,b>v&&b9(q.slice(v,b)),f>b&&b9(q=q.slice(b)),f>b&&bY(q))}p.push(d)}}return cI(p)}function cs(c,g){var f=0,b=g.length>0,a=c.length>0,d=function(k,G,n,E,F){var q,o,z,D=[],m=0,B="0",I=k&&[],j=null!=F,A=b1,e=k||a&&co.find.TAG("*",F&&G.parentNode||G),H=cm+=null==A?1:Math.random()||0.1;for(j&&(b1=G!==cG&&G,b2=f);null!=(q=e[B]);B++){if(a&&q){for(o=0;z=c[o++];){if(z(q,G,n)){E.push(q);break}}j&&(cm=H,b2=++f)}b&&((q=!z&&q)&&m--,k&&I.push(q))}if(m+=B,b&&B!==m){for(o=0;z=g[o++];){z(I,D,G,n)}if(k){if(m>0){for(;B--;){I[B]||D[B]||(D[B]=cw.call(E))}}D=cz(D)}c0.apply(E,D),j&&!k&&D.length>0&&m+g.length>1&&cC.uniqueSort(E)}return j&&(cm=H,b1=A),I};return b?cx(d):d}function b6(b,f,d){for(var a=0,c=f.length;c>a;a++){cC(b,f[a],d)}return d}function c2(p,h,d,b){var f,k,j,q,g,m=cA(p);if(!b&&1===m.length){if(k=m[0]=m[0].slice(0),k.length>2&&"ID"===(j=k[0]).type&&9===h.nodeType&&c6&&co.relative[k[1].type]){if(h=(co.find.ID(j.matches[0].replace(cu,cv),h)||[])[0],!h){return d}p=p.slice(k.shift().value.length)}for(f=cn.needsContext.test(p)?0:k.length;f--&&(j=k[f],!co.relative[q=j.type]);){if((g=co.find[q])&&(b=g(j.matches[0].replace(cu,cv),cD.test(k[0].type)&&h.parentNode||h))){if(k.splice(f,1),p=b.length&&bY(k),!p){return c0.apply(d,b),d}break}}}return cB(p,m)(b,h,!c6,d,cD.test(p)),d}function c8(){}var ca,b2,co,b3,cE,cB,b1,cg,bV,c7,cG,cX,c6,ce,r,b8,cf,cj="sizzle"+-new Date,cM=window.document,cZ={},cm=0,c3=0,b7=cJ(),bW=cJ(),cb=cJ(),bZ=!1,cd=function(){return 0},cS=typeof bs,cH=1<<31,cW=[],cw=cW.pop,c4=cW.push,c0=cW.push,ch=cW.slice,cq=cW.indexOf||function(a){for(var c=0,b=this.length;b>c;c++){if(this[c]===a){return c}}return -1},cl="[\\x20\\t\\r\\n\\f]",cr="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ck=cr.replace("w","w#"),ci="([*^$|!~]?=)",cy="\\["+cl+"*("+cr+")"+cl+"*(?:"+ci+cl+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ck+")|)|)"+cl+"*\\]",c1=":("+cr+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+cy.replace(3,8)+")*)|.*)\\)|)",b5=new RegExp("^"+cl+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cl+"+$","g"),cT=new RegExp("^"+cl+"*,"+cl+"*"),cF=new RegExp("^"+cl+"*([\\x20\\t\\r\\n\\f>+~])"+cl+"*"),cc=new RegExp(c1),cR=new RegExp("^"+ck+"$"),cn={ID:new RegExp("^#("+cr+")"),CLASS:new RegExp("^\\.("+cr+")"),NAME:new RegExp("^\\[name=['\"]?("+cr+")['\"]?\\]"),TAG:new RegExp("^("+cr.replace("w","w*")+")"),ATTR:new RegExp("^"+cy),PSEUDO:new RegExp("^"+c1),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cl+"*(even|odd|(([+-]|)(\\d*)n|)"+cl+"*(?:([+-]|)"+cl+"*(\\d+)|))"+cl+"*\\)|)","i"),needsContext:new RegExp("^"+cl+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cl+"*((?:-\\d)?\\d*)"+cl+"*\\)|)(?=[^-]|$)","i")},cD=/[\x20\t\r\n\f]*[+~]/,cV=/^[^{]+\{\s*\[native code/,cO=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cY=/^(?:input|select|textarea|button)$/i,c5=/^h\d$/i,cp=/'|\\/g,b0=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cu=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,cv=function(a,c){var b="0x"+c-65536;return b!==b?c:0>b?String.fromCharCode(b+65536):String.fromCharCode(55296|b>>10,56320|1023&b)};try{c0.apply(cW=ch.call(cM.childNodes),cM.childNodes),cW[cM.childNodes.length].nodeType}catch(b4){c0={apply:cW.length?function(a,b){c4.apply(a,ch.call(b))}:function(b,d){for(var c=b.length,a=0;b[c++]=d[a++];){}b.length=c-1}}}cE=cC.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},c7=cC.setDocument=function(b){var a=b?b.ownerDocument||b:cM;return a!==cG&&9===a.nodeType&&a.documentElement?(cG=a,cX=a.documentElement,c6=!cE(a),cZ.getElementsByTagName=cN(function(c){return c.appendChild(a.createComment("")),!c.getElementsByTagName("*").length}),cZ.attributes=cN(function(c){c.innerHTML="<select></select>";var d=typeof c.lastChild.getAttribute("multiple");return"boolean"!==d&&"string"!==d}),cZ.getElementsByClassName=cN(function(c){return c.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",c.getElementsByClassName&&c.getElementsByClassName("e").length?(c.lastChild.className="e",2===c.getElementsByClassName("e").length):!1}),cZ.getByName=cN(function(c){c.id=cj+0,c.appendChild(cG.createElement("a")).setAttribute("name",cj),c.appendChild(cG.createElement("i")).setAttribute("name",cj),cX.appendChild(c);var d=a.getElementsByName&&a.getElementsByName(cj).length===2+a.getElementsByName(cj+0).length;return cX.removeChild(c),d}),cZ.sortDetached=cN(function(c){return c.compareDocumentPosition&&1&c.compareDocumentPosition(cG.createElement("div"))}),co.attrHandle=cN(function(c){return c.innerHTML="<a href='#'></a>",c.firstChild&&typeof c.firstChild.getAttribute!==cS&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}},cZ.getByName?(co.find.ID=function(c,f){if(typeof f.getElementById!==cS&&c6){var d=f.getElementById(c);return d&&d.parentNode?[d]:[]}},co.filter.ID=function(c){var d=c.replace(cu,cv);return function(f){return f.getAttribute("id")===d}}):(co.find.ID=function(d,f){if(typeof f.getElementById!==cS&&c6){var c=f.getElementById(d);return c?c.id===d||typeof c.getAttributeNode!==cS&&c.getAttributeNode("id").value===d?[c]:bs:[]}},co.filter.ID=function(c){var d=c.replace(cu,cv);return function(f){var g=typeof f.getAttributeNode!==cS&&f.getAttributeNode("id");return g&&g.value===d}}),co.find.TAG=cZ.getElementsByTagName?function(c,d){return typeof d.getElementsByTagName!==cS?d.getElementsByTagName(c):void 0}:function(f,j){var h,d=[],g=0,c=j.getElementsByTagName(f);if("*"===f){for(;h=c[g++];){1===h.nodeType&&d.push(h)}return d}return c},co.find.NAME=cZ.getByName&&function(c,d){return typeof d.getElementsByName!==cS?d.getElementsByName(name):void 0},co.find.CLASS=cZ.getElementsByClassName&&function(c,d){return typeof d.getElementsByClassName!==cS&&c6?d.getElementsByClassName(c):void 0},r=[],ce=[":focus"],(cZ.qsa=cL(a.querySelectorAll))&&(cN(function(c){c.innerHTML="<select><option selected=''></option></select>",c.querySelectorAll("[selected]").length||ce.push("\\["+cl+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),c.querySelectorAll(":checked").length||ce.push(":checked")}),cN(function(c){c.innerHTML="<input type='hidden' i=''/>",c.querySelectorAll("[i^='']").length&&ce.push("[*^$]="+cl+"*(?:\"\"|'')"),c.querySelectorAll(":enabled").length||ce.push(":enabled",":disabled"),c.querySelectorAll("*,:x"),ce.push(",.*:")})),(cZ.matchesSelector=cL(b8=cX.matchesSelector||cX.mozMatchesSelector||cX.webkitMatchesSelector||cX.oMatchesSelector||cX.msMatchesSelector))&&cN(function(c){cZ.disconnectedMatch=b8.call(c,"div"),b8.call(c,"[s!='']:x"),r.push("!=",c1)}),ce=new RegExp(ce.join("|")),r=r.length&&new RegExp(r.join("|")),cf=cL(cX.contains)||cX.compareDocumentPosition?function(d,g){var f=9===d.nodeType?d.documentElement:d,c=g&&g.parentNode;return d===c||!(!c||1!==c.nodeType||!(f.contains?f.contains(c):d.compareDocumentPosition&&16&d.compareDocumentPosition(c)))}:function(c,d){if(d){for(;d=d.parentNode;){if(d===c){return !0}}}return !1},cd=cX.compareDocumentPosition?function(c,f){if(c===f){return bZ=!0,0}var d=f.compareDocumentPosition&&c.compareDocumentPosition&&c.compareDocumentPosition(f);return d?1&d||cg&&f.compareDocumentPosition(c)===d?c===a||cf(cM,c)?-1:f===a||cf(cM,f)?1:bV?cq.call(bV,c)-cq.call(bV,f):0:4&d?-1:1:c.compareDocumentPosition?-1:1}:function(g,p){var m,h=0,d=g.parentNode,j=p.parentNode,k=[g],f=[p];if(g===p){return bZ=!0,0}if(!d||!j){return g===a?-1:p===a?1:d?-1:j?1:0}if(d===j){return cQ(g,p)}for(m=g;m=m.parentNode;){k.unshift(m)}for(m=p;m=m.parentNode;){f.unshift(m)}for(;k[h]===f[h];){h++}return h?cQ(k[h],f[h]):k[h]===cM?-1:f[h]===cM?1:0},cG):cG},cC.matches=function(a,b){return cC(a,null,null,b)},cC.matchesSelector=function(b,d){if((b.ownerDocument||b)!==cG&&c7(b),d=d.replace(b0,"='$1']"),cZ.matchesSelector&&c6&&(!r||!r.test(d))&&!ce.test(d)){try{var c=b8.call(b,d);if(c||cZ.disconnectedMatch||b.document&&11!==b.document.nodeType){return c}}catch(a){}}return cC(d,cG,null,[b]).length>0},cC.contains=function(a,b){return(a.ownerDocument||a)!==cG&&c7(a),cf(a,b)},cC.attr=function(a,c){var b;return(a.ownerDocument||a)!==cG&&c7(a),c6&&(c=c.toLowerCase()),(b=co.attrHandle[c])?b(a):!c6||cZ.attributes?a.getAttribute(c):((b=a.getAttributeNode(c))||a.getAttribute(c))&&a[c]===!0?c:b&&b.specified?b.value:null},cC.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},cC.uniqueSort=function(b){var f,d=[],a=0,c=0;if(bZ=!cZ.detectDuplicates,cg=!cZ.sortDetached,bV=!cZ.sortStable&&b.slice(0),b.sort(cd),bZ){for(;f=b[c++];){f===b[c]&&(a=d.push(c))}for(;a--;){b.splice(d[a],1)}}return b},b3=cC.getText=function(b){var f,d="",a=0,c=b.nodeType;if(c){if(1===c||9===c||11===c){if("string"==typeof b.textContent){return b.textContent}for(b=b.firstChild;b;b=b.nextSibling){d+=b3(b)}}else{if(3===c||4===c){return b.nodeValue}}}else{for(;f=b[a];a++){d+=b3(f)}}return d},co=cC.selectors={cacheLength:50,createPseudo:cx,match:cn,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cu,cv),a[3]=(a[4]||a[5]||"").replace(cu,cv),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||cC.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&cC.error(a[0]),a},PSEUDO:function(a){var c,b=!a[5]&&a[2];return cn.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:b&&cc.test(b)&&(c=cA(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(a[0]=a[0].slice(0,c),a[2]=b.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return !0}:(a=a.replace(cu,cv).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=b7[a+" "];return b||(b=new RegExp("(^|"+cl+")"+a+"("+cl+"|$)"))&&b7(a,function(c){return b.test(c.className||typeof c.getAttribute!==cS&&c.getAttribute("class")||"")})},ATTR:function(a,c,b){return function(d){var e=cC.attr(d,a);return null==e?"!="===c:c?(e+="","="===c?e===b:"!="===c?e!==b:"^="===c?b&&0===e.indexOf(b):"*="===c?b&&e.indexOf(b)>-1:"$="===c?b&&e.slice(-b.length)===b:"~="===c?(" "+e+" ").indexOf(b)>-1:"|="===c?e===b||e.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(d,k,j,c,g){var b="nth"!==d.slice(0,3),h="last"!==d.slice(-4),f="of-type"===k;return 1===c&&0===g?function(a){return !!a.parentNode}:function(x,e,o){var B,C,s,q,w,A,a=b!==h?"nextSibling":"previousSibling",i=x.parentNode,z=f&&x.nodeName.toLowerCase(),D=!o&&!f;if(i){if(b){for(;a;){for(s=x;s=s[a];){if(f?s.nodeName.toLowerCase()===z:1===s.nodeType){return !1}}A=a="only"===d&&!A&&"nextSibling"}return !0}if(A=[h?i.firstChild:i.lastChild],h&&D){for(C=i[cj]||(i[cj]={}),B=C[d]||[],w=B[0]===cm&&B[1],q=B[0]===cm&&B[2],s=w&&i.childNodes[w];s=++w&&s&&s[a]||(q=w=0)||A.pop();){if(1===s.nodeType&&++q&&s===x){C[d]=[cm,w,q];break}}}else{if(D&&(B=(x[cj]||(x[cj]={}))[d])&&B[0]===cm){q=B[1]}else{for(;(s=++w&&s&&s[a]||(q=w=0)||A.pop())&&((f?s.nodeName.toLowerCase()!==z:1!==s.nodeType)||!++q||(D&&((s[cj]||(s[cj]={}))[d]=[cm,q]),s!==x));){}}}return q-=g,q===c||0===q%c&&q/c>=0}}},PSEUDO:function(b,d){var c,a=co.pseudos[b]||co.setFilters[b.toLowerCase()]||cC.error("unsupported pseudo: "+b);return a[cj]?a(d):a.length>1?(c=[b,b,"",d],co.setFilters.hasOwnProperty(b.toLowerCase())?cx(function(g,k){for(var h,f=a(g,d),j=f.length;j--;){h=cq.call(g,f[j]),g[h]=!(k[h]=f[j])}}):function(f){return a(f,0,c)}):a}},pseudos:{not:cx(function(b){var d=[],c=[],a=cB(b.replace(b5,"$1"));return a[cj]?cx(function(g,m,l,j){for(var f,k=a(g,null,j,[]),h=g.length;h--;){(f=k[h])&&(g[h]=!(m[h]=f))}}):function(g,h,f){return d[0]=g,a(d,null,f,c),!c.pop()}}),has:cx(function(a){return function(b){return cC(a,b).length>0}}),contains:cx(function(a){return function(b){return(b.textContent||b.innerText||b3(b)).indexOf(a)>-1}}),lang:cx(function(a){return cR.test(a||"")||cC.error("unsupported lang: "+a),a=a.replace(cu,cv).toLowerCase(),function(c){var b;do{if(b=c6?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang")){return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-")}}while((c=c.parentNode)&&1===c.nodeType);return !1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===cX},focus:function(a){return a===cG.activeElement&&(!cG.hasFocus||cG.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType){return !1}}return !0},parent:function(a){return !co.pseudos.empty(a)},header:function(a){return c5.test(a.nodeName)},input:function(a){return cY.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:cU(function(){return[0]}),last:cU(function(a,b){return[b-1]}),eq:cU(function(a,c,b){return[0>b?b+c:b]}),even:cU(function(a,c){for(var b=0;c>b;b+=2){a.push(b)}return a}),odd:cU(function(a,c){for(var b=1;c>b;b+=2){a.push(b)}return a}),lt:cU(function(b,d,c){for(var a=0>c?c+d:c;--a>=0;){b.push(a)}return b}),gt:cU(function(b,d,c){for(var a=0>c?c+d:c;++a<d;){b.push(a)}return b})}};for(ca in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){co.pseudos[ca]=cK(ca)}for(ca in {submit:!0,reset:!0}){co.pseudos[ca]=bX(ca)}return cB=cC.compile=function(c,g){var f,b=[],d=[],a=cb[c+" "];if(!a){for(g||(g=cA(c)),f=g.length;f--;){a=b9(g[f]),a[cj]?b.push(a):d.push(a)}a=cb(c,cs(d,b))}return a},co.pseudos.nth=co.pseudos.eq,c8.prototype=co.filters=co.pseudos,co.setFilters=new c8,cZ.sortStable=cj.split("").sort(cd).join("")===cj,c7(),[0,0].sort(cd),cZ.detectDuplicates=bZ,"function"==typeof bk&&bk.amd?bk(function(){return cC}):window.Sizzle=cC,cC}),bk(bx,[bj,ae],function(B,k){function A(a){return"undefined"!=typeof a}function K(a){return"string"==typeof a}function R(b){var d,c,a;for(a=G.createElement("div"),d=G.createDocumentFragment(),a.innerHTML=b;c=a.firstChild;){d.appendChild(c)}return d}function I(b,d,c){var a;if("string"==typeof d){d=R(d)}else{if(d.length){for(a=0;a<d.length;a++){I(b,d[a],c)}return b}}for(a=b.length;a--;){c.call(b[a],d.parentNode?d:d)}return b}function z(a,b){return a&&b&&-1!==(" "+a.className+" ").indexOf(" "+b+" ")}function j(a,c){var b;for(a=a||[],"string"==typeof a&&(a=a.split(" ")),c=c||{},b=a.length;b--;){c[a[b]]={}}return c}function S(a,b){return new S.fn.init(a,b)}function t(b){var f=arguments,d,a,c;for(a=1;a<f.length;a++){d=f[a];for(c in d){b[c]=d[c]}}return b}function D(b){var d=[],c,a;for(c=0,a=b.length;a>c;c++){d[c]=b[c]}return d}function H(a,c){var b;if(c.indexOf){return c.indexOf(a)}for(b=c.length;b--;){if(c[b]===a){return b}}return -1}function J(d,l){var h,c,f,b,g;if(d){if(h=d.length,h===b){for(c in d){if(d.hasOwnProperty(c)&&(g=d[c],l.call(g,g,c)===!1)){break}}}else{for(f=0;h>f&&(g=d[f],l.call(g,g,c)!==!1);f++){}}}return d}function U(c,f,b){for(var d=[],a=c[f];a&&9!==a.nodeType&&(b===bs||1!==a.nodeType||!S(a).is(b));){1===a.nodeType&&d.push(a),a=a[f]}return d}function F(b,f,d,a){for(var c=[];b;b=b[d]){a&&b.nodeType!==a||b===f||c.push(b)}return c}var G=document,M=Array.prototype.push,Q=Array.prototype.slice,L=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,T=B.Event,O=j("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),E=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},P=/^\s*|\s*$/g,q=function(a){return null===a||a===bs?"":(""+a).replace(P,"")};return S.fn=S.prototype={constructor:S,selector:"",length:0,init:function(c,g){var f=this,b,d;if(!c){return f}if(c.nodeType){return f.context=f[0]=c,f.length=1,f}if(K(c)){if(b="<"===c.charAt(0)&&">"===c.charAt(c.length-1)&&c.length>=3?[null,c,null]:L.exec(c),!b){return S(g||document).find(c)}if(b[1]){for(d=R(c).firstChild;d;){this.add(d),d=d.nextSibling}}else{if(d=G.getElementById(b[2]),d.id!==b[2]){return f.find(c)}f.length=1,f[0]=d}}else{this.add(c)}return f},toArray:function(){return D(this)},add:function(a){var b=this;return E(a)?M.apply(b,a):a instanceof S?b.add(a.toArray()):M.call(b,a),b},attr:function(a,c){var b=this;if("object"==typeof a){J(a,function(d,f){b.attr(f,d)})}else{if(!A(c)){return b[0]&&1===b[0].nodeType?b[0].getAttribute(a):bs}this.each(function(){1===this.nodeType&&this.setAttribute(a,c)})}return b},css:function(a,c){var b=this;if("object"==typeof a){J(a,function(d,f){b.css(f,d)})}else{if(a=a.replace(/-(\D)/g,function(d,f){return f.toUpperCase()}),!A(c)){return b[0]?b[0].style[a]:bs}"number"!=typeof c||O[a]||(c+="px"),b.each(function(){var e=this.style;"opacity"===a&&this.runtimeStyle&&"undefined"==typeof this.runtimeStyle.opacity&&(e.filter=""===c?"":"alpha(opacity="+100*c+")");try{e[a]=c}catch(d){}})}return b},remove:function(){for(var a=this,c,b=this.length;b--;){c=a[b],T.clean(c),c.parentNode&&c.parentNode.removeChild(c)}return this},empty:function(){for(var a=this,c,b=this.length;b--;){for(c=a[b];c.firstChild;){c.removeChild(c.firstChild)}}return this},html:function(a){var c=this,b;if(A(a)){for(b=c.length;b--;){c[b].innerHTML=a}return c}return c[0]?c[0].innerHTML:""},text:function(a){var c=this,b;if(A(a)){for(b=c.length;b--;){c[b].innerText=c[0].textContent=a}return c}return c[0]?c[0].innerText||c[0].textContent:""},append:function(){return I(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return I(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){var a=this;return a[0]&&a[0].parentNode?I(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?I(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},appendTo:function(a){return S(a).append(this),this},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,c){var b=this;return -1!==a.indexOf(" ")?J(a.split(" "),function(){b.toggleClass(this,c)}):b.each(function(){var e=this,d;z(e,a)!==c&&(d=e.className,c?e.className+=d?" "+a:a:e.className=q((" "+d+" ").replace(" "+a+" "," ")))}),b},hasClass:function(a){return z(this[0],a)},each:function(a){return J(this,a)},on:function(a,b){return this.each(function(){T.bind(this,a,b)})},off:function(a,b){return this.each(function(){T.unbind(this,a,b)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new S(Q.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(a){var b=this;return b[0]&&b[0].parentNode.replaceChild(S(a)[0],b[0]),b},wrap:function(a){return a=S(a)[0],this.each(function(){var c=this,b=a.cloneNode(!1);c.parentNode.insertBefore(b,c),b.appendChild(c)})},unwrap:function(){return this.each(function(){for(var a=this,c=a.firstChild,b;c;){b=c,c=c.nextSibling,a.parentNode.insertBefore(b,a)}})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),S(a)},find:function(b){var d,c,a=[];for(d=0,c=this.length;c>d;d++){S.find(b,this[d],a)}return S(a)},push:M,sort:[].sort,splice:[].splice},t(S,{extend:t,toArray:D,inArray:H,isArray:E,each:J,trim:q,makeMap:j,find:k,expr:k.selectors,unique:k.uniqueSort,text:k.getText,isXMLDoc:k.isXML,contains:k.contains,filter:function(a,c,b){return b&&(a=":not("+a+")"),1===c.length?S.find.matchesSelector(c[0],a)?[c[0]]:[]:S.find.matches(a,c)}}),J({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return U(a,"parentNode")},parentsUntil:function(a,b){return U(a,"parentNode",b)},next:function(a){return F(a,"nextSibling",1)},prev:function(a){return F(a,"previousSibling",1)},nextNodes:function(a){return F(a,"nextSibling")},prevNodes:function(a){return F(a,"previousSibling")},children:function(a){return F(a.firstChild,"nextSibling",1)},contents:function(a){return D(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){S.fn[a]=function(e){var c=this,d;if(c.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}return c[0]&&(d=b(c[0],e)),d=S(d),e&&"parentsUntil"!==a?d.filter(e):d}}),S.fn.filter=function(a){return S.filter(a)},S.fn.is=function(a){return !!a&&this.filter(a).length>0},S.fn.init.prototype=S.fn,S}),bk(a7,[],function(){return function(w,k){function f(c,o,l,a){function d(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+d(o)+d(l)+d(a)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,g=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,p=/\s*([^:]+):\s*([^;]+);?/g,m=/\s+$/,x,j,q={},v,h="\ufeff";for(w=w||{},v=("\\\" \\' \\; \\: ; : "+h).split(" "),j=0;j<v.length;j++){q[v[j]]=h+j,q[h+j]=v[j]}return{toHex:function(a){return a.replace(b,f)},parse:function(A){function F(s,C){var y,l,u,d;y=D[s+"-top"+C],y&&(l=D[s+"-right"+C],y==l&&(u=D[s+"-bottom"+C],l==u&&(d=D[s+"-left"+C],u==d&&(D[s+C]=d,delete D[s+"-top"+C],delete D[s+"-right"+C],delete D[s+"-bottom"+C],delete D[s+"-left"+C]))))}function i(d){var s=D[d],l;if(s&&!(s.indexOf(" ")<0)){for(s=s.split(" "),l=s.length;l--;){if(s[l]!==s[0]){return !1}}return D[d]=s[0],!0}}function E(l,u,s,d){i(u)&&i(s)&&i(d)&&(D[l]=D[u]+" "+D[s]+" "+D[d],delete D[u],delete D[s],delete D[d])}function o(d){return G=!0,q[d]}function n(d,l){return G&&(d=d.replace(/\uFEFF[0-9]/g,function(s){return q[s]})),l||(d=d.replace(/\\([\'\";:])/g,"$1")),d}function r(s,C,y,l,u,d){return(u=u||d)?(u=n(u),"'"+u.replace(/\'/g,"\\'")+"'"):(C=n(C||y||l),a&&(C=a.call(z,C,"style")),"url('"+C.replace(/\'/g,"\\'")+"')")}var D={},c,e,B,G,a=w.url_converter,z=w.url_converter_scope||this;if(A){for(A=A.replace(/\\[\"\';:\uFEFF]/g,o).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,o)});c=p.exec(A);){e=c[1].replace(m,"").toLowerCase(),B=c[2].replace(m,""),e&&B.length>0&&("font-weight"===e&&"700"===B?B="bold":("color"===e||"background-color"===e)&&(B=B.toLowerCase()),B=B.replace(b,f),B=B.replace(g,r),D[e]=G?n(B,!0):B),p.lastIndex=c.index+c[0].length}F("border",""),F("border","-width"),F("border","-color"),F("border","-style"),F("padding",""),F("margin",""),E("border","border-width","border-style","border-color"),"medium none"===D.border&&delete D.border}return D},serialize:function(l,u){function d(A){var i,e,y,z;if(i=k.styles[A]){for(e=0,y=i.length;y>e;e++){A=i[e],z=l[A],z!==x&&z.length>0&&(s+=(s.length>0?" ":"")+A+": "+z+";")}}}var s="",c,t;if(u&&k&&k.styles){d("*"),d(u)}else{for(c in l){t=l[c],t!==x&&t.length>0&&(s+=(s.length>0?" ":"")+c+": "+t+";")}}return s}}}}),bk(ah,[],function(){return function(b,d){function c(h,l,g,j){var f,k;if(h){if(!j&&h[l]){return h[l]}if(h!=d){if(f=h[g]){return f}for(k=h.parentNode;k&&k!=d;k=k.parentNode){if(f=k[g]){return f}}}}}var a=b;this.current=function(){return a},this.next=function(f){return a=c(a,"firstChild","nextSibling",f)},this.prev=function(f){return a=c(a,"lastChild","previousSibling",f)}}}),bk(ab,[],function(){function E(a,c){return c?"array"==c&&t(a)?!0:typeof a==c:a!==bs}function k(c){var f=[],d,a;for(d=0,a=c.length;a>d;d++){f[d]=c[d]}return f}function b(c,f,d){var a;for(c=c||[],f=f||",","string"==typeof c&&(c=c.split(f)),d=d||{},a=c.length;a--;){d[c[a]]={}}return d}function q(d,g,c){var f,a;if(!d){return 0}if(c=c||d,d.length!==bs){for(f=0,a=d.length;a>f;f++){if(g.call(c,d[f],f,d)===!1){return 0}}}else{for(f in d){if(d.hasOwnProperty(f)&&g.call(c,d[f],f,d)===!1){return 0}}}return 1}function A(a,d){var c=[];return q(a,function(f){c.push(d(f))}),c}function z(a,d){var c=[];return q(a,function(f){(!d||d(f))&&c.push(f)}),c}function F(H,m,f){var d=this,g,u,p,I,h,G=0;if(H=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(H),p=H[3].match(/(^|\.)(\w+)$/i)[2],u=d.createNS(H[3].replace(/\.\w+$/,""),f),!u[p]){if("static"==H[2]){return u[p]=m,this.onCreate&&this.onCreate(H[2],H[3],u[p]),void 0}m[p]||(m[p]=function(){},G=1),u[p]=m[p],d.extend(u[p].prototype,m),H[5]&&(g=d.resolve(H[5]).prototype,I=H[5].match(/\.(\w+)$/i)[1],h=u[p],u[p]=G?function(){return g[I].apply(this,arguments)}:function(){return this.parent=g[I],h.apply(this,arguments)},u[p].prototype[p]=u[p],d.each(g,function(a,c){u[p].prototype[c]=g[c]}),d.each(m,function(a,c){g[c]?u[p].prototype[c]=function(){return this.parent=g[c],a.apply(this,arguments)}:c!=p&&(u[p].prototype[c]=a)})),d.each(m["static"],function(a,c){u[p][c]=a})}}function y(c,f){var d,a;if(c){for(d=0,a=c.length;a>d;d++){if(c[d]===f){return d}}}return -1}function C(f,m){var d,h,c,l=arguments,g;for(d=1,h=l.length;h>d;d++){m=l[d];for(c in m){m.hasOwnProperty(c)&&(g=m[c],g!==bs&&(f[c]=g))}}return f}function D(c,f,d,a){a=a||this,c&&(d&&(c=c[d]),q(c,function(g,h){return f.call(a,g,h,d)===!1?!1:(D(g,f,d,a),void 0)}))}function x(c,f){var d,a;for(f=f||window,c=c.split("."),d=0;d<c.length;d++){a=c[d],f[a]||(f[a]={}),f=f[a]}return f}function w(c,f){var d,a;for(f=f||window,c=c.split("."),d=0,a=c.length;a>d&&(f=f[c[d]],f);d++){}return f}function v(c,a){return !c||E(c,"array")?c:A(c.split(a||","),j)}var B=/^\s*|\s*$/g,j=function(a){return null===a||a===bs?"":(""+a).replace(B,"")},t=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:j,isArray:t,is:E,toArray:k,makeMap:b,each:q,map:A,grep:z,inArray:y,extend:C,create:F,walk:D,createNS:x,resolve:w,explode:v}}),bk(bh,[ab],function(a){function b(at){function ck(){return t.createDocumentFragment()}function cj(c,d){cp(e,c,d)}function ca(c,d){cp(cc,c,d)}function ce(c){cj(c.parentNode,cn(c))}function ci(c){cj(c.parentNode,cn(c)+1)}function co(c){ca(c.parentNode,cn(c))}function b3(c){ca(c.parentNode,cn(c)+1)}function b9(c){c?(b4[Y]=b4[bX],b4[b1]=b4[Z]):(b4[bX]=b4[Y],b4[Z]=b4[b1]),b4.collapsed=e}function cm(c){ce(c),b3(c)}function bZ(c){cj(c,0),ca(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function b6(q,j){var f=b4[bX],d=b4[Z],g=b4[Y],m=b4[b1],k=j.startContainer,u=j.startOffset,h=j.endContainer,p=j.endOffset;return 0===q?b5(f,d,k,u):1===q?b5(g,m,k,u):2===q?b5(g,m,h,p):3===q?b5(f,d,h,p):void 0}function Q(){b8(K)}function bV(){return b8(cl)}function b0(){return b8(bY)}function G(f){var h=this[bX],d=this[Z],g,c;3!==h.nodeType&&4!==h.nodeType||!h.nodeValue?(h.childNodes.length>0&&(c=h.childNodes[d]),c?h.insertBefore(f,c):h.appendChild(f)):d?d>=h.nodeValue.length?at.insertAfter(f,h):(g=h.splitText(d),h.parentNode.insertBefore(f,g)):h.parentNode.insertBefore(f,h)}function bW(c){var d=b4.extractContents();b4.insertNode(c),c.appendChild(d),b4.selectNode(c)}function cq(){return cd(new b(at),{startContainer:b4[bX],startOffset:b4[Z],endContainer:b4[Y],endOffset:b4[b1],collapsed:b4.collapsed,commonAncestorContainer:b4.commonAncestorContainer})}function b2(c,f){var d;if(3==c.nodeType){return c}if(0>f){return c}for(d=c.firstChild;d&&f>0;){--f,d=d.nextSibling}return d?d:c}function cg(){return b4[bX]==b4[Y]&&b4[Z]==b4[b1]}function b5(p,h,d,f){var k,j,q,g,m,n;if(p==d){return h==f?0:f>h?-1:1}for(k=d;k&&k.parentNode!=p;){k=k.parentNode}if(k){for(j=0,q=p.firstChild;q!=k&&h>j;){j++,q=q.nextSibling}return j>=h?-1:1}for(k=p;k&&k.parentNode!=d;){k=k.parentNode}if(k){for(j=0,q=d.firstChild;q!=k&&f>j;){j++,q=q.nextSibling}return f>j?-1:1}for(g=at.findCommonAncestor(p,d),m=p;m&&m.parentNode!=g;){m=m.parentNode}for(m||(m=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),m==n){return 0}for(q=g.firstChild;q;){if(q==m){return -1}if(q==n){return 1}q=q.nextSibling}}function cp(f,h,d){var g,c;for(f?(b4[bX]=h,b4[Z]=d):(b4[Y]=h,b4[b1]=d),g=b4[Y];g.parentNode;){g=g.parentNode}for(c=b4[bX];c.parentNode;){c=c.parentNode}c==g?b5(b4[bX],b4[Z],b4[Y],b4[b1])>0&&b4.collapse(f):b4.collapse(f),b4.collapsed=cg(),b4.commonAncestorContainer=at.findCommonAncestor(b4[bX],b4[Y])}function b8(q){var j,f=0,d=0,g,m,k,u,h,p;if(b4[bX]==b4[Y]){return ch(q)}for(j=b4[Y],g=j.parentNode;g;j=g,g=g.parentNode){if(g==b4[bX]){return b7(j,q)}++f}for(j=b4[bX],g=j.parentNode;g;j=g,g=g.parentNode){if(g==b4[Y]){return X(j,q)}++d}for(m=d-f,k=b4[bX];m>0;){k=k.parentNode,m--}for(u=b4[Y];0>m;){u=u.parentNode,m++}for(h=k.parentNode,p=u.parentNode;h!=p;h=h.parentNode,p=p.parentNode){k=h,u=p}return cr(k,u,q)}function ch(q){var h,d,f,k,j,r,g,m,p;if(q!=K&&(h=ck()),b4[Z]==b4[b1]){return h}if(3==b4[bX].nodeType){if(d=b4[bX].nodeValue,f=d.substring(b4[Z],b4[b1]),q!=bY&&(k=b4[bX],m=b4[Z],p=b4[b1]-b4[Z],0===m&&p>=k.nodeValue.length-1?k.parentNode.removeChild(k):k.deleteData(m,p),b4.collapse(e)),q==K){return}return f.length>0&&h.appendChild(t.createTextNode(f)),h}for(k=b2(b4[bX],b4[Z]),j=b4[b1]-b4[Z];k&&j>0;){r=k.nextSibling,g=bt(k,q),h&&h.appendChild(g),--j,k=r}return q!=bY&&b4.collapse(e),h}function b7(d,m){var k,g,c,h,f,j;if(m!=K&&(k=ck()),g=cb(d,m),k&&k.appendChild(g),c=cn(d),h=c-b4[Z],0>=h){return m!=bY&&(b4.setEndBefore(d),b4.collapse(cc)),k}for(g=d.previousSibling;h>0;){f=g.previousSibling,j=bt(g,m),k&&k.insertBefore(j,k.firstChild),--h,g=f}return m!=bY&&(b4.setEndBefore(d),b4.collapse(cc)),k}function X(d,m){var k,g,c,h,f,j;for(m!=K&&(k=ck()),c=cs(d,m),k&&k.appendChild(c),g=cn(d),++g,h=b4[b1]-g,c=d.nextSibling;c&&h>0;){f=c.nextSibling,j=bt(c,m),k&&k.appendChild(j),--h,c=f}return m!=bY&&(b4.setStartAfter(d),b4.collapse(e)),k}function cr(v,k,f){var g,p,m,w,j,q,r,h;for(f!=K&&(p=ck()),g=cs(v,f),p&&p.appendChild(g),m=v.parentNode,w=cn(v),j=cn(k),++w,q=j-w,r=v.nextSibling;q>0;){h=r.nextSibling,g=bt(r,f),p&&p.appendChild(g),r=h,--q}return g=cb(k,f),p&&p.appendChild(g),f!=bY&&(b4.setStartAfter(v),b4.collapse(e)),p}function cb(m,h){var d=b2(b4[Y],b4[b1]-1),c,f,k,j,p,g=d!=b4[Y];if(d==m){return cf(d,g,cc,h)}for(c=d.parentNode,f=cf(c,cc,cc,h);c;){for(;d;){k=d.previousSibling,j=cf(d,g,cc,h),h!=K&&f.insertBefore(j,f.firstChild),g=e,d=k}if(c==m){return f}d=c.previousSibling,c=c.parentNode,p=cf(c,cc,cc,h),h!=K&&p.appendChild(f),f=p}}function cs(m,h){var d=b2(b4[bX],b4[Z]),c=d!=b4[bX],f,k,j,p,g;if(d==m){return cf(d,c,e,h)}for(f=d.parentNode,k=cf(f,cc,e,h);f;){for(;d;){j=d.nextSibling,p=cf(d,c,e,h),h!=K&&k.appendChild(p),c=e,d=j}if(f==m){return k}d=f.nextSibling,f=f.parentNode,g=cf(f,cc,e,h),h!=K&&g.appendChild(k),k=g}}function cf(n,h,d,f){var k,j,p,g,m;if(h){return bt(n,f)}if(3==n.nodeType){if(k=n.nodeValue,d?(g=b4[Z],j=k.substring(g),p=k.substring(0,g)):(g=b4[b1],j=k.substring(0,g),p=k.substring(g)),f!=bY&&(n.nodeValue=p),f==K){return}return m=at.clone(n,cc),m.nodeValue=j,m}if(f!=K){return at.clone(n,cc)}}function bt(c,d){return d!=K?d==bY?at.clone(c,e):c:(c.parentNode.removeChild(c),void 0)}function J(){return at.create("body",null,b0()).outerText}var b4=this,t=at.doc,cl=0,bY=1,K=2,e=!0,cc=!1,Z="startOffset",bX="startContainer",Y="endContainer",b1="endOffset",cd=a.extend,cn=at.nodeIndex;return cd(b4,{startContainer:t,startOffset:0,endContainer:t,endOffset:0,collapsed:e,commonAncestorContainer:t,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:cj,setEnd:ca,setStartBefore:ce,setStartAfter:ci,setEndBefore:co,setEndAfter:b3,collapse:b9,selectNode:cm,selectNodeContents:bZ,compareBoundaryPoints:b6,deleteContents:Q,extractContents:bV,cloneContents:b0,insertNode:G,surroundContents:bW,cloneRange:cq,toStringIE:J}),b4}return b.prototype.toString=function(){return this.toStringIE()},b}),bk(a6,[ab],function(y){function p(a){var c;return c=document.createElement("div"),c.innerHTML=a,c.textContent||c.innerText||a}function g(d,s){var o,c,f,l={};if(d){for(d=d.split(","),s=s||10,o=0;o<d.length;o+=2){c=String.fromCharCode(parseInt(d[o],s)),v[c]||(f="&"+d[o+1]+";",l[c]=f,l[f]=c)}return l}}var b=y.makeMap,h,v,q,z=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/[<>&\"\']/g,x=/&(#x|#)?([\w]+);/g,k={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};v={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},q={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},h=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var j={encodeRaw:function(a,c){return a.replace(c?z:m,function(d){return v[d]||d})},encodeAllRaw:function(a){return(""+a).replace(w,function(c){return v[c]||c})},encodeNumeric:function(a,c){return a.replace(c?z:m,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":v[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(a,d,c){return c=c||h,a.replace(d?z:m,function(f){return v[f]||c[f]||f})},getEncodeFunc:function(f,l){function i(a,c){return a.replace(c?z:m,function(n){return v[n]||l[n]||"&#"+n.charCodeAt(0)+";"||n})}function d(a,c){return j.encodeNamed(a,c,l)}return l=g(l)||h,f=b(f.replace(/\+/g,",")),f.named&&f.numeric?i:f.named?l?d:j.encodeNamed:f.numeric?j.encodeNumeric:j.encodeRaw},decode:function(a){return a.replace(x,function(d,f,c){return f?(c=parseInt(c,2===f.length?16:10),c>65535?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c))):k[c]||String.fromCharCode(c)):q[d]||h[d]||p(d)})}};return j}),bk(bp,[],function(){var k=navigator,g=k.userAgent,c,b,d,j,h,m;c=window.opera&&window.opera.buildNumber,b=/WebKit/.test(g),d=!b&&!c&&/MSIE/gi.test(g)&&/Explorer/gi.test(k.appName),d=d&&/MSIE (\w+)\./.exec(g)[1],j=!b&&/Gecko/.test(g),h=-1!=g.indexOf("Mac"),m=/(iPad|iPhone)/.test(g);var f=!m||g.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:c,webkit:b,ie:d,gecko:j,mac:h,iOS:m,contentEditable:f,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=d,range:window.getSelection&&"Range" in window,documentMode:d?document.documentMode||7:10}}),bk(av,[ae,a7,bj,ah,bh,a6,bp,ab],function(x,k,w,F,J,D,t,j){function K(b,d){var c=this,a;c.doc=b,c.win=window,c.files={},c.counter=0,c.stdMode=!B||b.documentMode>=8,c.boxModel=!B||"CSS1Compat"==b.compatMode||c.stdMode,c.hasOuterHTML="outerHTML" in b.createElement("a"),c.settings=d=L({keep_values:!1,hex_colors:1},d),c.schema=d.schema,c.styles=new k({url_converter:d.url_converter,url_converter_scope:d.url_converter_scope},d.schema),c.fixDoc(b),c.events=d.ownEvents?new w(d.proxy):w.Event,a=d.schema?d.schema.getBlockElements():{},c.isBlock=function(f){if(!f){return !1}var g=f.nodeType;return g?!(1!==g||!a[f.nodeName]):!!a[f]}}var q=j.each,z=j.is,C=j.grep,E=j.trim,L=j.extend,A=t.webkit,B=t.ie,H=/^([a-z0-9],?)+$/i,I=/^[ \t\r\n]*$/,G=j.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return K.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(a){var c=this.settings,b;if(B&&c.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){a.createElement(d)});for(b in c.schema.getCustomElements()){a.createElement(b)}}},clone:function(b,f){var d=this,a,c;return !B||1!==b.nodeType||f?b.cloneNode(f):(c=d.doc,f?a.firstChild:(a=c.createElement(b.nodeName),q(d.getAttribs(b),function(e){d.setAttrib(a,e.nodeName,d.getAttrib(b,e.nodeName))}),a))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(a){var c,b;return a=a?a:this.win,c=a.document,b=this.boxModel?c.documentElement:c.body,{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(b){var d=this,c,a;return b=d.get(b),c=d.getPos(b),a=d.getSize(b),{x:c.x,y:c.y,w:a.w,h:a.h}},getSize:function(b){var d=this,c,a;return b=d.get(b),c=d.getStyle(b,"width"),a=d.getStyle(b,"height"),-1===c.indexOf("px")&&(c=0),-1===a.indexOf("px")&&(a=0),{w:parseInt(c,10)||b.offsetWidth||b.clientWidth,h:parseInt(a,10)||b.offsetHeight||b.clientHeight}},getParent:function(a,c,b){return this.getParents(a,c,b,!1)},getParents:function(d,l,c,g){var b=this,h,f=[];for(d=b.get(d),g=g===bs,c=c||("BODY"!=b.getRoot().nodeName?b.getRoot().parentNode:null),z(l,"string")&&(h=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return b.is(a,h)});d&&d!=c&&d.nodeType&&9!==d.nodeType;){if(!l||l(d)){if(!g){return d}f.push(d)}d=d.parentNode}return g?f:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,a=this.doc.getElementById(a),a&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(c,b){var a=this;return x(c,a.get(b)||a.get(a.settings.root_element)||a.doc,[])},is:function(c,a){var b;if(c.length===bs){if("*"===a){return 1==c.nodeType}if(H.test(a)){for(a=a.toLowerCase().split(/,/),c=c.nodeName.toLowerCase(),b=a.length-1;b>=0;b--){if(a[b]==c){return !0}}return !1}}return c.nodeType&&1!=c.nodeType?!1:x.matches(a,c.nodeType?[c]:c).length>0},add:function(c,g,f,b,d){var a=this;return this.run(c,function(h){var i;return i=z(g,"string")?a.doc.createElement(g):g,a.setAttribs(i,f),b&&(b.nodeType?i.appendChild(b):a.setHTML(i,b)),d?i:h.appendChild(i)})},create:function(a,c,b){return this.add(this.doc.createElement(a),a,c,b,1)},createHTML:function(b,f,d){var a="",c;a+="<"+b;for(c in f){f.hasOwnProperty(c)&&null!==f[c]&&(a+=" "+c+'="'+this.encode(f[c])+'"')}return"undefined"!=typeof d?a+">"+d+"</"+b+">":a+" />"},createFragment:function(b){var f,d,a=this.doc,c;for(c=a.createElement("div"),f=a.createDocumentFragment(),b&&(c.innerHTML=b);d=c.firstChild;){f.appendChild(d)}return f},remove:function(a,b){return this.run(a,function(d){var f,c=d.parentNode;if(!c){return null}if(b){for(;f=d.firstChild;){!B||3!==f.nodeType||f.nodeValue?c.insertBefore(f,d):d.removeChild(f)}}return c.removeChild(d)})},setStyle:function(a,c,b){return this.run(a,function(g){var f=this,h,d;if(c){if("string"==typeof c){h=g.style,c=c.replace(/-(\D)/g,function(i,m){return m.toUpperCase()}),"number"!=typeof b||G[c]||(b+="px"),"opacity"===c&&g.runtimeStyle&&"undefined"==typeof g.runtimeStyle.opacity&&(h.filter=""===b?"":"alpha(opacity="+100*b+")"),"float"==c&&(c="cssFloat" in g.style?"cssFloat":"styleFloat");try{h[c]=b}catch(l){}f.settings.update_styles&&g.removeAttribute("data-mce-style")}else{for(d in c){f.setStyle(g,d,c[d])}}}})},getStyle:function(b,d,a){if(b=this.get(b)){if(this.doc.defaultView&&a){d=d.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(b,null).getPropertyValue(d)}catch(c){return null}}return d=d.replace(/-(\D)/g,function(f,g){return g.toUpperCase()}),"float"==d&&(d=B?"styleFloat":"cssFloat"),d.currentStyle&&a?b.currentStyle[d]:b.style?b.style[d]:bs}},setStyles:function(a,b){this.setStyle(a,b)},css:function(a,c,b){this.setStyle(a,c,b)},removeAllAttribs:function(a){return this.run(a,function(b){var d,c=b.attributes;for(d=c.length-1;d>=0;d--){b.removeAttributeNode(c.item(d))}})},setAttrib:function(b,d,c){var a=this;if(b&&d){return this.run(b,function(g){var h=a.settings,f=g.getAttribute(d);if(null!==c){switch(d){case"style":if(!z(c,"string")){return q(c,function(i,e){a.setStyle(g,e,i)}),void 0}h.keep_values&&(c?g.setAttribute("data-mce-style",c,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=c;break;case"class":g.className=c||"";break;case"src":case"href":h.keep_values&&(h.url_converter&&(c=h.url_converter.call(h.url_converter_scope||a,c,d,g)),a.setAttrib(g,"data-mce-"+d,c,2));break;case"shape":g.setAttribute("data-mce-style",c)}}z(c)&&null!==c&&0!==c.length?g.setAttribute(d,""+c,2):g.removeAttribute(d,2),f!=c&&h.onSetAttrib&&h.onSetAttrib({attrElm:g,attrName:d,attrValue:c})})}},setAttribs:function(a,c){var b=this;return this.run(a,function(d){q(c,function(f,e){b.setAttrib(d,e,f)})})},getAttrib:function(c,g,f){var b,d=this,a;if(c=d.get(c),!c||1!==c.nodeType){return f===a?!1:f}if(z(f)||(f=""),/^(src|href|style|coords|shape)$/.test(g)&&(b=c.getAttribute("data-mce-"+g))){return b}if(B&&d.props[g]&&(b=c[d.props[g]],b=b&&b.nodeValue?b.nodeValue:b),b||(b=c.getAttribute(g,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(g)){return c[d.props[g]]===!0&&""===b?g:b?g:""}if("FORM"===c.nodeName&&c.getAttributeNode(g)){return c.getAttributeNode(g).nodeValue}if("style"===g&&(b=b||c.style.cssText,b&&(b=d.serializeStyle(d.parseStyle(b),c.nodeName),d.settings.keep_values&&c.setAttribute("data-mce-style",b))),A&&"class"===g&&b&&(b=b.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),B){switch(g){case"rowspan":case"colspan":1===b&&(b="");break;case"size":("+0"===b||20===b||0===b)&&(b="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===b&&(b="");break;case"hspace":-1===b&&(b="");break;case"maxlength":case"tabindex":(32768===b||2147483647===b||"32768"===b)&&(b="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===b?g:f;case"shape":b=b.toLowerCase();break;default:0===g.indexOf("on")&&b&&(b=(""+b).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return b!==a&&null!==b&&""!==b?""+b:f},getPos:function(d,m){var l=this,c=0,g=0,b,h=l.doc,f;if(d=l.get(d),m=m||h.body,d){if(m===h.body&&d.getBoundingClientRect){return f=d.getBoundingClientRect(),m=l.boxModel?h.documentElement:h.body,c=f.left+(h.documentElement.scrollLeft||h.body.scrollLeft)-m.clientTop,g=f.top+(h.documentElement.scrollTop||h.body.scrollTop)-m.clientLeft,{x:c,y:g}}for(b=d;b&&b!=m&&b.nodeType;){c+=b.offsetLeft||0,g+=b.offsetTop||0,b=b.offsetParent}for(b=d.parentNode;b&&b!=m&&b.nodeType;){c-=b.scrollLeft||0,g-=b.scrollTop||0,b=b.parentNode}}return{x:c,y:g}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(c){var g=this,f=g.doc,b,d;if(g!==K.DOM&&f===document){var a=K.DOM.addedStyles;if(a=a||[],a[c]){return}a[c]=!0,K.DOM.addedStyles=a}d=f.getElementById("mceDefaultStyles"),d||(d=f.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",b=f.getElementsByTagName("head")[0],b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d)),d.styleSheet?d.styleSheet.cssText+=c:d.appendChild(f.createTextNode(c))},loadCSS:function(b){var d=this,c=d.doc,a;return d!==K.DOM&&c===document?(K.DOM.loadCSS(b),void 0):(b||(b=""),a=c.getElementsByTagName("head")[0],q(b.split(","),function(f){var g;d.files[f]||(d.files[f]=!0,g=d.create("link",{rel:"stylesheet",href:f}),B&&c.documentMode&&c.recalc&&(g.onload=function(){c.recalc&&c.recalc(),g.onload=null}),a.appendChild(g))}),void 0)},addClass:function(a,b){return this.run(a,function(c){var d;return b?this.hasClass(c,b)?c.className:(d=this.removeClass(c,b),c.className=d=(""!==d?d+" ":"")+b,d):0})},removeClass:function(b,d){var c=this,a;return c.run(b,function(f){var g;return c.hasClass(f,d)?(a||(a=new RegExp("(^|\\s+)"+d+"(\\s+|$)","g")),g=f.className.replace(a," "),g=E(" "!=g?g:""),f.className=g,g||(f.removeAttribute("class"),f.removeAttribute("className")),g):f.className})},hasClass:function(a,b){return a=this.get(a),a&&b?-1!==(" "+a.className+" ").indexOf(" "+b+" "):!1},toggleClass:function(b,c,a){a=a===bs?!this.hasClass(b,c):a,this.hasClass(b,c)!==a&&(a?this.addClass(b,c):this.removeClass(b,c))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,c){var b=this;return b.run(a,function(f){if(B){for(;f.firstChild;){f.removeChild(f.firstChild)}try{f.innerHTML="<br />"+c,f.removeChild(f.firstChild)}catch(d){var g=b.create("div");g.innerHTML="<br />"+c,q(C(g.childNodes),function(h,e){e&&f.canHaveHTML&&f.appendChild(h)})}}else{f.innerHTML=c}return c})},getOuterHTML:function(a){var c,b=this;return(a=b.get(a))?1===a.nodeType&&b.hasOuterHTML?a.outerHTML:(c=(a.ownerDocument||b.doc).createElement("body"),c.appendChild(a.cloneNode(!0)),c.innerHTML):null},setOuterHTML:function(b,d,c){var a=this;return a.run(b,function(g){function h(){var l,e;for(e=c.createElement("body"),e.innerHTML=d,l=e.lastChild;l;){a.insertAfter(l.cloneNode(!0),g),l=l.previousSibling}a.remove(g)}if(1==g.nodeType){if(c=c||g.ownerDocument||a.doc,B){try{1==g.nodeType&&a.hasOuterHTML?g.outerHTML=d:h()}catch(f){h()}}else{h()}}})},decode:D.decode,encode:D.encodeAllRaw,insertAfter:function(a,b){return b=this.get(b),this.run(a,function(d){var f,c;return f=b.parentNode,c=b.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(b,d,c){var a=this;return a.run(d,function(e){return z(e,"array")&&(b=b.cloneNode(!0)),c&&q(C(e.childNodes),function(f){b.appendChild(f)}),e.parentNode.replaceChild(b,e)})},rename:function(b,d){var c=this,a;return b.nodeName!=d.toUpperCase()&&(a=c.create(d),q(c.getAttribs(b),function(e){c.setAttrib(a,e.nodeName,c.getAttrib(b,e.nodeName))}),c.replace(a,b,1)),a||b},findCommonAncestor:function(b,d){for(var c=b,a;c;){for(a=d;a&&c!=a;){a=a.parentNode}if(c==a){break}c=c.parentNode}return !c&&b.ownerDocument?b.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(j.trim(a))},getClasses:function(){function d(a){q(a.imports,function(e){d(e)}),q(a.cssRules||a.rules,function(e){switch(e.type||1){case 1:e.selectorText&&q(e.selectorText.split(","),function(i){i=i.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(i)&&/\.[\w\-]+$/.test(i)&&(b=i,i=i.replace(/.*\.([a-z0-9_\-]+).*/i,"$1"),(!f||(i=f(i,b)))&&(c[i]||(h.push({"class":i}),c[i]=1)))});break;case 3:d(e.styleSheet)}})}var l=this,h=[],c={},f=l.settings.class_filter,b;if(l.classes){return l.classes}try{q(l.doc.styleSheets,d)}catch(g){}return h.length>0&&(l.classes=h),h},run:function(b,f,d){var a=this,c;return"string"==typeof b&&(b=a.get(b)),b?(d=d||this,b.nodeType||!b.length&&0!==b.length?f.call(d,b):(c=[],q(b,function(h,g){h&&("string"==typeof h&&(h=a.get(h)),c.push(f.call(d,h,g)))}),c)):!1},getAttribs:function(a){var c;if(a=this.get(a),!a){return[]}if(B){if(c=[],"OBJECT"==a.nodeName){return a.attributes}"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&c.push({specified:1,nodeName:"selected"});var b=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return a.cloneNode(!1).outerHTML.replace(b,"").replace(/[\w:\-]+/gi,function(d){c.push({specified:1,nodeName:d})}),c}return a.attributes},isEmpty:function(p,g){var d=this,b,i,h,u,f,m=0;if(p=p.firstChild){u=new F(p,p.parentNode),g=g||d.schema?d.schema.getNonEmptyElements():null;do{if(h=p.nodeType,1===h){if(p.getAttribute("data-mce-bogus")){continue}if(f=p.nodeName.toLowerCase(),g&&g[f]){if("br"===f){m++;continue}return !1}for(i=d.getAttribs(p),b=p.attributes.length;b--;){if(f=p.attributes[b].nodeName,"name"===f||"data-mce-bookmark"===f){return !1}}}if(8==h){return !1}if(3===h&&!I.test(p.nodeValue)){return !1}}while(p=u.next())}return 1>=m},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new J(this)},nodeIndex:function(c,g){var f=0,b,d,a;if(c){for(b=c.nodeType,c=c.previousSibling,d=c;c;c=c.previousSibling){a=c.nodeType,(!g||3!=a||a!=b&&c.nodeValue.length)&&(f++,b=a)}}return f},split:function(p,g,c){function b(l){function M(a){var s=a.previousSibling&&"SPAN"==a.previousSibling.nodeName,o=a.nextSibling&&"SPAN"==a.nextSibling.nodeName;return s&&o}var y,i=l.childNodes,v=l.nodeType;if(1!=v||"bookmark"!=l.getAttribute("data-mce-type")){for(y=i.length-1;y>=0;y--){b(i[y])}if(9!=v){if(3==v&&l.nodeValue.length>0){var r=E(l.nodeValue).length;if(!d.isBlock(l.parentNode)||r>0||0===r&&M(l)){return}}else{if(1==v&&(i=l.childNodes,1==i.length&&i[0]&&1==i[0].nodeType&&"bookmark"==i[0].getAttribute("data-mce-type")&&l.parentNode.insertBefore(i[0],l),i.length||/^(br|hr|input|img)$/i.test(l.nodeName))){return}}d.remove(l)}return l}}var d=this,m=d.createRng(),h,u,f;return p&&g?(m.setStart(p.parentNode,d.nodeIndex(p)),m.setEnd(g.parentNode,d.nodeIndex(g)),h=m.extractContents(),m=d.createRng(),m.setStart(g.parentNode,d.nodeIndex(g)+1),m.setEnd(p.parentNode,d.nodeIndex(p)+1),u=m.extractContents(),f=p.parentNode,f.insertBefore(b(h),p),c?f.replaceChild(c,g):f.insertBefore(g,p),f.insertBefore(b(u),p),d.remove(p),c||g):void 0},bind:function(b,d,c,a){return this.events.bind(b,d,c,a||this)},unbind:function(a,c,b){return this.events.unbind(a,c,b)},fire:function(a,c,b){return this.events.fire(a,c,b)},getContentEditable:function(a){var b;return 1!=a.nodeType?null:(b=a.getAttribute("data-mce-contenteditable"),b&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null)},destroy:function(){var a=this;a.win=a.doc=a.root=a.events=a.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(b,f,d){var a=this,c=f;if(b){for("string"==typeof c&&(c=function(g){return a.is(g,f)}),b=b[d];b;b=b[d]){if(c(b)){return b}}}return null}},K.DOM=new K(document),K}),bk(aY,[av,ab],function(c,g){function f(){function r(u,A){function z(){l.remove(w),y&&(y.onreadystatechange=y.onload=y=null),A()}function x(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+u)}var l=b,y,w;w=l.uniqueId(),y=document.createElement("script"),y.id=w,y.type="text/javascript",y.src=u,"onreadystatechange" in y?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&z()}:y.onload=z,y.onerror=x,(document.getElementsByTagName("head")[0]||document.body).appendChild(y)}var m=0,h=1,o=2,v={},k=[],p={},q=[],j=0,i;this.isDone=function(l){return v[l]==o},this.markDone=function(l){v[l]=o},this.add=this.load=function(s,u,l){var t=v[s];t==i&&(k.push(s),v[s]=m),u&&(p[s]||(p[s]=[]),p[s].push({func:u,scope:l||this}))},this.loadQueue=function(l,n){this.loadScripts(k,l,n)},this.loadScripts=function(w,e,u){function n(l){d(p[l],function(t){t.func.call(t.scope)}),p[l]=i}var s;q.push({func:e,scope:u||this}),s=function(){var l=a(w);w.length=0,d(l,function(x){return v[x]==o?(n(x),void 0):(v[x]!=h&&(v[x]=h,j++,r(x,function(){v[x]=o,j--,n(x),s()})),void 0)}),j||(d(q,function(t){t.func.call(t.scope)}),q.length=0)},s()}}var b=c.DOM,d=g.each,a=g.grep;return f.ScriptLoader=new f,f}),bk(aq,[aY,ab],function(b,d){function a(){var f=this;f.items=[],f.urls={},f.lookup={}}var c=d.each;return a.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:bs},dependencies:function(f){var g;return this.lookup[f]&&(g=this.lookup[f].dependencies),g||[]},requireLangPack:function(f){var e=a.settings;e&&e.language&&e.language_load!==!1&&b.ScriptLoader.add(this.urls[f]+"/langs/"+e.language+".js")},add:function(f,h,g){return this.items.push(h),this.lookup[f]={instance:h,dependencies:g},h},createUrl:function(f,g){return"object"==typeof g?g:{prefix:f.prefix,resource:g,suffix:f.suffix}},addComponents:function(g,f){var e=this.urls[g];c(f,function(h){b.ScriptLoader.add(e+"/"+h)})},load:function(k,e,h,g){function j(){var l=f.dependencies(k);c(l,function(m){var o=f.createUrl(e,m);f.load(o.resource,o,bs,bs)}),h&&(g?h.call(g):h.call(b))}var f=this,i=e;f.urls[k]||("object"==typeof e&&(i=e.prefix+e.resource+e.suffix),0!==i.indexOf("/")&&-1==i.indexOf("://")&&(i=a.baseURL+"/"+i),f.urls[k]=i.substring(0,i.lastIndexOf("/")),f.lookup[k]?j():b.ScriptLoader.add(i,j,g))}},a.PluginManager=new a,a.ThemeManager=new a,a}),bk(bH,[],function(){function b(h,m,l){var g,j,f=l?"lastChild":"firstChild",k=l?"prev":"next";if(h[f]){return h[f]}if(h!==m){if(g=h[k]){return g}for(j=h.parent;j&&j!==m;j=j.parent){if(g=j[k]){return g}}}}function d(f,g){this.name=f,this.type=g,1===g&&(this.attributes=[],this.attributes.map={})}var c=/^[ \t\r\n]*$/,a={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return d.prototype={replace:function(f){var g=this;return f.parent&&f.remove(),g.insert(f,g),g.remove(),g},attr:function(h,l){var k=this,g,j,f;if("string"!=typeof h){for(j in h){k.attr(j,h[j])}return k}if(g=k.attributes){if(l!==f){if(null===l){if(h in g.map){for(delete g.map[h],j=g.length;j--;){if(g[j].name===h){return g=g.splice(j,1),k}}}return k}if(h in g.map){for(j=g.length;j--;){if(g[j].name===h){g[j].value=l;break}}}else{g.push({name:h,value:l})}return g.map[h]=l,k}return g.map[h]}},clone:function(){var h=this,m=new d(h.name,h.type),g,k,f,l,j;if(f=h.attributes){for(j=[],j.map={},g=0,k=f.length;k>g;g++){l=f[g],"id"!==l.name&&(j[j.length]={name:l.name,value:l.value},j.map[l.name]=l.value)}m.attributes=j}return m.value=h.value,m.shortEnded=h.shortEnded,m},wrap:function(f){var g=this;return g.parent.insert(f,g),f.append(g),g},unwrap:function(){var f=this,h,g;for(h=f.firstChild;h;){g=h.next,f.insert(h,f,!0),h=g}f.remove()},remove:function(){var g=this,i=g.parent,h=g.next,f=g.prev;return i&&(i.firstChild===g?(i.firstChild=h,h&&(h.prev=null)):f.next=h,i.lastChild===g?(i.lastChild=f,f&&(f.next=null)):h.prev=f,g.parent=g.next=g.prev=null),g},append:function(f){var h=this,g;return f.parent&&f.remove(),g=h.lastChild,g?(g.next=f,f.prev=g,h.lastChild=f):h.lastChild=h.firstChild=f,f.parent=h,f},insert:function(g,i,h){var f;return g.parent&&g.remove(),f=i.parent||this,h?(i===f.firstChild?f.firstChild=g:i.prev.next=g,g.prev=i.prev,g.next=i,i.prev=g):(i===f.lastChild?f.lastChild=g:i.next.prev=g,g.next=i.next,g.prev=i,i.next=g),g.parent=f,g},getAll:function(h){var g=this,e,f=[];for(e=g.firstChild;e;e=b(e,g)){e.name===h&&f.push(e)}return f},empty:function(){var h=this,g,e,f;if(h.firstChild){for(g=[],f=h.firstChild;f;f=b(f,h)){g.push(f)}for(e=g.length;e--;){f=g[e],f.parent=f.firstChild=f.lastChild=f.next=f.prev=null}}return h.firstChild=h.lastChild=null,h},isEmpty:function(j){var f=this,g=f.firstChild,e,h;if(g){do{if(1===g.type){if(g.attributes.map["data-mce-bogus"]){continue}if(j[g.name]){return !1}for(e=g.attributes.length;e--;){if(h=g.attributes[e].name,"name"===h||0===h.indexOf("data-mce-")){return !1}}}if(8===g.type){return !1}if(3===g.type&&!c.test(g.value)){return !1}}while(g=b(g,f))}return !0},walk:function(e){return b(this,null,e)}},d.create=function(g,j){var h,f;if(h=new d(g,a[g]||1),j){for(f in j){h.attr(f,j[f])}}return h},d}),bk(bU,[ab],function(k){function g(a,i){return a?a.split(i||" "):[]}function c(A){function o(C,G,p){function D(l){var H={},u,i;for(u=0,i=l.length;i>u;u++){H[l[u]]={}}return H}var a,F,s,E=arguments;for(p=p||[],G=G||"","string"==typeof p&&(p=g(p)),F=3;F<E.length;F++){"string"==typeof E[F]&&(E[F]=g(E[F])),p.push.apply(p,E[F])}for(C=g(C),a=C.length;a--;){s=[].concat(B,g(G)),x[C[a]]={attributes:D(s),attributesOrder:s,children:D(p)}}}function q(p,D){var l,C,a,u;for(p=g(p),l=p.length,D=g(D);l--;){for(C=x[p[l]],a=0,u=D.length;u>a;a++){C.attributes[D[a]]={},C.attributesOrder.push(D[a])}}}var x={},B,w,y,z,v,t,r;return b[A]?b[A]:(B=g("id accesskey class dir lang style tabindex title"),w=g("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),y=g("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),z=g("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=A&&(B.push.apply(B,g("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),y.push.apply(y,g("article aside details dialog figure header footer hgroup section nav")),z.push.apply(z,g("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=A&&(B.push("xml:lang"),r=g("acronym applet basefont big font strike tt"),z.push.apply(z,r),j(r,function(a){o(a,"",z)}),t=g("center dir isindex noframes"),y.push.apply(y,t),v=[].concat(y,z),j(t,function(a){o(a,"",v)})),v=v||[].concat(y,z),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),o("address dt dd div caption","",v),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",z),o("blockquote","cite",v),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",v),o("dl","","dt dd"),o("a","href target rel media hreflang type",z),o("q","cite",z),o("ins del","cite datetime",v),o("img","src alt usemap ismap width height"),o("iframe","src name width height",v),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",v,"param"),o("param","name value"),o("map","name",v,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==A?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",v),o("th","colspan rowspan headers scope abbr",v),o("form","accept-charset action autocomplete enctype method name novalidate target",v),o("fieldset","disabled form name",v,"legend"),o("label","form for",z),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==A?v:z),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",v,"li"),o("noscript","",v),"html4"!=A&&(o("wbr"),o("ruby","",z,"rt rp"),o("figcaption","",v),o("mark rt rp summary bdi","",z),o("canvas","width height",v),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",v,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls",v,"track source"),o("source","src type media"),o("track","kind src srclang label default"),o("datalist","",z,"option"),o("article section nav aside header footer","",v),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",v,"figcaption"),o("time","datetime",z),o("dialog","open",v),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",z),o("progress","value max",z),o("meter","value min max low high optimum",z),o("details","open",v,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=A&&(q("script","language xml:space"),q("style","xml:space"),q("object","declare classid codebase codetype archive standby align border hspace vspace"),q("param","valuetype type"),q("a","charset name rev shape coords"),q("br","clear"),q("applet","codebase archive code object alt name width height align hspace vspace"),q("img","name longdesc align border hspace vspace"),q("iframe","longdesc frameborder marginwidth marginheight scrolling align"),q("font basefont","size color face"),q("input","usemap align"),q("select","onchange"),q("textarea"),q("h1 h2 h3 h4 h5 h6 div p legend caption","align"),q("ul","type compact"),q("li","type"),q("ol dl menu dir","compact"),q("pre","width xml:space"),q("hr","align noshade size width"),q("isindex","prompt"),q("table","summary width frame rules cellspacing cellpadding align bgcolor"),q("col","width align char charoff valign"),q("colgroup","width align char charoff valign"),q("thead","align char charoff valign"),q("tr","align char charoff valign bgcolor"),q("th","axis align char charoff valign nowrap bgcolor width height"),q("form","accept"),q("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),q("tfoot","align char charoff valign"),q("tbody","align char charoff valign"),q("area","nohref"),q("body","background bgcolor text link vlink alink")),"html4"!=A&&(q("input button select textarea","autofocus"),q("input textarea","placeholder"),q("a","download"),q("link script img","crossorigin"),q("iframe","srcdoc sandbox seamless allowfullscreen")),j(g("a form meter progress dfn"),function(a){x[a]&&delete x[a].children[a]}),delete x.caption.children.table,b[A]=x,x)}var b={},d=k.makeMap,j=k.each,h=k.extend,m=k.explode,f=k.inArray;return function(q){function M(v,u,e){var p=q[v];return p?p=d(p,",",d(p.toUpperCase()," ")):(p=b[v],p||(p=d(u," ",d(u.toUpperCase()," ")),p=h(p,e),b[v]=p)),p}function l(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function r(V){var v,U,b1,bV,R,b2,W,bt,bW,b5,Z,at,b0,b3,bY,X,bZ,A,b4,Y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,u=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bX=/[*?+]/;if(V){for(V=g(V,","),H["@"]&&(X=H["@"].attributes,bZ=H["@"].attributesOrder),v=0,U=V.length;U>v;v++){if(R=Y.exec(V[v])){if(b3=R[1],bW=R[2],bY=R[3],bt=R[5],at={},b0=[],b2={attributes:at,attributesOrder:b0},"#"===b3&&(b2.paddEmpty=!0),"-"===b3&&(b2.removeEmpty=!0),"!"===R[4]&&(b2.removeEmptyAttrs=!0),X){for(A in X){at[A]=X[A]}b0.push.apply(b0,bZ)}if(bt){for(bt=g(bt,"|"),b1=0,bV=bt.length;bV>b1;b1++){if(R=u.exec(bt[b1])){if(W={},Z=R[1],b5=R[2].replace(/::/g,":"),b3=R[3],b4=R[4],"!"===Z&&(b2.attributesRequired=b2.attributesRequired||[],b2.attributesRequired.push(b5),W.required=!0),"-"===Z){delete at[b5],b0.splice(f(b0,b5),1);continue}b3&&("="===b3&&(b2.attributesDefault=b2.attributesDefault||[],b2.attributesDefault.push({name:b5,value:b4}),W.defaultValue=b4),":"===b3&&(b2.attributesForced=b2.attributesForced||[],b2.attributesForced.push({name:b5,value:b4}),W.forcedValue=b4),"<"===b3&&(W.validValues=d(b4,"?"))),bX.test(b5)?(b2.attributePatterns=b2.attributePatterns||[],W.pattern=l(b5),b2.attributePatterns.push(W)):(at[b5]||b0.push(b5),at[b5]=W)}}}X||"@"!=bW||(X=at,bZ=b0),bY&&(b2.outputName=bW,H[bY]=b2),bX.test(bW)?(b2.pattern=l(bW),I.push(b2)):H[bW]=b2}}}}function D(p){H={},I=[],r(p),j(J,function(u,v){K[v]=u.children})}function F(p){var u=/^(~)?(.+)$/;p&&j(g(p,","),function(w){var A=u.exec(w),v="~"===A[1],x=v?"span":"div",y=A[2];K[y]=K[x],n[y]=x,v||(t[y.toUpperCase()]={},t[y]={}),H[y]||(H[y]=H[x]),j(K,function(C){C[x]&&(C[y]=C[x])})})}function Q(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&j(g(p,","),function(w){var v=u.exec(w),x,y;v&&(y=v[1],x=y?K[v[2]]:K[v[2]]={"#comment":{}},x=K[v[2]],j(g(v[3],"|"),function(A){"-"===y?delete x[A]:x[A]={}}))})}function z(p){var v=H[p],u;if(v){return v}for(u=I.length;u--;){if(v=I[u],v.pattern.test(p)){return v}}}var B=this,H={},K={},I=[],O,J,s,L,i,P,t,a,G,n={},o={};q=q||{},J=c(q.schema),q.verify_html===!1&&(q.valid_elements="*[*]"),q.valid_styles&&(O={},j(q.valid_styles,function(p,u){O[u]=m(p)})),s=M("whitespace_elements","pre script noscript style textarea video audio iframe object"),L=M("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),i=M("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),P=M("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),a=M("non_empty_elements","td th iframe video audio object",i),G=M("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),t=M("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",G),j((q.special||"script noscript style textarea").split(" "),function(p){o[p]=new RegExp("</"+p+"[^>]*>","gi")}),q.valid_elements?D(q.valid_elements):(j(J,function(p,u){H[u]={attributes:p.attributes,attributesOrder:p.attributesOrder},K[u]=p.children}),"html5"!=q.schema&&j(g("strong/b em/i"),function(p){p=g(p,"/"),H[p[1]].outputName=p[0]}),H.img.attributesDefault=[{name:"alt",value:""}],j(g("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){H[p]&&(H[p].removeEmpty=!0)}),j(g("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){H[p].paddEmpty=!0}),j(g("span"),function(p){H[p].removeEmptyAttrs=!0})),F(q.custom_elements),Q(q.valid_children),r(q.extended_valid_elements),Q("+ol[ul|ol],+ul[ul|ol]"),q.invalid_elements&&j(m(q.invalid_elements),function(p){H[p]&&delete H[p]}),z("span")||r("span[!data-mce-type|*]"),B.children=K,B.styles=O,B.getBoolAttrs=function(){return P},B.getBlockElements=function(){return t},B.getTextBlockElements=function(){return G},B.getShortEndedElements=function(){return i},B.getSelfClosingElements=function(){return L},B.getNonEmptyElements=function(){return a},B.getWhiteSpaceElements=function(){return s},B.getSpecialElements=function(){return o},B.isValidChild=function(p,v){var u=K[p];return !(!u||!u[v])},B.isValid=function(u,x){var w,p,v=z(u);if(v){if(!x){return !0}if(v.attributes[x]){return !0}if(w=v.attributePatterns){for(p=w.length;p--;){if(w[p].pattern.test(u)){return !0}}}}return !1},B.getElementRule=z,B.getCustomElements=function(){return n},B.addValidElements=r,B.setValidElements=D,B.addCustomElements=F,B.addValidChildren=Q,B.elements=H}}),bk(aw,[bU,a6,ab],function(b,d,c){var a=c.each;return function(h,f){var e=this,g=function(){};h=h||{},e.schema=f=f||new b,h.fix_self_closing!==!1&&(h.fix_self_closing=!0),a("comment cdata text start end pi doctype".split(" "),function(i){i&&(e[i]=h[i]||g)}),e.parse=function(b1){function b6(k){var m,l;for(m=b8.length;m--&&b8[m].name!==k;){}if(m>=0){for(l=b8.length-1;l>=m;l--){k=b8[l],k.valid&&b0.end(k.name)}b8.length=m}}function bY(m,v,u,l,p){var k,s;if(v=v.toLowerCase(),u=v in cb?v:t(u||l||p||""),b3&&!W&&0!==v.indexOf("data-")){if(k=bV[v],!k&&G){for(s=G.length;s--&&(k=G[s],!k.pattern.test(v));){}-1===s&&(k=null)}if(!k){return}if(k.validValues&&!(u in k.validValues)){return}}U.map[v]=u,U.push({name:v,value:u})}var b0=this,b5,b9=0,Y,bX,b8=[],U,bt,z,K,W,n,Q,cb,X,b3,at,ca,bW,b4,bV,G,cc,bZ,cd,b2,J,q,Z,j,b7,V=0,t=d.decode,i;for(q=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Z=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Q=f.getShortEndedElements(),J=h.self_closing_elements||f.getSelfClosingElements(),cb=f.getBoolAttrs(),b3=h.validate,n=h.remove_internals,i=h.fix_self_closing,j=f.getSpecialElements();b5=q.exec(b1);){if(b9<b5.index&&b0.text(t(b1.substr(b9,b5.index-b9))),Y=b5[6]){Y=Y.toLowerCase(),":"===Y.charAt(0)&&(Y=Y.substr(1)),b6(Y)}else{if(Y=b5[7]){if(Y=Y.toLowerCase(),":"===Y.charAt(0)&&(Y=Y.substr(1)),X=Y in Q,i&&J[Y]&&b8.length>0&&b8[b8.length-1].name===Y&&b6(Y),!b3||(at=f.getElementRule(Y))){if(ca=!0,b3&&(bV=at.attributes,G=at.attributePatterns),(b4=b5[8])?(W=-1!==b4.indexOf("data-mce-type"),W&&n&&(ca=!1),U=[],U.map={},b4.replace(Z,bY)):(U=[],U.map={}),b3&&!W){if(cc=at.attributesRequired,bZ=at.attributesDefault,cd=at.attributesForced,b2=at.removeEmptyAttrs,b2&&!U.length&&(ca=!1),cd){for(bt=cd.length;bt--;){bW=cd[bt],K=bW.name,b7=bW.value,"{$uid}"===b7&&(b7="mce_"+V++),U.map[K]=b7,U.push({name:K,value:b7})}}if(bZ){for(bt=bZ.length;bt--;){bW=bZ[bt],K=bW.name,K in U.map||(b7=bW.value,"{$uid}"===b7&&(b7="mce_"+V++),U.map[K]=b7,U.push({name:K,value:b7}))}}if(cc){for(bt=cc.length;bt--&&!(cc[bt] in U.map);){}-1===bt&&(ca=!1)}U.map["data-mce-bogus"]&&(ca=!1)}ca&&b0.start(Y,U,X)}else{ca=!1}if(bX=j[Y]){bX.lastIndex=b9=b5.index+b5[0].length,(b5=bX.exec(b1))?(ca&&(z=b1.substr(b9,b5.index-b9)),b9=b5.index+b5[0].length):(z=b1.substr(b9),b9=b1.length),ca&&(z.length>0&&b0.text(z,!0),b0.end(Y)),q.lastIndex=b9;continue}X||(b4&&b4.indexOf("/")==b4.length-1?ca&&b0.end(Y):b8.push({name:Y,valid:ca}))}else{(Y=b5[1])?b0.comment(Y):(Y=b5[2])?b0.cdata(Y):(Y=b5[3])?b0.doctype(Y):(Y=b5[4])&&b0.pi(Y,b5[5])}}b9=b5.index+b5[0].length}for(b9<b1.length&&b0.text(t(b1.substr(b9))),bt=b8.length-1;bt>=0;bt--){Y=b8[bt],Y.valid&&b0.end(Y.name)}}}}),bk(al,[bH,bU,aw,ab],function(d,k,j,c){var g=c.makeMap,b=c.each,h=c.explode,f=c.extend;return function(a,s){function m(C){var w,l,E,D,I,H,B,A,z,G,u,x,F,J;for(u=g("tr,td,th,tbody,thead,tfoot,table"),G=s.getNonEmptyElements(),x=s.getTextBlockElements(),w=0;w<C.length;w++){if(l=C[w],l.parent&&!l.fixed){if(x[l.name]&&"li"==l.parent.name){for(F=l.next;F&&x[F.name];){F.name="li",F.fixed=!0,l.parent.insert(F,l.parent),F=F.next}l.unwrap(l)}else{for(D=[l],E=l.parent;E&&!s.isValidChild(E.name,l.name)&&!u[E.name];E=E.parent){D.push(E)}if(E&&D.length>1){for(D.reverse(),I=H=q.filterNode(D[0].clone()),z=0;z<D.length-1;z++){for(s.isValidChild(H.name,D[z].name)?(B=q.filterNode(D[z].clone()),H.append(B)):B=H,A=D[z].firstChild;A&&A!=D[z+1];){J=A.next,B.append(A),A=J}H=B}I.isEmpty(G)?E.insert(l,D[0],!0):(E.insert(I,D[0],!0),E.insert(l,I)),E=D[0],(E.isEmpty(G)||E.firstChild===E.lastChild&&"br"===E.firstChild.name)&&E.empty().remove()}else{if(l.parent){if("li"===l.name){if(F=l.prev,F&&("ul"===F.name||"ul"===F.name)){F.append(l);continue}if(F=l.next,F&&("ul"===F.name||"ul"===F.name)){F.insert(l,F.firstChild,!0);continue}l.wrap(q.filterNode(new d("ul",1)));continue}s.isValidChild(l.parent.name,"div")&&s.isValidChild("div",l.name)?l.wrap(q.filterNode(new d("div",1))):"style"===l.name||"script"===l.name?l.empty().remove():l.unwrap()}}}}}}var q=this,i={},n=[],e={},o={};a=a||{},a.validate="validate" in a?a.validate:!0,a.root_name=a.root_name||"body",q.schema=s=s||new k,q.filterNode=function(p){var v,u,l;u in i&&(l=e[u],l?l.push(p):e[u]=[p]),v=n.length;for(;v--;){u=n[v].name,u in p.attributes.map&&(l=o[u],l?l.push(p):o[u]=[p])}return p},q.addNodeFilter=function(l,p){b(h(l),function(r){var t=i[r];t||(i[r]=t=[]),t.push(p)})},q.addAttributeFilter=function(l,p){b(h(l),function(r){var t;for(t=0;t<n.length;t++){if(n[t].name===r){return n[t].callbacks.push(p),void 0}}n.push({name:r,callbacks:[p]})})},q.parse=function(p,b1){function Z(){function v(t){t&&(x=t.firstChild,x&&3==x.type&&(x.value=x.value.replace(G,"")),x=t.lastChild,x&&3==x.type&&(x.value=x.value.replace(X,"")))}var x=bZ.firstChild,w,u;if(s.isValidChild(bZ.name,bY.toLowerCase())){for(;x;){w=x.next,3==x.type||1==x.type&&"p"!==x.name&&!bt[x.name]&&!x.attr("data-mce-type")?u?u.append(x):(u=F(bY,1),bZ.insert(u,x),u.append(x)):(v(u),u=null),x=w}v(u)}}function F(x,w){var u=new d(x,w),v;return x in i&&(v=e[x],v?v.push(u):e[x]=[u]),u}function V(v){var x,w,u;for(x=v.prev;x&&3===x.type;){w=x.value.replace(X,""),w.length>0?(x.value=w,x=x.prev):(u=x.prev,x.remove(),x=u)}}function Y(u){var w,v={};for(w in u){"li"!==w&&"p"!=w&&(v[w]=u[w])}return v}var bV,bZ,bW,b3,bX,Q,b0,z,b5,U,r,bt,G,K=[],W,X,at,b2,b4,J,l,bY;if(b1=b1||{},e={},o={},bt=f(g("script,style,head,html,body,title,meta,param"),s.getBlockElements()),l=s.getNonEmptyElements(),J=s.children,r=a.validate,bY="forced_root_block" in b1?b1.forced_root_block:a.forced_root_block,b4=s.getWhiteSpaceElements(),G=/^[ \t\r\n]+/,X=/[ \t\r\n]+$/,at=/[ \t\r\n]+/g,b2=/^[ \t\r\n]+$/,bV=new j({validate:r,self_closing_elements:Y(s.getSelfClosingElements()),cdata:function(t){bW.append(F("#cdata",4)).value=t},text:function(u,w){var v;W||(u=u.replace(at," "),bW.lastChild&&bt[bW.lastChild.name]&&(u=u.replace(G,""))),0!==u.length&&(v=F("#text",3),v.raw=!!w,bW.append(v).value=u)},comment:function(t){bW.append(F("#comment",8)).value=t},pi:function(u,v){bW.append(F(u,7)).value=v,V(bW)},doctype:function(u){var v;v=bW.append(F("#doctype",10)),v.value=u,V(bW)},start:function(w,C,B){var v,y,u,A,x;if(u=r?s.getElementRule(w):{}){for(v=F(u.outputName||w,1),v.attributes=C,v.shortEnded=B,bW.append(v),x=J[bW.name],x&&J[v.name]&&!x[v.name]&&K.push(v),y=n.length;y--;){A=n[y].name,A in C.map&&(b5=o[A],b5?b5.push(v):o[A]=[v])}bt[w]&&V(v),B||(bW=v),!W&&b4[w]&&(W=!0)}},end:function(A){var y,v,w,u,x;if(v=r?s.getElementRule(A):{}){if(bt[A]&&!W){if(y=bW.firstChild,y&&3===y.type){if(w=y.value.replace(G,""),w.length>0){y.value=w,y=y.next}else{for(u=y.next,y.remove(),y=u;y&&3===y.type;){w=y.value,u=y.next,(0===w.length||b2.test(w))&&(y.remove(),y=u),y=u}}}if(y=bW.lastChild,y&&3===y.type){if(w=y.value.replace(X,""),w.length>0){y.value=w,y=y.prev}else{for(u=y.prev,y.remove(),y=u;y&&3===y.type;){w=y.value,u=y.prev,(0===w.length||b2.test(w))&&(y.remove(),y=u),y=u}}}}if(W&&b4[A]&&(W=!1),(v.removeEmpty||v.paddEmpty)&&bW.isEmpty(l)){if(v.paddEmpty){bW.empty().append(new d("#text","3")).value="\xa0"}else{if(!bW.attributes.map.name&&!bW.attributes.map.id){return x=bW.parent,bW.empty().remove(),bW=x,void 0}}}bW=bW.parent}}},s),bZ=bW=new d(b1.context||a.root_name,11),bV.parse(p),r&&K.length&&(b1.context?b1.invalid=!0:m(K)),bY&&("body"==bZ.name||b1.isRootContent)&&Z(),!b1.invalid){for(U in e){for(b5=i[U],b3=e[U],b0=b3.length;b0--;){b3[b0].parent||b3.splice(b0,1)}for(bX=0,Q=b5.length;Q>bX;bX++){b5[bX](b3,U,b1)}}for(bX=0,Q=n.length;Q>bX;bX++){if(b5=n[bX],b5.name in o){for(b3=o[b5.name],b0=b3.length;b0--;){b3[b0].parent||b3.splice(b0,1)}for(b0=0,z=b5.callbacks.length;z>b0;b0++){b5.callbacks[b0](b3,b5.name,b1)}}}}return bZ},a.remove_trailing_brs&&q.addNodeFilter("br",function(A){var v,l=A.length,w,C=f({},s.getBlockElements()),B=s.getNonEmptyElements(),E,F,z,y,x,D;for(C.body=1,v=0;l>v;v++){if(w=A[v],E=w.parent,C[w.parent.name]&&w===E.lastChild){for(z=w.prev;z;){if(y=z.name,"span"!==y||"bookmark"!==z.attr("data-mce-type")){if("br"!==y){break}if("br"===y){w=null;break}}z=z.prev}w&&(w.remove(),E.isEmpty(B)&&(x=s.getElementRule(E.name),x&&(x.removeEmpty?E.remove():x.paddEmpty&&(E.empty().append(new d("#text",3)).value="\xa0"))))}else{for(F=w;E.firstChild===F&&E.lastChild===F&&(F=E,!C[E.name]);){E=E.parent}F===E&&(D=new d("#text",3),D.value="\xa0",w.replace(D))}}}),a.allow_html_in_named_anchor||q.addAttributeFilter("id,name",function(u){for(var x=u.length,w,p,v,l;x--;){if(l=u[x],"a"===l.name&&l.firstChild&&!l.attr("href")){v=l.parent,w=l.lastChild;do{p=w.prev,v.insert(w,l),w=p}while(w)}}})}}),bk(aT,[a6,ab],function(a,c){var b=c.makeMap;return function(k){var e=[],g,d,h,f,j;return k=k||{},g=k.indent,d=b(k.indent_before||""),h=b(k.indent_after||""),f=a.getEncodeFunc(k.entity_encoding||"raw",k.entities),j="html"==k.element_format,{start:function(m,r,q){var l,p,i,o;if(g&&d[m]&&e.length>0&&(o=e[e.length-1],o.length>0&&"\n"!==o&&e.push("\n")),e.push("<",m),r){for(l=0,p=r.length;p>l;l++){i=r[l],e.push(" ",i.name,'="',f(i.value,!0),'"')}}e[e.length]=!q||j?">":" />",q&&g&&h[m]&&e.length>0&&(o=e[e.length-1],o.length>0&&"\n"!==o&&e.push("\n"))},end:function(i){var l;e.push("</",i,">"),g&&h[i]&&e.length>0&&(l=e[e.length-1],l.length>0&&"\n"!==l&&e.push("\n"))},text:function(i,l){i.length>0&&(e[e.length]=l?i:f(i))},cdata:function(i){e.push("<![CDATA[",i,"]]>")},comment:function(i){e.push("<!--",i,"-->")},pi:function(i,l){l?e.push("<?",i," ",l,"?>"):e.push("<?",i,"?>"),g&&e.push("\n")},doctype:function(i){e.push("<!DOCTYPE",i,">",g?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}}}),bk(am,[aT,bU],function(a,b){return function(f,d){var e=this,c=new a(f);f=f||{},f.validate="validate" in f?f.validate:!0,e.schema=d=d||new b,e.writer=c,e.serialize=function(g){function k(z){var o=h[z.type],A,r,x,y,v,t,q,w,i;if(o){o(z)}else{if(A=z.name,r=z.shortEnded,x=z.attributes,j&&x&&x.length>1){for(t=[],t.map={},i=d.getElementRule(z.name),q=0,w=i.attributesOrder.length;w>q;q++){y=i.attributesOrder[q],y in x.map&&(v=x.map[y],t.map[y]=v,t.push({name:y,value:v}))}for(q=0,w=x.length;w>q;q++){y=x[q].name,y in t.map||(v=x.map[y],t.map[y]=v,t.push({name:y,value:v}))}x=t}if(c.start(z.name,x,r),!r){if(z=z.firstChild){do{k(z)}while(z=z.next)}c.end(A)}}}var h,j;return j=f.validate,h={3:function(i){c.text(i.value,i.raw)},8:function(i){c.comment(i.value)},7:function(i){c.pi(i.name,i.value)},10:function(i){c.doctype(i.value)},4:function(i){c.cdata(i.value)},11:function(i){if(i=i.firstChild){do{k(i)}while(i=i.next)}}},c.reset(),1!=g.type||f.inner?h[11](g):k(g),c.getContent()}}}),bk(bd,[av,al,a6,am,bH,bU,bp,ab],function(q,h,d,b,f,k,j,v){var g=v.each,m=v.trim,p=q.DOM;return function(c,n){var l,a,o;return n&&(l=n.dom,a=n.schema),l=l||p,a=a||new k(c),c.entity_encoding=c.entity_encoding||"named",c.remove_trailing_brs="remove_trailing_brs" in c?c.remove_trailing_brs:!0,o=new h(c,a),o.addAttributeFilter("src,href,style",function(y,s){for(var e=y.length,w,A,z="data-mce-"+s,x=c.url_converter,B=c.url_converter_scope,C;e--;){w=y[e],A=w.attributes.map[z],A!==C?(w.attr(s,A.length>0?A:null),w.attr(z,null)):(A=w.attributes.map[s],"style"===s?A=l.serializeStyle(l.parseStyle(A),w.name):x&&(A=x.call(B,A,s,w.name)),w.attr(s,A.length>0?A:null))}}),o.addAttributeFilter("class",function(s){for(var w=s.length,u,i;w--;){u=s[w],i=u.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",i.length>0?i:null)}}),o.addAttributeFilter("data-mce-type",function(u,y,x){for(var s=u.length,w;s--;){w=u[s],"bookmark"!==w.attributes.map["data-mce-type"]||x.cleanup||w.remove()}}),o.addAttributeFilter("data-mce-expando",function(i,s){for(var r=i.length;r--;){i[r].attr(s,null)}}),o.addNodeFilter("noscript",function(s){for(var u=s.length,i;u--;){i=s[u].firstChild,i&&(i.value=d.decode(i.value))}}),o.addNodeFilter("script,style",function(w,z){function y(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var u=w.length,x,s;u--;){x=w[u],s=x.firstChild?x.firstChild.value:"","script"===z?(x.attr("type",(x.attr("type")||"text/javascript").replace(/^mce\-/,"")),s.length>0&&(x.firstChild.value="// <![CDATA[\n"+y(s)+"\n// ]]>")):s.length>0&&(x.firstChild.value="<!--\n"+y(s)+"\n-->")}}),o.addNodeFilter("#comment",function(i){for(var s=i.length,r;s--;){r=i[s],0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=r.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}}),o.addNodeFilter("xml:namespace,input",function(s,w){for(var u=s.length,i;u--;){i=s[u],7===i.type?i.remove():1===i.type&&("input"!==w||"type" in i.attributes.map||i.attr("type","text"))}}),c.fix_list_elements&&o.addNodeFilter("ul,ol",function(s){for(var w=s.length,u,i;w--;){u=s[w],i=u.parent,("ul"===i.name||"ol"===i.name)&&u.prev&&"li"===u.prev.name&&u.prev.append(u)}}),o.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(i,s){for(var r=i.length;r--;){i[r].attr(s,null)}}),{schema:a,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:function(A,z){var s=this,e,x,r,w,y;return j.ie&&l.select("script,style,select,map").length>0?(y=A.innerHTML,A=A.cloneNode(!1),l.setHTML(A,y)):A=A.cloneNode(!0),e=A.ownerDocument.implementation,e.createHTMLDocument&&(x=e.createHTMLDocument(""),g("BODY"==A.nodeName?A.childNodes:[A],function(i){x.body.appendChild(x.importNode(i,!0))}),A="BODY"!=A.nodeName?x.body.firstChild:x.body,r=l.doc,l.doc=x),z=z||{},z.format=z.format||"html",z.selection&&(z.forced_root_block=""),z.no_events||(z.node=A,s.onPreProcess(z)),w=new b(c,a),z.content=w.serialize(o.parse(m(z.getInner?A.innerHTML:l.getOuterHTML(A)),z)),z.cleanup||(z.content=z.content.replace(/\uFEFF/g,"")),z.no_events||s.onPostProcess(z),r&&(l.doc=r),z.node=null,z.content},addRules:function(i){a.addValidElements(i)},setRules:function(i){a.setValidElements(i)},onPreProcess:function(i){n&&n.fire("PreProcess",i)},onPostProcess:function(i){n&&n.fire("PostProcess",i)}}}}),bk(a8,[],function(){function a(d){function h(v,j){var e,k=0,x,w,A,q,y,z,p=-1,m;if(e=v.duplicate(),e.collapse(j),m=e.parentElement(),m.ownerDocument===d.dom.doc){for(;"false"===m.contentEditable;){m=m.parentNode}if(!m.hasChildNodes()){return{node:m,inside:1}}for(A=m.children,x=A.length-1;x>=k;){if(z=Math.floor((k+x)/2),q=A[z],e.moveToElementText(q),p=e.compareEndPoints(j?"StartToStart":"EndToEnd",v),p>0){x=z-1}else{if(!(0>p)){return{node:q}}k=z+1}}if(0>p){for(q?e.collapse(!1):(e.moveToElementText(m),e.collapse(!0),q=m,w=!0),y=0;0!==e.compareEndPoints(j?"StartToStart":"StartToEnd",v)&&0!==e.move("character",1)&&m==e.parentElement();){y++}}else{for(e.collapse(!0),y=0;0!==e.compareEndPoints(j?"StartToStart":"StartToEnd",v)&&0!==e.move("character",-1)&&m==e.parentElement();){y++}}return{node:q,position:p,offset:y,inside:w}}}function g(){function e(w){var B=h(p,w),o,y,x=0,A,v,z;if(o=B.node,y=B.offset,B.inside&&!o.hasChildNodes()){return m[w?"setStart":"setEnd"](o,0),void 0}if(y===v){return m[w?"setStartBefore":"setEndAfter"](o),void 0}if(B.position<0){if(A=B.inside?o.firstChild:o.nextSibling,!A){return m[w?"setStartAfter":"setEndAfter"](o),void 0}if(!y){return 3==A.nodeType?m[w?"setStart":"setEnd"](A,0):m[w?"setStartBefore":"setEndBefore"](A),void 0}for(;A;){if(z=A.nodeValue,x+=z.length,x>=y){o=A,x-=y,x=z.length-x;break}A=A.nextSibling}}else{if(A=o.previousSibling,!A){return m[w?"setStartBefore":"setEndBefore"](o)}if(!y){return 3==o.nodeType?m[w?"setStart":"setEnd"](A,o.nodeValue.length):m[w?"setStartAfter":"setEndAfter"](A),void 0}for(;A;){if(x+=A.nodeValue.length,x>=y){o=A,x-=y;break}A=A.previousSibling}}m[w?"setStart":"setEnd"](o,x)}var p=d.getRng(),m=f.createRng(),t,j,q,r,k;if(t=p.item?p.item(0):p.parentElement(),t.ownerDocument!=f.doc){return m}if(j=d.isCollapsed(),p.item){return m.setStart(t.parentNode,f.nodeIndex(t)),m.setEnd(m.startContainer,m.startOffset+1),m}try{e(!0),j||e()}catch(i){if(-2147024809!=i.number){throw i}k=c.getBookmark(2),q=p.duplicate(),q.collapse(!0),t=q.parentElement(),j||(q=p.duplicate(),q.collapse(!1),r=q.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,c.moveToBookmark(k),p=d.getRng(),e(!0),j||e()}return m}var c=this,f=d.dom,b=!1;this.getBookmark=function(l){function i(q){var v,u,p,m,s=[];for(v=q.parentNode,u=f.getRoot().parentNode;v!=u&&9!==v.nodeType;){for(p=v.children,m=p.length;m--;){if(q===p[m]){s.push(m);break}}q=v,v=v.parentNode}return s}function e(m){var o;return o=h(k,m),o?{position:o.position,offset:o.offset,indexes:i(o.node),inside:o.inside}:void 0}var k=d.getRng(),j={};return 2===l&&(k.item?j.start={ctrl:!0,indexes:i(k.item(0))}:(j.start=e(!0),d.isCollapsed()||(j.end=e()))),j},this.moveToBookmark=function(k){function m(s){var v,u,q,p;for(v=f.getRoot(),u=s.length-1;u>=0;u--){p=v.children,q=s[u],q<=p.length-1&&(v=p[q])}return v}function l(t){var p=k[t?"start":"end"],q,o,r,e;p&&(q=p.position>0,o=i.createTextRange(),o.moveToElementText(m(p.indexes)),e=p.offset,e!==r?(o.collapse(p.inside||q),o.moveStart("character",q?-e:e)):o.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",o),t&&j.collapse(!0))}var j,i=f.doc.body;k.start&&(k.start.ctrl?(j=i.createControlRange(),j.addElement(m(k.start.indexes)),j.select()):(j=i.createTextRange(),l(!0),l(),j.select()))},this.addRange=function(x){function j(m){var u,s,p,l,r;p=f.create("a"),u=m?C:A,s=m?w:B,l=e.duplicate(),(u==q||u==q.documentElement)&&(u=o,s=0),3==u.nodeType?(u.parentNode.insertBefore(p,u),l.moveToElementText(p),l.moveStart("character",s),f.remove(p),e.setEndPoint(m?"StartToStart":"EndToEnd",l)):(r=u.childNodes,r.length?(s>=r.length?f.insertAfter(p,r[r.length-1]):u.insertBefore(p,r[s]),l.moveToElementText(p)):u.canHaveHTML&&(u.innerHTML="<span>&#xFEFF;</span>",p=u.firstChild,l.moveToElementText(p),l.collapse(b)),e.setEndPoint(m?"StartToStart":"EndToEnd",l),f.remove(p))}var e,y,C,w,A,B,v,q=d.dom.doc,o=q.body,z,i;if(C=x.startContainer,w=x.startOffset,A=x.endContainer,B=x.endOffset,e=o.createTextRange(),C==A&&1==C.nodeType){if(w==B&&!C.hasChildNodes()){if(C.canHaveHTML){return v=C.previousSibling,v&&!v.hasChildNodes()&&f.isBlock(v)?v.innerHTML="&#xFEFF;":v=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),f.doc.selection.clear(),C.innerHTML="",v&&(v.innerHTML=""),void 0}w=f.nodeIndex(C),C=C.parentNode}if(w==B-1){try{if(i=C.childNodes[w],y=o.createControlRange(),y.addElement(i),y.select(),z=d.getRng(),z.item&&i===z.item(0)){return}}catch(k){}}}j(!0),j(),e.select()},this.getRangeAt=g}return a}),bk(ak,[bp],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.ctrlKey||b.metaKey:b.ctrlKey)&&!b.altKey}}}),bk(aE,[ak,ab,bp],function(a,c,b){return function(b4,b3){function bW(d){return b3.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(d.nodeName)?"false"===d.getAttribute("data-mce-resize")?!1:!0:!1}function bY(g){var f,d;f=g.screenX-b1,d=g.screenY-at,n=f*bt[2]+bX,X=d*bt[3]+cb,n=5>n?5:n,X=5>X?5:X,(a.modifierPressed(g)||"IMG"==b0.nodeName&&0!==bt[2]*bt[3])&&(n=Math.round(X/bZ),X=Math.round(n*bZ)),b9.setStyles(Y,{width:n,height:X}),bt[2]<0&&Y.clientWidth<=n&&b9.setStyle(Y,"left",z+(bX-n)),bt[3]<0&&Y.clientHeight<=X&&b9.setStyle(Y,"top",ca+(cb-X)),F||(b3.fire("ObjectResizeStart",{target:b0,width:bX,height:cb}),F=!0)}function b2(){function d(f,g){g&&(b0.style[f]||!b3.schema.isValid(b0.nodeName.toLowerCase(),f)?b9.setStyle(b0,f,g):b9.setAttrib(b0,f,g))}F=!1,d("width",n),d("height",X),b9.unbind(e,"mousemove",bY),b9.unbind(e,"mouseup",b2),b5!=e&&(b9.unbind(b5,"mousemove",bY),b9.unbind(b5,"mouseup",b2)),b9.remove(Y),Q&&"TABLE"!=b0.nodeName||b7(b0),b3.fire("ObjectResized",{target:b0,width:n,height:X}),b3.nodeChanged()}function b7(i,s,p){var g,o,m,h,k;g=b9.getPos(i,b3.getBody()),z=g.x,ca=g.y,k=i.getBoundingClientRect(),o=k.width||k.right-k.left,m=k.height||k.bottom-k.top,b0!=i&&(G(),b0=i,n=X=0),h=b3.fire("ObjectSelected",{target:i}),bW(i)&&!h.isDefaultPrevented()?V(b8,function(w,l){function f(d){F=!0,b1=d.screenX,at=d.screenY,bX=b0.clientWidth,cb=b0.clientHeight,bZ=cb/bX,bt=w,Y=b0.cloneNode(!0),b9.addClass(Y,"mce-clonedresizable"),Y.contentEditable=!1,Y.unSelectabe=!0,b9.setStyles(Y,{left:z,top:ca,margin:0}),Y.removeAttribute("data-mce-selected"),b3.getBody().appendChild(Y),b9.bind(e,"mousemove",bY),b9.bind(e,"mouseup",b2),b5!=e&&(b9.bind(b5,"mousemove",bY),b9.bind(b5,"mouseup",b2))}var v,u;return s?(l==s&&f(p),void 0):(v=b9.get("mceResizeHandle"+l),v?b9.show(v):(u=b3.getBody(),v=b9.add(u,"div",{id:"mceResizeHandle"+l,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+l+"-resize; margin:0; padding:0"}),b9.bind(v,"mousedown",function(d){d.preventDefault(),f(d)})),b9.setStyles(v,{left:o*w[0]+z-v.offsetWidth/2,top:m*w[1]+ca-v.offsetHeight/2}),void 0)}):W(),b0.setAttribute("data-mce-selected","1")}function W(){var d,f;b0&&b0.removeAttribute("data-mce-selected");for(d in b8){f=b9.get("mceResizeHandle"+d),f&&(b9.unbind(f),b9.remove(f))}}function bV(d){function g(h,i){do{if(h===i){return !0}}while(h=h.parentNode)}var f;return V(b9.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),f="mousedown"==d.type?d.target:b4.getNode(),f=b9.getParent(f,Q?"table":"table,img,hr"),f&&(U(),g(b4.getStart(),f)&&g(b4.getEnd(),f)&&(!Q||f!=b4.getStart()&&"IMG"!==b4.getStart().nodeName))?(b7(f),void 0):(W(),void 0)}function b6(d,g,f){d&&d.attachEvent&&d.attachEvent("on"+g,f)}function K(d,g,f){d&&d.detachEvent&&d.detachEvent("on"+g,f)}function Z(m){var g=m.srcElement,f,d,i,h,p,k,l;f=g.getBoundingClientRect(),k=m.clientX-f.left,l=m.clientY-f.top;for(d in b8){if(i=b8[d],h=g.offsetWidth*i[0],p=g.offsetHeight*i[1],Math.abs(h-k)<8&&Math.abs(p-l)<8){bt=i;break}}F=!0,b3.getDoc().selection.empty(),b7(g,d,m)}function t(d){var f=d.srcElement;if(f!=b0){if(G(),0===f.id.indexOf("mceResizeHandle")){return d.returnValue=!1,void 0}("IMG"==f.nodeName||"TABLE"==f.nodeName)&&(W(),b0=f,b6(f,"resizestart",Z))}}function G(){K(b0,"resizestart",Z)}function U(){try{b3.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function j(d){var g;if(Q){g=e.body.createControlRange();try{return g.addElement(d),g.select(),!0}catch(f){}}}function J(){b0=Y=null,Q&&(G(),K(b3.getBody(),"controlselect",t))}var b9=b3.dom,V=c.each,b0,Y,b8,bt,b1,at,z,ca,bX,cb,bZ,F,n,X,e=b3.getDoc(),b5=document,Q=b.ie;b8={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var q=".mce-content-body";return b3.contentStyles.push(q+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+q+" .mce-resizehandle:hover {background: #000}"+q+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+q+" .mce-clonedresizable {position: absolute;"+(b.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),b3.on("init",function(){Q?(b3.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(W(),j(d.target))}),b6(b3.getBody(),"controlselect",t)):U(),b3.on("nodechange mousedown ResizeEditor",bV),b3.on("keydown keyup",function(d){b0&&"TABLE"==b0.nodeName&&bV(d)})}),{controlSelect:j,destroy:J}}}),bk(ac,[ah,a8,aE,bp,ab],function(t,f,b,g,m){function k(d,r,l,c){var n=this;n.dom=d,n.win=r,n.serializer=l,n.editor=c,n.controlSelection=new b(n,c),n.win.getSelection||(n.tridentSel=new f(n))}var v=m.each,j=m.grep,p=m.trim,q=g.ie,h=g.opera;return k.prototype={setCursorLocation:function(c,i){var d=this,a=d.dom.createRng();a.setStart(c,i),a.setEnd(c,i),d.setRng(a),d.collapse(!1)},getContent:function(u){var A=this,d=A.getRng(),x=A.dom.create("body"),c=A.getSel(),y,w,z;return u=u||{},y=w="",u.get=!0,u.format=u.format||"html",u.selection=!0,A.editor.fire("BeforeGetContent",u),"text"==u.format?A.isCollapsed()?"":d.text||(c.toString?c.toString():""):(d.cloneContents?(z=d.cloneContents(),z&&x.appendChild(z)):d.item!==bs||d.htmlText!==bs?(x.innerHTML="<br>"+(d.item?d.item(0).outerHTML:d.htmlText),x.removeChild(x.firstChild)):x.innerHTML=d.toString(),/^\s/.test(x.innerHTML)&&(y=" "),/\s+$/.test(x.innerHTML)&&(w=" "),u.getInner=!0,u.content=A.isCollapsed()?"":y+A.serializer.serialize(x,u)+w,A.editor.fire("GetContent",u),u.content)},setContent:function(A,x){var d=this,c=d.getRng(),u,z=d.win.document,y,B;if(x=x||{format:"html"},x.set=!0,x.selection=!0,A=x.content=A,x.no_events||d.editor.fire("BeforeSetContent",x),A=x.content,c.insertNode){A+='<span id="__caret">_</span>',c.startContainer==z&&c.endContainer==z?z.body.innerHTML=A:(c.deleteContents(),0===z.body.childNodes.length?z.body.innerHTML=A:c.createContextualFragment?c.insertNode(c.createContextualFragment(A)):(y=z.createDocumentFragment(),B=z.createElement("div"),y.appendChild(B),B.outerHTML=A,c.insertNode(y))),u=d.dom.get("__caret"),c=z.createRange(),c.setStartBefore(u),c.setEndBefore(u),d.setRng(c),d.dom.remove("__caret");try{d.setRng(c)}catch(w){}}else{c.item&&(z.execCommand("Delete",!1,null),c=d.getRng()),/^\s+/.test(A)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+A),d.dom.remove("__mce_tmp")):c.pasteHTML(A)}x.no_events||d.editor.fire("SetContent",x)},getStart:function(){var d=this,u=d.getRng(),s,c,l,a;if(u.duplicate||u.item){if(u.item){return u.item(0)}for(l=u.duplicate(),l.collapse(1),s=l.parentElement(),s.ownerDocument!==d.dom.doc&&(s=d.dom.getRoot()),c=a=u.parentElement();a=a.parentNode;){if(a==s){s=c;break}}return s}return s=u.startContainer,1==s.nodeType&&s.hasChildNodes()&&(s=s.childNodes[Math.min(s.childNodes.length-1,u.startOffset)]),s&&3==s.nodeType?s.parentNode:s},getEnd:function(){var c=this,i=c.getRng(),d,a;return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),d=i.parentElement(),d.ownerDocument!==c.dom.doc&&(d=c.dom.getRoot()),d&&"BODY"==d.nodeName?d.lastChild||d:d):(d=i.endContainer,a=i.endOffset,1==d.nodeType&&d.hasChildNodes()&&(d=d.childNodes[a>0?a-1:a]),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(K,E){function x(a,d){var c=0;return v(F.select(a),function(l,i){l==d&&(c=i)}),c}function s(a){function c(L){var u,e,l,d=L?"start":"end";u=a[d+"Container"],e=a[d+"Offset"],1==u.nodeType&&"TR"==u.nodeName&&(l=u.childNodes,u=l[Math.min(L?e:e-1,l.length-1)],u&&(e=L?0:u.childNodes.length,a["set"+(L?"Start":"End")](u,e)))}return c(!0),c(),a}function y(){function c(r,Q){var M=r[Q?"startContainer":"endContainer"],N=r[Q?"startOffset":"endOffset"],L=[],P,o,O=0;if(3==M.nodeType){if(E){for(P=M.previousSibling;P&&3==P.nodeType;P=P.previousSibling){N+=P.nodeValue.length}}L.push(N)}else{o=M.childNodes,N>=o.length&&o.length&&(O=1,N=Math.max(0,o.length-1)),L.push(G.dom.nodeIndex(o[N],E)+O)}for(;M&&M!=a;M=M.parentNode){L.push(G.dom.nodeIndex(M,E))}return L}var l=G.getRng(!0),a=F.getRoot(),d={};return d.start=c(l,!0),G.isCollapsed()||(d.end=c(l)),d}var G=this,F=G.dom,D,I,J,C,B,A,H="&#xFEFF;",w;if(2==K){return A=G.getNode(),B=A.nodeName,"IMG"==B?{name:B,index:x(B,A)}:G.tridentSel?G.tridentSel.getBookmark(K):y()}if(K){return{rng:G.getRng()}}if(D=G.getRng(),J=F.uniqueId(),C=G.isCollapsed(),w="overflow:hidden;line-height:0px",D.duplicate||D.item){if(D.item){return A=D.item(0),B=A.nodeName,{name:B,index:x(B,A)}}I=D.duplicate();try{D.collapse(),D.pasteHTML('<span data-mce-type="bookmark" id="'+J+'_start" style="'+w+'">'+H+"</span>"),C||(I.collapse(!1),D.moveToElementText(I.parentElement()),0===D.compareEndPoints("StartToEnd",I)&&I.move("character",-1),I.pasteHTML('<span data-mce-type="bookmark" id="'+J+'_end" style="'+w+'">'+H+"</span>"))}catch(z){return null}}else{if(A=G.getNode(),B=A.nodeName,"IMG"==B){return{name:B,index:x(B,A)}}I=s(D.cloneRange()),C||(I.collapse(!1),I.insertNode(F.create("span",{"data-mce-type":"bookmark",id:J+"_end",style:w},H))),D=s(D),D.collapse(!0),D.insertNode(F.create("span",{"data-mce-type":"bookmark",id:J+"_start",style:w},H))}return G.moveToBookmark({id:J,keep:1}),{id:J}},moveToBookmark:function(D){function y(G){var F=D[G?"start":"end"],c,E,a,e;if(F){for(a=F[0],E=C,c=F.length-1;c>=1;c--){if(e=E.childNodes,F[c]>e.length-1){return}E=e[F[c]]}3===E.nodeType&&(a=Math.min(F[0],E.nodeValue.length)),1===E.nodeType&&(a=Math.min(F[0],E.childNodes.length)),G?z.setStart(E,a):z.setEnd(E,a)}return !0}function s(I){var H=A.get(D.id+"_"+I),e,E,F,o,G=D.keep;if(H&&(e=H.parentNode,"start"==I?(G?(e=H.firstChild,E=1):E=A.nodeIndex(H),x=w=e,B=l=E):(G?(e=H.firstChild,E=1):E=A.nodeIndex(H),w=e,l=E),!G)){for(o=H.previousSibling,F=H.nextSibling,v(j(H.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});H=A.get(D.id+"_"+I);){A.remove(H,1)}o&&F&&o.nodeType==F.nodeType&&3==o.nodeType&&!h&&(E=o.nodeValue.length,o.appendData(F.nodeValue),A.remove(F),"start"==I?(x=w=o,B=l=E):(w=o,l=E))}}function d(a){return !A.isBlock(a)||a.innerHTML||q||(a.innerHTML='<br data-mce-bogus="1" />'),a}var u=this,A=u.dom,z,C,x,w,B,l;if(D){if(D.start){if(z=A.createRng(),C=A.getRoot(),u.tridentSel){return u.tridentSel.moveToBookmark(D)}y(!0)&&y()&&u.setRng(z)}else{D.id?(s("start"),s("end"),x&&(z=A.createRng(),z.setStart(d(x),B),z.setEnd(d(w),l),u.setRng(z))):D.name?u.select(A.select(D.name)[D.index]):D.rng&&u.setRng(D.rng)}}},select:function(x,w){function d(o,i){var a=new t(o,o);do{if(3==o.nodeType&&0!==p(o.nodeValue).length){return i?u.setStart(o,0):u.setEnd(o,o.nodeValue.length),void 0}if("BR"==o.nodeName){return i?u.setStartBefore(o):u.setEndBefore(o),void 0}}while(o=i?a.next():a.prev())}var l=this,c=l.dom,u=c.createRng(),e;if(x){if(!w&&l.controlSelection.controlSelect(x)){return}e=c.nodeIndex(x),u.setStart(x.parentNode,e),u.setEnd(x.parentNode,e+1),w&&(d(x,1),d(x)),l.setRng(u)}return x},isCollapsed:function(){var a=this,d=a.getRng(),c=a.getSel();return !d||d.item?!1:d.compareEndPoints?0===d.compareEndPoints("StartToEnd",d):!c||d.collapsed},collapse:function(c){var i=this,d=i.getRng(),a;d.item&&(a=d.item(0),d=i.win.document.body.createTextRange(),d.moveToElementText(a)),d.collapse(!!c),i.setRng(d)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(l){var x=this,w,d,s,c=x.win.document;if(l&&x.tridentSel){return x.tridentSel.getRangeAt(0)}try{(w=x.getSel())&&(d=w.rangeCount>0?w.getRangeAt(0):w.createRange?w.createRange():c.createRange())}catch(u){}return q&&d&&d.setStart&&c.selection.createRange().item&&(s=c.selection.createRange().item(0),d=c.createRange(),d.setStartBefore(s),d.setEndAfter(s)),d||(d=c.createRange?c.createRange():c.body.createTextRange()),d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(s=x.dom.getRoot(),d.setStart(s,0),d.setEnd(s,0)),x.selectedRange&&x.explicitRange&&(0===d.compareBoundaryPoints(d.START_TO_START,x.selectedRange)&&0===d.compareBoundaryPoints(d.END_TO_END,x.selectedRange)?d=x.explicitRange:(x.selectedRange=null,x.explicitRange=null)),d},setRng:function(c,o){var l=this,a;if(c.select){try{c.select()}catch(d){}}else{if(l.tridentSel){if(c.cloneRange){try{return l.tridentSel.addRange(c),void 0}catch(d){}}}else{if(a=l.getSel()){l.explicitRange=c;try{a.removeAllRanges()}catch(d){}a.addRange(c),o===!1&&a.extend&&(a.collapse(c.endContainer,c.endOffset),a.extend(c.startContainer,c.startOffset)),l.selectedRange=a.rangeCount>0?a.getRangeAt(0):null}}}},setNode:function(a){var c=this;return c.setContent(c.dom.getOuterHTML(a)),a},getNode:function(){function l(a,o){for(var i=a;a&&3===a.nodeType&&0===a.length;){a=o?a.nextSibling:a.previousSibling}return a||i}var z=this,y=z.getRng(),d,w=y.startContainer,c=y.endContainer,x=y.startOffset,u=y.endOffset;return y?y.setStart?(d=y.commonAncestorContainer,!y.collapsed&&(w==c&&2>u-x&&w.hasChildNodes()&&(d=w.childNodes[x]),3===w.nodeType&&3===c.nodeType&&(w=w.length===x?l(w.nextSibling,!0):w.parentNode,c=0===u?l(c.previousSibling,!1):c.parentNode,w&&w===c))?w:d&&3==d.nodeType?d.parentNode:d):y.item?y.item(0):y.parentElement():z.dom.getRoot()},getSelectedBlocks:function(z,y){var d=this,u=d.dom,c,w,e=[];if(w=u.getRoot(),z=u.getParent(z||d.getStart(),u.isBlock),y=u.getParent(y||d.getEnd(),u.isBlock),z&&z!=w&&e.push(z),z&&y&&z!=y){c=z;for(var x=new t(z,w);(c=x.next())&&c!=y;){u.isBlock(c)&&e.push(c)}}return y&&z!=y&&y!=w&&e.push(y),e},isForward:function(){var c=this.dom,i=this.getSel(),d,a;return i&&i.anchorNode&&i.focusNode?(d=c.createRng(),d.setStart(i.anchorNode,i.anchorOffset),d.collapse(!0),a=c.createRng(),a.setStart(i.focusNode,i.focusOffset),a.collapse(!0),d.compareBoundaryPoints(d.START_TO_START,a)<=0):!0},normalize:function(){function l(y){function z(E,u){for(var s=new t(E,w.getParent(E.parentNode,w.isBlock)||o);E=s[u?"prev":"next"]();){if("BR"===E.nodeName){return !0}}}function D(s,u){return s.previousSibling&&s.previousSibling.nodeName==u}function r(F,E){var s,u;for(E=E||B,s=new t(E,w.getParent(E.parentNode,w.isBlock)||o);A=s[F?"prev":"next"]();){if(3===A.nodeType&&A.nodeValue.length>0){return B=A,C=F?A.nodeValue.length:0,d=!0,void 0}if(w.isBlock(A)||i[A.nodeName.toLowerCase()]){return}u=A}a&&u&&(B=u,d=!0,C=0)}var B,C,x,w=e.dom,o=w.getRoot(),A,i,n;if(B=c[(y?"start":"end")+"Container"],C=c[(y?"start":"end")+"Offset"],i=w.schema.getNonEmptyElements(),9===B.nodeType&&(B=w.getRoot(),C=0),B===o){if(y&&(A=B.childNodes[C>0?C-1:0],A&&(n=A.nodeName.toLowerCase(),i[A.nodeName]||"TABLE"==A.nodeName))){return}if(B.hasChildNodes()&&(C=Math.min(!y&&C>0?C-1:C,B.childNodes.length-1),B=B.childNodes[C],C=0,B.hasChildNodes()&&!/TABLE/.test(B.nodeName))){A=B,x=new t(B,o);do{if(3===A.nodeType&&A.nodeValue.length>0){C=y?0:A.nodeValue.length,B=A,d=!0;break}if(i[A.nodeName.toLowerCase()]){C=w.nodeIndex(A),B=A.parentNode,"IMG"!=A.nodeName||y||C++,d=!0;break}}while(A=y?x.next():x.prev())}}a&&(3===B.nodeType&&0===C&&r(!0),1===B.nodeType&&(A=B.childNodes[C],!A||"BR"!==A.nodeName||D(A,"A")||z(A)||z(A,!0)||r(!0,B.childNodes[C]))),y&&!a&&3===B.nodeType&&C===B.nodeValue.length&&r(!1),d&&c["set"+(y?"Start":"End")](B,C)}var e=this,c,d,a;q||(c=e.getRng(),a=c.collapsed,l(!0),a||l(),d&&(a&&c.collapse(!0),e.setRng(c,e.isForward())))},selectorChanged:function(c,i){var d=this,a;return d.selectorChangedData||(d.selectorChangedData={},a={},d.editor.on("NodeChange",function(n){var u=n.element,r=d.dom,l=r.getParents(u,null,r.getRoot()),s={};v(d.selectorChangedData,function(o,w){v(l,function(e){return r.is(e,w)?(a[w]||(v(o,function(x){x(!0,{node:e,selector:w,parents:l})}),a[w]=o),s[w]=o,!1):void 0})}),v(a,function(o,w){s[w]||(delete a[w],v(o,function(x){x(!1,{node:u,selector:w,parents:l})}))})})),d.selectorChangedData[c]||(d.selectorChangedData[c]=[]),d.selectorChangedData[c].push(i),d},scrollIntoView:function(c){var o,l,a=this,d=a.dom;l=d.getViewPort(a.editor.getWin()),o=d.getPos(c).y,(o<l.y||o+25>l.y+l.h)&&a.editor.getWin().scrollTo(0,o<l.y?o:o-l.h+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},k}),bk(bQ,[ab],function(a){function c(d){this.walk=function(A,e){function k(f){var g;return g=f[0],3===g.nodeType&&g===z&&F>=g.nodeValue.length&&f.splice(0,1),g=f[f.length-1],0===x&&f.length>0&&g===G&&3===g.nodeType&&f.splice(f.length-1,1),f}function C(g,i,h){for(var f=[];g&&g!=h;g=g[i]){f.push(g)}return f}function B(f,g){do{if(f.parentNode==g){return f}f=f.parentNode}while(f)}function H(f,i,h){var g=h?"nextSibling":"previousSibling";for(j=f,n=j.parentNode;j&&j!=i;j=n){n=j.parentNode,D=C(j==f?j:j[g],g),D.length&&(h||D.reverse(),e(k(D)))}}var z=A.startContainer,F=A.startOffset,G=A.endContainer,x=A.endOffset,w,q,E,j,n,D,I;if(I=d.select("td.mce-item-selected,th.mce-item-selected"),I.length>0){return b(I,function(f){e([f])}),void 0}if(1==z.nodeType&&z.hasChildNodes()&&(z=z.childNodes[F]),1==G.nodeType&&G.hasChildNodes()&&(G=G.childNodes[Math.min(x-1,G.childNodes.length-1)]),z==G){return e(k([z]))}for(w=d.findCommonAncestor(z,G),j=z;j;j=j.parentNode){if(j===G){return H(z,w,!0)}if(j===w){break}}for(j=G;j;j=j.parentNode){if(j===z){return H(G,w)}if(j===w){break}}q=B(z,w)||z,E=B(G,w)||G,H(z,q,!0),D=C(q==z?q:q.nextSibling,"nextSibling",E==G?E.nextSibling:E),D.length&&e(k(D)),H(G,E)},this.split=function(h){function l(i,m){return i.splitText(m)}var k=h.startContainer,g=h.startOffset,j=h.endContainer,f=h.endOffset;return k==j&&3==k.nodeType?g>0&&g<k.nodeValue.length&&(j=l(k,g),k=j.previousSibling,f>g?(f-=g,k=j=l(j,f).previousSibling,f=j.nodeValue.length,g=0):f=0):(3==k.nodeType&&g>0&&g<k.nodeValue.length&&(k=l(k,g),g=0),3==j.nodeType&&f>0&&f<j.nodeValue.length&&(j=l(j,f).previousSibling,f=j.nodeValue.length)),{startContainer:k,startOffset:g,endContainer:j,endOffset:f}}}var b=a.each;return c.compareRanges=function(d,f){if(d&&f){if(!d.item&&!d.duplicate){return d.startContainer==f.startContainer&&d.startOffset==f.startOffset}if(d.item&&f.item&&d.item(0)===f.item(0)){return !0}if(d.isEqual&&f.isEqual&&f.isEqual(d)){return !0}}return !1},c}),bk(bf,[ah,bQ,ab],function(a,c,b){return function(cA){function cz(d){return d.nodeType&&(d=d.nodeName),!!cA.schema.getTextBlockElements()[d.toLowerCase()]}function cm(d,f){return bY.getParents(d,f,bY.getRoot())}function cq(d){return 1===d.nodeType&&"_mce_caret"===d.id}function cy(){cl({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(d,g,f){cx(f,function(i,h){bY.setAttrib(d,h,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cx("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(d){cl(d,{block:d,remove:"all"})}),cl(cA.settings.formats)}function cE(){cA.addShortcut("ctrl+b","bold_desc","Bold"),cA.addShortcut("ctrl+i","italic_desc","Italic"),cA.addShortcut("ctrl+u","underline_desc","Underline");for(var d=1;6>=d;d++){cA.addShortcut("ctrl+"+d,"",["FormatBlock",!1,"h"+d])}cA.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),cA.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),cA.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function cf(d){return d?cb[d]:cb}function cl(d,f){d&&("string"!=typeof d?cx(d,function(g,h){cl(h,g)}):(f=f.length?f:[f],cx(f,function(g){g.deep===ct&&(g.deep=!g.selector),g.split===ct&&(g.split=!g.selector||g.inline),g.remove===ct&&g.selector&&!g.inline&&(g.remove="none"),g.selector&&g.inline&&(g.mixed=!0,g.block_expand=!0),"string"==typeof g.classes&&(g.classes=g.classes.split(/\s+/))}),cb[d]=f))}function cC(d){var f;return cA.dom.getParent(d,function(g){return f=cA.dom.getStyle(g,"text-decoration"),f&&"none"!==f}),f}function ca(d){var f;1===d.nodeType&&d.parentNode&&1===d.parentNode.nodeType&&(f=cC(d.parentNode),cA.dom.getStyle(d,"color")&&f?cA.dom.setStyle(d,"text-decoration",f):cA.dom.getStyle(d,"textdecoration")===f&&cA.dom.setStyle(d,"text-decoration",null))}function ci(q,i,r){function A(d,h){h=h||g,d&&(h.onformat&&h.onformat(d,h,i,r),cx(h.styles,function(m,l){bY.setStyle(d,l,cw(m,i))}),cx(h.attributes,function(m,l){bY.setAttrib(d,l,cw(m,i))}),cx(h.classes,function(l){l=cw(l,i),bY.hasClass(d,l)||bY.addClass(d,l)}))}function j(){function v(y,s){var l=new a(s);for(r=l.current();r;r=l.prev()){if(r.childNodes.length>1||r==y||"BR"==r.tagName){return r}}}var u=cA.selection.getRng(),h=u.startContainer,m=u.endContainer;if(h!=m&&0===u.endOffset){var d=v(h,m),o=3==d.nodeType?d.length:d.childNodes.length;u.setEnd(d,o)}return u}function z(G,y,h,d,m){var D=[],C=-1,H,v=-1,E=-1,F;return cx(G.childNodes,function(l,o){return"UL"===l.nodeName||"OL"===l.nodeName?(C=o,H=l,!1):void 0}),cx(G.childNodes,function(l,o){"SPAN"===l.nodeName&&"bookmark"==bY.getAttrib(l,"data-mce-type")&&(l.id==y.id+"_start"?v=o:l.id==y.id+"_end"&&(E=o))}),0>=C||C>v&&E>C?(cx(bZ(G.childNodes),m),0):(F=bY.clone(h,e),cx(bZ(G.childNodes),function(l,o){(C>v&&C>o||v>C&&o>C)&&(D.push(l),l.parentNode.removeChild(l))}),C>v?G.insertBefore(F,H):v>C&&G.insertBefore(F,H.nextSibling),d.push(F),cx(D,function(l){F.appendChild(l)}),F)}function k(v,m,h){var C=[],u,s,y=!0;u=g.inline||g.block,s=bY.create(u),A(s),co.walk(v,function(l){function d(G){var H,E,F,D,I;return I=y,H=G.nodeName.toLowerCase(),E=G.parentNode.nodeName.toLowerCase(),1===G.nodeType&&b5(G)&&(I=y,y="true"===b5(G),D=!0),ch(H,"br")?(o=0,g.block&&bY.remove(G),void 0):g.wrapper&&cc(G,q,i)?(o=0,void 0):y&&!D&&g.block&&!g.wrapper&&cz(H)&&b3(E,u)?(G=bY.rename(G,u),A(G),C.push(G),o=0,void 0):g.selector&&(cx(x,function(J){"collapsed" in J&&J.collapsed!==f||bY.is(G,J.selector)&&!cq(G)&&(A(G,J),F=!0)}),!g.inline||F)?(o=0,void 0):(!y||D||!b3(u,H)||!b3(E,u)||!h&&3===G.nodeType&&1===G.nodeValue.length&&65279===G.nodeValue.charCodeAt(0)||cq(G)||g.inline&&b9(G)?"li"==H&&m?o=z(G,m,s,C,d):(o=0,cx(bZ(G.childNodes),d),D&&(y=I),o=0):(o||(o=bY.clone(s,e),G.parentNode.insertBefore(o,G),C.push(o)),o.appendChild(G)),void 0)}var o;cx(l,d)}),g.wrap_links===!1&&cx(C,function(d){function l(D){var F,o,E;if("A"===D.nodeName){for(o=bY.clone(s,e),C.push(o),E=bZ(D.childNodes),F=0;F<E.length;F++){o.appendChild(E[F])}D.appendChild(o)}cx(bZ(D.childNodes),l)}l(d)}),cx(C,function(D){function l(o){var F=0;return cx(o.childNodes,function(G){cj(G)||b4(G)||F++}),F}function E(o){var G,F;return cx(o.childNodes,function(H){return 1!=H.nodeType||b4(H)||cq(H)?void 0:(G=H,e)}),G&&cv(G,g)&&(F=bY.clone(G,e),A(F),bY.replace(F,o,bV),bY.remove(G,1)),F||o}var d;if(d=l(D),(C.length>1||!b9(D))&&0===d){return bY.remove(D,1),void 0}if(g.inline||g.wrapper){if(g.exact||1!==d||(D=E(D)),cx(x,function(o){cx(bY.select(o.inline,D),function(G){var F;if(o.wrap_links===!1){F=G.parentNode;do{if("A"===F.nodeName){return}}while(F=F.parentNode)}cn(o,i,G,o.exact?G:null)})}),cc(D.parentNode,q,i)){return bY.remove(D,1),D=0,bV}g.merge_with_parents&&bY.getParent(D.parentNode,function(o){return cc(o,q,i)?(bY.remove(D,1),D=0,bV):void 0}),D&&g.merge_siblings!==!1&&(D=bW(cu(D),D),D=bW(D,cu(D,bV)))}})}var x=cf(q),g=x[0],w,B,f=!r&&n.isCollapsed();if(g){if(r){r.nodeType?(B=bY.createRng(),B.setStartBefore(r),B.setEndAfter(r),k(cH(B,x),null,!0)):k(r,null,!0)}else{if(f&&g.inline&&!bY.select("td.mce-item-selected,th.mce-item-selected").length){t("apply",q,i)}else{var p=cA.selection.getNode();b2||!x[0].defaultBlock||bY.getParent(p,bY.isBlock)||ci(x[0].defaultBlock),cA.selection.setRng(j()),w=n.getBookmark(),k(cH(n.getRng(bV),x),w),g.styles&&(g.styles.color||g.styles.textDecoration)&&(cs(p,ca,"childNodes"),ca(p)),n.moveToBookmark(w),cB(n.getRng(bV)),cA.nodeChanged()}}}}function b0(A,v,j){function k(i){var p,h,f,m,l;if(1===i.nodeType&&b5(i)&&(m=d,d="true"===b5(i),l=!0),p=bZ(i.childNodes),d&&!l){for(h=0,f=o.length;f>h&&!cn(o[h],v,i,i);h++){}}if(x.deep&&p.length){for(h=0,f=p.length;f>h;h++){k(p[h])}l&&(d=m)}}function w(h){var f;return cx(cm(h.parentNode).reverse(),function(m){var l;f||"_start"==m.id||"_end"==m.id||(l=cc(m,A,v),l&&l.split!==!1&&(f=m))}),f}function B(G,h,f,m){var D,y,H,p,E,F;if(G){for(F=G.parentNode,D=h.parentNode;D&&D!=F;D=D.parentNode){for(y=bY.clone(D,e),E=0;E<o.length;E++){if(cn(o[E],v,y,y)){y=0;break}}y&&(H&&y.appendChild(H),p||(p=y),H=y)}!m||x.mixed&&b9(G)||(h=bY.split(G,h)),H&&(f.parentNode.insertBefore(H,f),p.appendChild(f))}return h}function r(f){return B(w(f),f,f,!0)}function z(f){var i=bY.get(f?"_start":"_end"),h=i[f?"firstChild":"lastChild"];return b4(h)&&(h=h[f?"firstChild":"lastChild"]),bY.remove(i,!0),h}function q(f){var i,h;f=cH(f,o,bV),x.split&&(i=cg(f,bV),h=cg(f),i!=h?(/^(TR|TD)$/.test(i.nodeName)&&i.firstChild&&(i="TD"==i.nodeName?i.firstChild||i:i.firstChild.firstChild||i),i=b1(i,"span",{id:"_start","data-mce-type":"bookmark"}),h=b1(h,"span",{id:"_end","data-mce-type":"bookmark"}),r(i),r(h),i=z(bV),h=z()):i=h=r(i),f.startContainer=i.parentNode,f.startOffset=cd(i),f.endContainer=h.parentNode,f.endOffset=cd(h)+1),co.walk(f,function(l){cx(l,function(m){k(m),1===m.nodeType&&"underline"===cA.dom.getStyle(m,"text-decoration")&&m.parentNode&&"underline"===cC(m.parentNode)&&cn({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,m)})})}var o=cf(A),x=o[0],g,C,d=!0;return j?(j.nodeType?(C=bY.createRng(),C.setStartBefore(j),C.setEndAfter(j),q(C)):q(j),void 0):(n.isCollapsed()&&x.inline&&!bY.select("td.mce-item-selected,th.mce-item-selected").length?t("remove",A,v):(g=n.getBookmark(),q(n.getRng(bV)),n.moveToBookmark(g),x.inline&&at(A,v,n.getStart())&&cB(n.getRng(!0)),cA.nodeChanged()),void 0)}function b6(f,h,g){var d=cf(f);!at(f,h,g)||"toggle" in d[0]&&!d[0].toggle?ci(f,h,g):b0(f,h,g)}function cc(p,j,f,d){function g(u,z,w){var r,x,v=z[w],y;if(z.onmatch){return z.onmatch(u,z,w)}if(v){if(v.length===ct){for(r in v){if(v.hasOwnProperty(r)){if(x="attributes"===w?bY.getAttrib(u,r):cF(u,r),d&&!x&&!z.exact){return}if((!d||z.exact)&&!ch(x,ck(cw(v[r],f),r))){return}}}}else{for(y=0;y<v.length;y++){if("attributes"===w?bY.getAttrib(u,v[y]):cF(u,v[y])){return z}}}}return z}var m=cf(j),k,q,h;if(m&&p){for(q=0;q<m.length;q++){if(k=m[q],cv(p,k)&&g(p,k,"attributes")&&g(p,k,"styles")){if(h=k.classes){for(q=0;q<h.length;q++){if(!bY.hasClass(p,h[q])){return}}}return k}}}}function at(f,j,h){function d(i){return i=bY.getParent(i,function(k){return !!cc(k,f,j,!0)}),cc(i,f,j)}var g;return h?d(h):(h=n.getNode(),d(h)?bV:(g=n.getStart(),g!=h&&d(g)?bV:e))}function b8(f,j){var h,d=[],g={};return h=n.getStart(),bY.getParent(h,function(l){var i,k;for(i=0;i<f.length;i++){k=f[i],!g[k]&&cc(l,k,j)&&(g[k]=!0,d.push(k))}},bY.getRoot()),d}function cG(f){var l=cf(f),k,d,h,j,g;if(l){for(k=n.getStart(),d=cm(k),j=l.length-1;j>=0;j--){if(g=l[j].selector,!g){return bV}for(h=d.length-1;h>=0;h--){if(bY.is(d[h],g)){return bV}}}}return e}function ce(d,h,g){var f;return bt||(bt={},f={},cA.on("NodeChange",function(i){var k=cm(i.element),j={};cx(bt,function(m,l){cx(k,function(p){return cc(p,l,{},m.similar)?(f[l]||(cx(m,function(o){o(!0,{node:p,format:l,parents:k})}),f[l]=m),j[l]=m,!1):void 0})}),cx(f,function(m,l){j[l]||(delete f[l],cx(m,function(o){o(!1,{node:i.element,format:l,parents:k})}))})})),cx(d.split(","),function(i){bt[i]||(bt[i]=[],bt[i].similar=g),bt[i].push(h)}),this}function cv(d,f){return ch(d,f.inline)?bV:ch(d,f.block)?bV:f.selector?1==d.nodeType&&bY.is(d,f.selector):void 0}function ch(d,f){return d=d||"",f=f||"",d=""+(d.nodeName||d),f=""+(f.nodeName||f),d.toLowerCase()==f.toLowerCase()}function cF(d,f){return ck(bY.getStyle(d,f),f)}function ck(d,f){return("color"==f||"backgroundColor"==f)&&(d=bY.toHex(d)),"fontWeight"==f&&700==d&&(d="bold"),"fontFamily"==f&&(d=d.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+d}function cw(d,f){return"string"!=typeof d?d=d(f):f&&(d=d.replace(/%(\w+)/g,function(g,h){return f[h]||g})),d}function cj(d){return d&&3===d.nodeType&&/^([\t \r\n]+|)$/.test(d.nodeValue)}function b1(f,h,g){var d=bY.create(h,g);return f.parentNode.insertBefore(d,f),d.appendChild(f),d}function cH(z,k,A){function F(g){function p(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var f,l,d,m,h;if(f=l=g?o:G,m=g?"previousSibling":"nextSibling",h=bY.getRoot(),3==f.nodeType&&!cj(f)&&(g?B>0:i<f.nodeValue.length)){return f}for(;;){if(!k[0].block_expand&&b9(l)){return l}for(d=l[m];d;d=d[m]){if(!b4(d)&&!cj(d)&&!p(d)){return l}}if(l.parentNode==h){f=l;break}l=l.parentNode}return f}function w(d,f){for(f===ct&&(f=3===d.nodeType?d.length:d.childNodes.length);d&&d.hasChildNodes();){d=d.childNodes[f],d&&(f=3===d.nodeType?d.length:d.childNodes.length)}return{node:d,offset:f}}function D(d){for(var f=d;f;){if(1===f.nodeType&&b5(f)){return"false"===b5(f)?f:d}f=f.parentNode}return d}function E(y,v,h){function d(u,I){var H,s,l=u.nodeValue;return"undefined"==typeof I&&(I=h?l.length:0),h?(H=l.lastIndexOf(" ",I),s=l.lastIndexOf("\xa0",I),H=H>s?H:s,-1===H||A||H++):(H=l.indexOf(" ",I),s=l.indexOf("\xa0",I),H=-1!==H&&(-1===s||s>H)?H:s),H}var g,p,f,m;if(3===y.nodeType){if(f=d(y,v),-1!==f){return{container:y,offset:f}}m=y}for(g=new a(y,bY.getParent(y,b9)||cA.getBody());p=g[h?"prev":"next"]();){if(3===p.nodeType){if(m=p,f=d(p),-1!==f){return{container:p,offset:f}}}else{if(b9(p)){break}}}return m?(v=h?0:m.length,{container:m,offset:v}):void 0}function x(f,d){var h,m,g,p;for(3==f.nodeType&&0===f.nodeValue.length&&f[d]&&(f=f[d]),h=cm(f),m=0;m<h.length;m++){for(g=0;g<k.length;g++){if(p=k[g],!("collapsed" in p&&p.collapsed!==z.collapsed)&&bY.is(h[m],p.selector)){return h[m]}}}return f}function r(f,g){var d;if(k[0].wrapper||(d=bY.getParent(f,k[0].block)),d||(d=bY.getParent(3==f.nodeType?f.parentNode:f,cz)),d&&k[0].wrapper&&(d=cm(d,"ul,ol").reverse()[0]||d),!d){for(d=f;d[g]&&!b9(d[g])&&(d=d[g],!ch(d,"br"));){}}return d||f}var q,C,j,o=z.startContainer,B=z.startOffset,G=z.endContainer,i=z.endOffset;if(1==o.nodeType&&o.hasChildNodes()&&(q=o.childNodes.length-1,o=o.childNodes[B>q?q:B],3==o.nodeType&&(B=0)),1==G.nodeType&&G.hasChildNodes()&&(q=G.childNodes.length-1,G=G.childNodes[i>q?q:i-1],3==G.nodeType&&(i=G.nodeValue.length)),o=D(o),G=D(G),(b4(o.parentNode)||b4(o))&&(o=b4(o)?o:o.parentNode,o=o.nextSibling||o,3==o.nodeType&&(B=0)),(b4(G.parentNode)||b4(G))&&(G=b4(G)?G:G.parentNode,G=G.previousSibling||G,3==G.nodeType&&(i=G.length)),k[0].inline&&(z.collapsed&&(j=E(o,B,!0),j&&(o=j.container,B=j.offset),j=E(G,i),j&&(G=j.container,i=j.offset)),C=w(G,i),C.node)){for(;C.node&&0===C.offset&&C.node.previousSibling;){C=w(C.node.previousSibling)}C.node&&C.offset>0&&3===C.node.nodeType&&" "===C.node.nodeValue.charAt(C.offset-1)&&C.offset>1&&(G=C.node,G.splitText(C.offset-1))}return(k[0].inline||k[0].block_expand)&&(k[0].inline&&3==o.nodeType&&0!==B||(o=F(!0)),k[0].inline&&3==G.nodeType&&i!==G.nodeValue.length||(G=F())),k[0].selector&&k[0].expand!==e&&!k[0].inline&&(o=x(o,"previousSibling"),G=x(G,"nextSibling")),(k[0].block||k[0].selector)&&(o=r(o,"previousSibling"),G=r(G,"nextSibling"),k[0].block&&(b9(o)||(o=F(!0)),b9(G)||(G=F()))),1==o.nodeType&&(B=cd(o),o=o.parentNode),1==G.nodeType&&(i=cd(G)+1,G=G.parentNode),{startContainer:o,startOffset:B,endContainer:G,endOffset:i}}function cn(g,l,k,f){var h,d,j;if(!cv(k,g)){return e}if("all"!=g.remove){for(cx(g.styles,function(m,o){m=ck(cw(m,l),o),"number"==typeof o&&(o=m,f=0),(!f||ch(cF(f,o),m))&&bY.setStyle(k,o,""),j=1}),j&&""===bY.getAttrib(k,"style")&&(k.removeAttribute("style"),k.removeAttribute("data-mce-style")),cx(g.attributes,function(p,q){var m;if(p=cw(p,l),"number"==typeof q&&(q=p,f=0),!f||ch(bY.getAttrib(f,q),p)){if("class"==q&&(p=bY.getAttrib(k,q),p&&(m="",cx(p.split(/\s+/),function(i){/mce\w+/.test(i)&&(m+=(m?" ":"")+i)}),m))){return bY.setAttrib(k,q,m),void 0}"class"==q&&k.removeAttribute("className"),cD.test(q)&&k.removeAttribute("data-mce-"+q),k.removeAttribute(q)}}),cx(g.classes,function(i){i=cw(i,l),(!f||bY.hasClass(f,i))&&bY.removeClass(k,i)}),d=bY.getAttribs(k),h=0;h<d.length;h++){if(0!==d[h].nodeName.indexOf("_")){return e}}}return"none"!=g.remove?(cI(k,g),bV):void 0}function cI(f,j){function h(i,l,k){return i=cu(i,l,k),!i||"BR"==i.nodeName||b9(i)}var d=f.parentNode,g;j.block&&(b2?d==bY.getRoot()&&(j.list_block&&ch(f,j.list_block)||cx(bZ(f.childNodes),function(i){b3(b2,i.nodeName.toLowerCase())?g?g.appendChild(i):g=b1(i,b2):g=0})):b9(f)&&!b9(d)&&(h(f,e)||h(f.firstChild,bV,1)||f.insertBefore(bY.create("br"),f.firstChild),h(f,bV)||h(f.lastChild,e,1)||f.appendChild(bY.create("br")))),j.selector&&j.inline&&!ch(j.inline,f)||bY.remove(f,1)}function cu(d,g,f){if(d){for(g=g?"nextSibling":"previousSibling",d=f?d:d[g];d;d=d[g]){if(1==d.nodeType||!cj(d)){return d}}}}function b4(d){return d&&1==d.nodeType&&"bookmark"==d.getAttribute("data-mce-type")}function bW(g,k){function j(l,o){function m(p){var q={};return cx(bY.getAttribs(p),function(u){var s=u.nodeName.toLowerCase();0!==s.indexOf("_")&&"style"!==s&&(q[s]=bY.getAttrib(p,s))}),q}function i(q,u){var s,p;for(p in q){if(q.hasOwnProperty(p)){if(s=u[p],s===ct){return e}if(q[p]!=s){return e}delete u[p]}}for(p in u){if(u.hasOwnProperty(p)){return e}}return bV}return l.nodeName!=o.nodeName?e:i(m(l),m(o))?i(bY.parseStyle(bY.getAttrib(l,"style")),bY.parseStyle(bY.getAttrib(o,"style")))?bV:e:e}function f(i,l){for(h=i;h;h=h[l]){if(3==h.nodeType&&0!==h.nodeValue.length){return i}if(1==h.nodeType&&!b4(h)){return h}}return i}var h,d;if(g&&k&&(g=f(g,"previousSibling"),k=f(k,"nextSibling"),j(g,k))){for(h=g.nextSibling;h&&h!=k;){d=h,h=h.nextSibling,g.appendChild(d)}return bY.remove(k),cx(bZ(k.childNodes),function(i){g.appendChild(i)}),g}return k}function cg(j,h){var f,d,g;return f=j[h?"startContainer":"endContainer"],d=j[h?"startOffset":"endOffset"],1==f.nodeType&&(g=f.childNodes.length-1,!h&&d&&d--,f=f.childNodes[d>g?g:d]),3===f.nodeType&&h&&d>=f.nodeValue.length&&(f=new a(f,cA.getBody()).next()||f),3!==f.nodeType||h||0!==d||(f=new a(f,cA.getBody()).prev()||f),f}function t(q,i,w){function r(d){var f=bY.create("span",{id:B,"data-mce-bogus":!0,style:g?"color:red":""});return d&&f.appendChild(cA.getDoc().createTextNode(cp)),f}function A(d,f){for(;d;){if(3===d.nodeType&&d.nodeValue!==cp||d.childNodes.length>1){return !1}f&&1===d.nodeType&&f.push(d),d=d.firstChild}return !0}function k(d){for(;d;){if(d.id===B){return d}d=d.parentNode}}function z(f){var d;if(f){for(d=new a(f,f),f=d.current();f;f=d.next()){if(3===f.nodeType){return f}}}}function p(f,m){var l,d;if(f){d=n.getRng(!0),A(f)?(m!==!1&&(d.setStartBefore(f),d.setEndBefore(f)),bY.remove(f)):(l=z(f),l.nodeValue.charAt(0)===cp&&(l=l.deleteData(0,1)),bY.remove(f,1)),n.setRng(d)}else{if(f=k(n.getStart()),!f){for(;f=bY.get(B);){p(f,!1)}}}}function j(){var o,C,l,v,u,m,y;o=n.getRng(!0),v=o.startOffset,m=o.startContainer,y=m.nodeValue,C=k(n.getStart()),C&&(l=z(C)),y&&v>0&&v<y.length&&/\w/.test(y.charAt(v))&&/\w/.test(y.charAt(v-1))?(u=n.getBookmark(),o.collapse(!0),o=cH(o,cf(i)),o=co.split(o),ci(i,w,o),n.moveToBookmark(u)):(C&&l.nodeValue===cp?ci(i,w,C):(C=r(!0),l=C.firstChild,o.insertNode(C),v=1,ci(i,w,C)),n.setCursorLocation(l,v))}function h(){var J=n.getRng(!0),G,o,K,D,I,F,E=[],C,y;for(G=J.startContainer,o=J.startOffset,I=G,3==G.nodeType&&((o!=G.nodeValue.length||G.nodeValue===cp)&&(D=!0),I=I.parentNode);I;){if(cc(I,i,w)){F=I;break}I.nextSibling&&(D=!0),E.push(I),I=I.parentNode}if(F){if(D){K=n.getBookmark(),J.collapse(!0),J=cH(J,cf(i),!0),J=co.split(J),b0(i,w,J),n.moveToBookmark(K)}else{for(y=r(),I=y,C=E.length-1;C>=0;C--){I.appendChild(bY.clone(E[C],!1)),I=I.firstChild}I.appendChild(bY.doc.createTextNode(cp)),I=I.firstChild;var H=bY.getParent(F,cz);H&&bY.isEmpty(H)?F.parentNode.replaceChild(y,F):bY.insertAfter(y,F),n.setCursorLocation(I,1)}}}function x(){var d;d=k(n.getStart()),d&&!bY.isEmpty(d)&&cs(d,function(f){1!=f.nodeType||f.id===B||bY.isEmpty(f)||bY.setAttrib(f,"data-mce-bogus",null)},"childNodes")}var B="_mce_caret",g=cA.settings.caret_debug;cA._hasCaretEvents||(b7=function(){var d=[],f;if(A(k(n.getStart()),d)){for(f=d.length;f--;){bY.setAttrib(d[f],"data-mce-bogus","1")}}},cr=function(d){var f=d.keyCode;p(),(8==f||37==f||39==f)&&p(k(n.getStart())),x()},cA.on("SetContent",function(d){d.selection&&x()}),cA._hasCaretEvents=!0),"apply"==q?j():h()}function cB(p){var m=p.startContainer,f=p.startOffset,h,d,j,g,k;if(3==m.nodeType&&f>=m.nodeValue.length&&(f=cd(m),m=m.parentNode,h=!0),1==m.nodeType){for(g=m.childNodes,m=g[Math.min(f,g.length-1)],d=new a(m,bY.getParent(m,bY.isBlock)),(f>g.length-1||h)&&d.next(),j=d.current();j;j=d.next()){if(3==j.nodeType&&!cj(j)){return k=bY.create("a",null,cp),j.parentNode.insertBefore(k,j),p.setStart(j,0),n.setRng(p),bY.remove(k),void 0}}}}var cb={},bY=cA.dom,n=cA.selection,co=new c(bY),b3=cA.schema.isValidChild,b9=bY.isBlock,b2=cA.settings.forced_root_block,cd=bY.nodeIndex,cp="\ufeff",cD=/^(src|href|style)$/,e=!1,bV=!0,bt,ct,b5=bY.getContentEditable,cr,b7,cx=b.each,bZ=b.grep,cs=b.walk,bX=b.extend;bX(this,{get:cf,register:cl,apply:ci,remove:b0,toggle:b6,match:at,matchAll:b8,matchNode:cc,canApply:cG,formatChanged:ce}),cy(),cE(),cA.on("BeforeGetContent",function(){b7&&b7()}),cA.on("mouseup keydown",function(d){cr&&cr(d)})}}),bk(bA,[bp,ab],function(b,d){var c=d.trim,a;return a=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(n){function h(){return c(n.getContent({format:"raw",no_events:1}).replace(a,""))}function e(){j.typing=!1,j.add()}var j,g=0,m=[],f,k;return n.on("init",function(){j.add()}),n.on("BeforeExecCommand",function(i){var l=i.command;"Undo"!=l&&"Redo"!=l&&"mceRepaint"!=l&&j.beforeChange()}),n.on("ExecCommand",function(i){var l=i.command;"Undo"!=l&&"Redo"!=l&&"mceRepaint"!=l&&j.add()}),n.on("ObjectResizeStart",function(){j.beforeChange()}),n.on("SaveContent ObjectResized",e),n.dom.bind(n.dom.getRoot(),"dragend",e),n.dom.bind(n.getBody(),"focusout",function(){!n.removed&&j.typing&&e()}),n.on("KeyUp",function(l){var i=l.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||l.ctrlKey)&&(e(),n.nodeChanged()),(46==i||8==i||b.mac&&(91==i||93==i))&&n.nodeChanged(),k&&j.typing&&(n.isDirty()||(n.isNotDirty=!m[0]||h()==m[0].content),n.fire("TypingUndo"),k=!1,n.nodeChanged())}),n.on("KeyDown",function(i){var l=i.keyCode;return l>=33&&36>=l||l>=37&&40>=l||45==l?(j.typing&&e(),void 0):((16>l||l>20)&&224!=l&&91!=l&&!j.typing&&(j.beforeChange(),j.typing=!0,j.add(),k=!0),void 0)}),n.on("MouseDown",function(){j.typing&&e()}),n.addShortcut("ctrl+z","undo_desc","Undo"),n.addShortcut("ctrl+y","redo_desc","Redo"),n.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||n.nodeChanged()}),j={data:m,typing:!1,beforeChange:function(){f=n.selection.getBookmark(2,!0)},add:function(p){var s,l=n.settings,i;if(p=p||{},p.content=h(),n.fire("BeforeAddUndo",{level:p}).isDefaultPrevented()){return null}if(i=m[g],i&&i.content==p.content){return null}if(m[g]&&(m[g].beforeBookmark=f),l.custom_undo_redo_levels&&m.length>l.custom_undo_redo_levels){for(s=0;s<m.length-1;s++){m[s]=m[s+1]}m.length--,g=m.length}p.bookmark=n.selection.getBookmark(2,!0),g<m.length-1&&(m.length=g+1),m.push(p),g=m.length-1;var q={level:p,lastLevel:i};return n.fire("AddUndo",q),g>0&&(n.fire("change",q),n.isNotDirty=!1),p},undo:function(){var i;return j.typing&&(j.add(),j.typing=!1),g>0&&(i=m[--g],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.beforeBookmark),n.fire("undo",{level:i})),i},redo:function(){var i;return g<m.length-1&&(i=m[++g],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.bookmark),n.fire("redo",{level:i})),i},clear:function(){m=[],g=0,j.typing=!1,n.fire("ClearUndos")},hasUndo:function(){return g>0||j.typing&&m[0]&&h()!=m[0].content},hasRedo:function(){return g<m.length-1&&!this.typing},transact:function(i){j.beforeChange(),i(),j.add()}}}}),bk(bP,[ah,bp],function(a,c){var b=c.ie;return function(m){function e(z){function o(p){return p&&h.isBlock(p)&&!/^(TD|TH|CAPTION|FORM)$/.test(p.nodeName)&&!/^(fixed|absolute)/i.test(p.style.position)&&"true"!==h.getContentEditable(p)}function F(p){var r;h.isBlock(p)&&(r=d.getRng(),p.appendChild(h.create("span",null,"\xa0")),d.select(p),p.lastChild.outerHTML="",d.setRng(r))}function V(u){for(var w=u,v=[],p;w=w.firstChild;){if(h.isBlock(w)){return}1!=w.nodeType||f[w.nodeName.toLowerCase()]||v.push(w)}for(p=v.length;p--;){w=v[p],!w.hasChildNodes()||w.firstChild==w.lastChild&&""===w.firstChild.nodeValue?h.remove(w):"A"==w.nodeName&&" "===(w.innerText||w.textContent)&&h.remove(w)}}function W(y){var x,p,v,u=y,w;if(v=h.createRng(),y.hasChildNodes()){for(x=new a(y,y);p=x.current();){if(3==p.nodeType){v.setStart(p,0),v.setEnd(p,0);break}if(f[p.nodeName.toLowerCase()]){v.setStartBefore(p),v.setEndBefore(p);break}u=p,p=x.next()}p||(v.setStart(u,0),v.setEnd(u,0))}else{"BR"==y.nodeName?y.nextSibling&&h.isBlock(y.nextSibling)?((!q||9>q)&&(w=h.create("br"),y.parentNode.insertBefore(w,y)),v.setStartBefore(y),v.setEndBefore(y)):(v.setStartAfter(y),v.setEndAfter(y)):(v.setStart(y,0),v.setEnd(y,0))}d.setRng(v),h.remove(w),d.scrollIntoView(y)}function b1(v){var x=I,u,p,w;if(u=v||"TABLE"==bX?h.create(v||s):Y.cloneNode(!1),w=u,j.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(x.nodeName)){if("_mce_caret"==x.id){continue}p=x.cloneNode(!1),h.setAttrib(p,"id",""),u.hasChildNodes()?(p.appendChild(u.firstChild),u.appendChild(p)):(w=p,u.appendChild(p))}}while(x=x.parentNode)}return b||(w.innerHTML='<br data-mce-bogus="1">'),u}function J(w){var v,p,u;if(3==I.nodeType&&(w?l>0:l<I.nodeValue.length)){return !1}if(I.parentNode==Y&&i&&!w){return !0}if(w&&1==I.nodeType&&I==Y.firstChild){return !0}if("TABLE"===I.nodeName||I.previousSibling&&"TABLE"==I.previousSibling.nodeName){return i&&!w||!i&&w}for(v=new a(I,Y),3==I.nodeType&&(w&&0===l?v.prev():w||l!=I.nodeValue.length||v.next());p=v.current();){if(1===p.nodeType){if(!p.getAttribute("data-mce-bogus")&&(u=p.nodeName.toLowerCase(),f[u]&&"br"!==u)){return !1}}else{if(3===p.nodeType&&!/^[ \t\r\n]*$/.test(p.nodeValue)){return !1}}w?v.prev():v.next()}return !0}function U(B,u){var p,y,x,C,A,w,v=s||"P";if(y=h.getParent(B,h.isBlock),w=m.getBody().nodeName.toLowerCase(),!y||!o(y)){if(y=y||b0,!y.hasChildNodes()){return p=h.create(v),y.appendChild(p),bW.setStart(p,0),bW.setEnd(p,0),p}for(C=B;C.parentNode!=y;){C=C.parentNode}for(;C&&!h.isBlock(C);){x=C,C=C.previousSibling}if(x&&k.isValidChild(w,v.toLowerCase())){for(p=h.create(v),x.parentNode.insertBefore(p,x),C=x;C&&!h.isBlock(C);){A=C.nextSibling,p.appendChild(C),C=A}bW.setStart(B,u),bW.setEnd(B,u)}}return B}function Z(){function p(v){for(var w=X[v?"firstChild":"lastChild"];w&&1!=w.nodeType;){w=w[v?"nextSibling":"previousSibling"]}return w===Y}function u(){var v=X.parentNode;return"LI"==v.nodeName?v:X}var r=X.parentNode.nodeName;/^(OL|UL|LI)$/.test(r)&&(s="LI"),K=s?b1(s):h.create("BR"),p(!0)&&p()?"LI"==r?h.insertAfter(K,u()):h.replace(K,X):p(!0)?"LI"==r?(h.insertAfter(K,u()),K.appendChild(h.doc.createTextNode(" ")),K.appendChild(X)):X.parentNode.insertBefore(K,X):p()?(h.insertAfter(K,u()),F(K)):(X=u(),n=bW.cloneRange(),n.setStartAfter(Y),n.setEndAfter(X),Q=n.extractContents(),h.insertAfter(Q,X),h.insertAfter(K,X)),h.remove(Y),W(K),g.add()}function bV(){for(var r=new a(I,Y),p;p=r.next();){if(f[p.nodeName.toLowerCase()]||p.length>0){return !0}}}function at(){var u,v,p;I&&3==I.nodeType&&l>=I.nodeValue.length&&(b||bV()||(u=h.create("br"),bW.insertNode(u),bW.setStartAfter(u),bW.setEndAfter(u),v=!0)),u=h.create("br"),bW.insertNode(u),b&&"PRE"==bX&&(!q||8>q)&&u.parentNode.insertBefore(h.doc.createTextNode("\r"),u),p=h.create("span",{},"&nbsp;"),u.parentNode.insertBefore(p,u),d.scrollIntoView(p),h.remove(p),v?(bW.setStartBefore(u),bW.setEndBefore(u)):(bW.setStartAfter(u),bW.setEndAfter(u)),d.setRng(bW),g.add()}function bY(p){do{3===p.nodeType&&(p.nodeValue=p.nodeValue.replace(/^[\r\n]+/,"")),p=p.firstChild}while(p)}function bt(u){var w=h.getRoot(),v,p;for(v=u;v!==w&&"false"!==h.getContentEditable(v);){"true"===h.getContentEditable(v)&&(p=v),v=v.parentNode}return v!==w?p:w}function G(p){var r;b||(p.normalize(),r=p.lastChild,(!r||/^(left|right)$/gi.test(h.getStyle(r,"float",!0)))&&h.add(p,"br"))}var bW=d.getRng(!0),n,b0,I,l,Y,q,t,K,Q,X,bX,bZ,s,i;if(!bW.collapsed){return m.execCommand("Delete"),void 0}if(!z.isDefaultPrevented()&&(I=bW.startContainer,l=bW.startOffset,s=(j.force_p_newlines?"p":"")||j.forced_root_block,s=s?s.toUpperCase():"",q=h.doc.documentMode,t=z.shiftKey,1==I.nodeType&&I.hasChildNodes()&&(i=l>I.childNodes.length-1,I=I.childNodes[Math.min(l,I.childNodes.length-1)]||I,l=i&&3==I.nodeType?I.nodeValue.length:0),b0=bt(I))){if(g.beforeChange(),!h.isBlock(b0)&&b0!=h.getRoot()){return(!s||t)&&at(),void 0}if((s&&!t||!s&&t)&&(I=U(I,l)),Y=h.getParent(I,h.isBlock),X=Y?h.getParent(Y.parentNode,h.isBlock):null,bX=Y?Y.nodeName.toUpperCase():"",bZ=X?X.nodeName.toUpperCase():"","LI"!=bZ||z.ctrlKey||(Y=X,bX=bZ),"LI"==bX){if(!s&&t){return at(),void 0}if(h.isEmpty(Y)){return Z(),void 0}}if("PRE"==bX&&j.br_in_pre!==!1){if(!t){return at(),void 0}}else{if(!s&&!t&&"LI"!=bX||s&&t){return at(),void 0}}s&&Y===m.getBody()||(s=s||"P",J()?(K=/^(H[1-6]|PRE|FIGURE)$/.test(bX)&&"HGROUP"!=bZ?b1(s):b1(),j.end_container_on_empty_block&&o(X)&&h.isEmpty(Y)?K=h.split(X,Y):h.insertAfter(K,Y),W(K)):J(!0)?(K=Y.parentNode.insertBefore(b1(),Y),F(K)):(n=bW.cloneRange(),n.setEndAfter(Y),Q=n.extractContents(),bY(Q),K=Q.firstChild,h.insertAfter(Q,Y),V(K),G(Y),W(K)),h.setAttrib(K,"id",""),g.add())}}var h=m.dom,d=m.selection,j=m.settings,g=m.undoManager,k=m.schema,f=k.getNonEmptyElements();m.on("keydown",function(i){13==i.keyCode&&e(i)!==!1&&i.preventDefault()})}}),bk(aB,[],function(){return function(d){function j(){var z=f.getStart(),F=d.getBody(),n,D,E,q,o,r,B,i=-16777215,k,A,G,e,w;if(w=h.forced_root_block,z&&1===z.nodeType&&w){for(;z&&z!=F;){if(g[z.nodeName]){return}z=z.parentNode}if(n=f.getRng(),n.setStart){D=n.startContainer,E=n.startOffset,q=n.endContainer,o=n.endOffset;try{A=d.getDoc().activeElement===F}catch(a){}}else{n.item&&(z=n.item(0),n=d.getDoc().body.createTextRange(),n.moveToElementText(z)),A=n.parentElement().ownerDocument===d.getDoc(),G=n.duplicate(),G.collapse(!0),E=-1*G.move("character",i),G.collapsed||(G=n.duplicate(),G.collapse(!1),o=-1*G.move("character",i)-E)}for(z=F.firstChild,e=F.nodeName.toLowerCase();z;){if((3===z.nodeType||1==z.nodeType&&!g[z.nodeName])&&b.isValidChild(e,w.toLowerCase())){if(3===z.nodeType&&0===z.nodeValue.length){B=z,z=z.nextSibling,c.remove(B);continue}r||(r=c.create(w),z.parentNode.insertBefore(r,z),k=!0),B=z,z=z.nextSibling,r.appendChild(B)}else{r=null,z=z.nextSibling}}if(k&&A){if(n.setStart){n.setStart(D,E),n.setEnd(q,o),f.setRng(n)}else{try{n=d.getDoc().body.createTextRange(),n.moveToElementText(F),n.collapse(!0),n.moveStart("character",E),o>0&&n.moveEnd("character",o),n.select()}catch(a){}}d.nodeChanged()}}}var h=d.settings,c=d.dom,f=d.selection,b=d.schema,g=b.getBlockElements();h.forced_root_block&&d.on("KeyUp NodeChange",j)}}),bk(aa,[am,bp,ab],function(w,g,b){var h=b.each,q=b.extend,p=b.map,x=b.inArray,m=b.explode,t=g.gecko,v=g.ie,k=!0,j=!1;return function(e){function d(C,H,E){var y;return C=C.toLowerCase(),(y=D.exec[C])?(y(C,H,E),k):j}function l(n){var r;return n=n.toLowerCase(),(r=D.state[n])?r(n):-1}function A(n){var r;return n=n.toLowerCase(),(r=D.value[n])?r(n):j}function f(n,r){r=r||"exec",h(n,function(y,C){h(C.toLowerCase().split(","),function(E){D[r][E]=y})})}function i(y,n,C){return n===bs&&(n=j),C===bs&&(C=null),e.getDoc().execCommand(y,n,C)}function u(n){return B.match(n)}function G(y,n){B.toggle(y,n?{value:n}:bs),e.nodeChanged()}function c(n){s=F.getBookmark(n)}function o(){F.moveToBookmark(s)}var a=e.dom,F=e.selection,D={state:{},exec:{},value:{}},z=e.settings,B=e.formatter,s;q(this,{execCommand:d,queryCommandState:l,queryCommandValue:A,addCommands:f}),f({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(y){var E=e.getDoc(),n;try{i(y)}catch(C){n=k}(n||!E.queryCommandSupported(y))&&e.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(n){F.isCollapsed()&&F.select(F.getNode()),i(n),F.collapse(j)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(n){var r=n.substring(7);"full"==r&&(r="justify"),h("left,center,right,justify".split(","),function(y){r!=y&&B.remove("align"+y)}),G("align"+r),d("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(r){var C,y;i(r),C=a.getParent(F.getNode(),"ol,ul"),C&&(y=C.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(y.nodeName)&&(c(),a.split(y,C),o()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){G(n)},"ForeColor,HiliteColor,FontName":function(r,C,y){G(r,y)},FontSize:function(C,I,H){var y,E;H>=1&&7>=H&&(E=m(z.font_size_style_values),y=m(z.font_size_classes),H=y?y[H-1]||H:E[H-1]||H),G(C,H)},RemoveFormat:function(n){B.remove(n)},mceBlockQuote:function(){G("blockquote")},FormatBlock:function(r,C,y){return G(y||"p")},mceCleanup:function(){var n=F.getBookmark();e.setContent(e.getContent({cleanup:k}),{cleanup:k}),F.moveToBookmark(n)},mceRemoveNode:function(y,E,n){var C=n||F.getNode();C!=e.getBody()&&(c(),e.dom.remove(C,k),o())},mceSelectNodeDepth:function(y,E,n){var C=0;a.getParent(F.getNode(),function(r){return 1==r.nodeType&&C++==n?(F.select(r),j):void 0},e.getBody())},mceSelectNode:function(r,C,y){F.select(y)},mceInsertContent:function(n,I,P){function T(C){function Z(r){return y[r]&&3==y[r].nodeType}var Y,y,X;return Y=F.getRng(!0),y=Y.startContainer,X=Y.startOffset,3==y.nodeType&&(X>0?C=C.replace(/^&nbsp;/," "):Z("previousSibling")||(C=C.replace(/^ /,"&nbsp;")),X<y.length?C=C.replace(/&nbsp;(<br>|)$/," "):Z("nextSibling")||(C=C.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),C}var N,H,E,U,J,M,O,W,K,L,Q,S,R,V;if(/^ | $/.test(P)&&(P=T(P)),N=e.parser,H=new w({},e.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',M={content:P,format:"html",selection:!0},e.fire("BeforeSetContent",M),P=M.content,-1==P.indexOf("{$caret}")&&(P+="{$caret}"),P=P.replace(/\{\$caret\}/,R),F.isCollapsed()||e.getDoc().execCommand("Delete",!1,null),E=F.getNode(),M={context:E.nodeName.toLowerCase()},J=N.parse(P,M),Q=J.lastChild,"mce_marker"==Q.attr("id")){for(O=Q,Q=Q.prev;Q;Q=Q.walk(!0)){if(3==Q.type||!a.isBlock(Q.name)){Q.parent.insert(O,Q,"br"===Q.name);break}}}if(M.invalid){for(F.setContent(R),E=F.getNode(),U=e.getBody(),9==E.nodeType?E=Q=U:Q=E;Q!==U;){E=Q,Q=Q.parentNode}P=E==U?U.innerHTML:a.getOuterHTML(E),P=H.serialize(N.parse(P.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return H.serialize(J)}))),E==U?a.setHTML(U,P):a.setOuterHTML(E,P)}else{P=H.serialize(J),Q=E.firstChild,S=E.lastChild,!Q||Q===S&&"BR"===Q.nodeName?a.setHTML(E,P):F.setContent(P)}O=a.get("mce_marker"),W=a.getRect(O),K=a.getViewPort(e.getWin()),(W.y+W.h>K.y+K.h||W.y<K.y||W.x>K.x+K.w||W.x<K.x)&&(V=v?e.getDoc().documentElement:e.getBody(),V.scrollLeft=W.x,V.scrollTop=W.y-K.h+25),L=a.createRng(),Q=O.previousSibling,Q&&3==Q.nodeType?(L.setStart(Q,Q.nodeValue.length),v||(S=O.nextSibling,S&&3==S.nodeType&&(Q.appendData(S.data),S.parentNode.removeChild(S)))):(L.setStartBefore(O),L.setEndBefore(O)),a.remove(O),F.setRng(L),e.fire("SetContent",M),e.addVisual()},mceInsertRawHTML:function(y,C,n){F.setContent("tiny_mce_marker"),e.setContent(e.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(r,C,y){G(y)},mceSetContent:function(y,C,n){e.setContent(n)},"Indent,Outdent":function(C){var H,E,y;H=z.indentation,E=/[a-z%]+$/i.exec(H),H=parseInt(H,10),l("InsertUnorderedList")||l("InsertOrderedList")?i(C):(z.forced_root_block||a.getParent(F.getNode(),a.isBlock)||B.apply("div"),h(F.getSelectedBlocks(),function(r){var n;"LI"!=r.nodeName&&(n="rtl"==a.getStyle(r,"direction",!0)?"paddingRight":"paddingLeft","outdent"==C?(y=Math.max(0,parseInt(r.style[n]||0,10)-H),a.setStyle(r,n,y?y+E:"")):(y=parseInt(r.style[n]||0,10)+H+E,a.setStyle(r,n,y)))}))},mceRepaint:function(){if(t){try{c(k),F.getSel()&&F.getSel().selectAllChildren(e.getBody()),F.collapse(k),o()}catch(n){}}},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(y,C,n){e.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,F.getContent({format:"text"})))},mceInsertLink:function(C,H,E){var y;"string"==typeof E&&(E={href:E}),y=a.getParent(F.getNode(),"a"),E.href=E.href.replace(" ","%20"),y&&E.href||B.remove("link"),E.href&&B.apply("link",E,y)},selectAll:function(){var n=a.getRoot(),r=a.createRng();F.getRng().setStart?(r.setStart(n,0),r.setEnd(n,n.childNodes.length),F.setRng(r)):i("SelectAll")},mceNewDocument:function(){e.setContent("")}}),f({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(C){var H="align"+C.substring(7),E=F.isCollapsed()?[a.getParent(F.getNode(),a.isBlock)]:F.getSelectedBlocks(),y=p(E,function(n){return !!B.matchNode(n,H)});return -1!==x(y,k)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return u(n)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var n;if(z.inline_styles){if((n=a.getParent(F.getStart(),a.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return k}if((n=a.getParent(F.getEnd(),a.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return k}}return l("InsertUnorderedList")||l("InsertOrderedList")||!z.inline_styles&&!!a.getParent(F.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(n){var r=a.getParent(F.getNode(),"ul,ol");return r&&("insertunorderedlist"===n&&"UL"===r.tagName||"insertorderedlist"===n&&"OL"===r.tagName)}},"state"),f({"FontSize,FontName":function(r){var C=0,y;return(y=a.getParent(F.getNode(),"span"))&&(C="fontsize"==r?y.style.fontSize:y.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),C}},"value"),f({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}}),bk(au,[ab],function(b){function d(g,j){var f=this,k,h;return g=a(g),j=f.settings=j||{},/^([\w\-]+):([^\/]{2})/i.test(g)||/^\s*#/.test(g)?(f.source=g,void 0):(0===g.indexOf("/")&&0!==g.indexOf("//")&&(g=(j.base_uri?j.base_uri.protocol||"http":"http")+"://mce_host"+g),/^[\w\-]*:?\/\//.test(g)||(h=j.base_uri?j.base_uri.path:new d(location.href).directory,g=(j.base_uri&&j.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(h,g)),g=g.replace(/@@/g,"(mce_at)"),g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(g),c(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(l,i){var e=g[i];e&&(e=e.replace(/\(mce_at\)/g,"@@")),f[l]=e}),k=j.base_uri,k&&(f.protocol||(f.protocol=k.protocol),f.userInfo||(f.userInfo=k.userInfo),f.port||"mce_host"!==f.host||(f.port=k.port),f.host&&"mce_host"!==f.host||(f.host=k.host),f.source=""),void 0)}var c=b.each,a=b.trim;return d.prototype={setPath:function(f){var g=this;f=/^(.*?)\/?(\w+)?$/.exec(f),g.path=f[0],g.directory=f[1],g.file=f[2],g.source="",g.getURI()},toRelative:function(h){var k=this,g;if("./"===h){return h}if(h=new d(h,{base_uri:k}),"mce_host"!=h.host&&k.host!=h.host&&h.host||k.port!=h.port||k.protocol!=h.protocol){return h.getURI()}var j=k.getURI(),f=h.getURI();return j==f||"/"==j.charAt(j.length-1)&&j.substr(0,j.length-1)==f?j:(g=k.toRelPath(k.path,h.path),h.query&&(g+="?"+h.query),h.anchor&&(g+="#"+h.anchor),g)},toAbsolute:function(f,g){return f=new d(f,{base_uri:this}),f.getURI(this.host==f.host&&this.protocol==f.protocol?g:0)},toRelPath:function(h,m){var l,g=0,j="",f,k;if(h=h.substring(0,h.lastIndexOf("/")),h=h.split("/"),l=m.split("/"),h.length>=l.length){for(f=0,k=h.length;k>f;f++){if(f>=l.length||h[f]!=l[f]){g=f+1;break}}}if(h.length<l.length){for(f=0,k=l.length;k>f;f++){if(f>=h.length||h[f]!=l[f]){g=f+1;break}}}if(1===g){return m}for(f=0,k=h.length-(g-1);k>f;f++){j+="../"}for(f=g-1,k=l.length;k>f;f++){j+=f!=g-1?"/"+l[f]:l[f]}return j},toAbsPath:function(h,m){var g,k=0,f=[],l,j;for(l=/\/$/.test(m)?"/":"",h=h.split("/"),m=m.split("/"),c(h,function(i){i&&f.push(i)}),h=f,g=m.length-1,f=[];g>=0;g--){0!==m[g].length&&"."!==m[g]&&(".."!==m[g]?k>0?k--:f.push(m[g]):k++)}return g=h.length-k,j=0>=g?f.reverse().join("/"):h.slice(0,g).join("/")+"/"+f.reverse().join("/"),0!==j.indexOf("/")&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j},getURI:function(f){var h,g=this;return(!g.source||f)&&(h="",f||(g.protocol&&(h+=g.protocol+"://"),g.userInfo&&(h+=g.userInfo+"@"),g.host&&(h+=g.host),g.port&&(h+=":"+g.port)),g.path&&(h+=g.path),g.query&&(h+="?"+g.query),g.anchor&&(h+="#"+g.anchor),g.source=h),g.source}},d}),bk(aC,[ab],function(c){function g(){}var f=c.each,b=c.extend,d,a;return g.extend=d=function(p){function k(){var s,v,u,l;if(!a&&(l=this,l.init&&l.init.apply(l,arguments),v=l.Mixins)){for(s=v.length;s--;){u=v[s],u.init&&u.init.apply(l,arguments)}}}function m(){return this}function q(l,r){return function(){var t=this,e=t._super,s;return t._super=n[l],s=r.apply(t,arguments),t._super=e,s}}var i=this,n=i.prototype,o,j,h;a=!0,o=new i,a=!1,p.Mixins&&(f(p.Mixins,function(l){l=l;for(var e in l){"init"!==e&&(p[e]=l[e])}}),n.Mixins&&(p.Mixins=n.Mixins.concat(p.Mixins))),p.Methods&&f(p.Methods.split(","),function(e){p[e]=m}),p.Properties&&f(p.Properties.split(","),function(l){var e="_"+l;p[l]=function(u){var v=this,s;return u!==s?(v[e]=u,v):v[e]}}),p.Statics&&f(p.Statics,function(l,r){k[r]=l}),p.Defaults&&n.Defaults&&(p.Defaults=b({},n.Defaults,p.Defaults));for(j in p){h=p[j],o[j]="function"==typeof h&&n[j]?q(j,h):h}return k.prototype=o,k.constructor=k,k.extend=d,k},g}),bk(aK,[aC,ab],function(d,k){function j(i){for(var m=[],l=i.length,a;l--;){a=i[l],a.__checked||(m.push(a),a.__checked=1)}for(l=m.length;l--;){delete m[l].__checked}return m}var c=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,b=/^\s*|\s*$/g,h,f=d.extend({init:function(w){function p(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(l){for(var e=a.length;e--;){if(!l.hasClass(a[e])){return !1}}return !0}):void 0}function x(a,s,l){return a?function(e){var n=e[a]?e[a]():"";return s?"="===s?n===l:"*="===s?n.indexOf(l)>=0:"~="===s?(" "+n+" ").indexOf(" "+l+" ")>=0:"!="===s?n!=l:"^="===s?0===n.indexOf(l):"$="===s?n.substr(n.length-l.length)===l:!1:!!l}:void 0}function o(a){var l;return a?(a=/(?:not\((.+)\))|(.+)/i.exec(a),a[1]?(l=v(a[1],[]),function(n){return !m(n,l)}):(a=a[2],function(u,s,e){return"first"===a?0===s:"last"===a?s===e-1:"even"===a?0===s%2:"odd"===a?1===s%2:u[a]?u[a]():!1})):void 0}function r(n,s,l){function t(u){u&&s.push(u)}var a;return a=c.exec(n.replace(b,"")),t(p(a[1])),t(i(a[2])),t(q(a[3])),t(x(a[4],a[5],a[6])),t(o(a[7])),s.psuedo=!!a[7],s.direct=l,s}function v(u,A){var z=[],s,l,y;do{if(g.exec(""),l=g.exec(u),l&&(u=l[3],z.push(l[1]),l[2])){s=l[3];break}}while(l);for(s&&v(s,A),u=[],y=0;y<z.length;y++){">"!=z[y]&&u.push(r(z[y],[],">"===z[y-1]))}return A.push(u),A}var m=this.match;this._selectors=v(w,[])},match:function(G,v){var q,w,C,B,H,A,E,F,z,y,x,D,t;for(v=v||this._selectors,q=0,w=v.length;w>q;q++){for(H=v[q],B=H.length,t=G,D=0,C=B-1;C>=0;C--){for(F=H[C];t;){for(F.psuedo&&(x=t.parent().items(),z=k.inArray(t,x),y=x.length),A=0,E=F.length;E>A;A++){if(!F[A](t,z,y)){A=E+1;break}}if(A===E){D++;break}if(C===B-1){break}t=t.parent()}}if(D===B){return !0}}return !1},find:function(n){function s(A,r,t){var x,w,B,v,y,z=r[t];for(x=0,w=A.length;w>x;x++){for(y=A[x],B=0,v=z.length;v>B;B++){if(!z[B](y,x,w)){B=v+1;break}}if(B===v){t==r.length-1?m.push(y):y.items&&s(y.items(),r,t+1)}else{if(z.direct){return}}y.items&&s(y.items(),r,t)}}var m=[],p,a,q=this._selectors;if(n.items){for(p=0,a=q.length;a>p;p++){s(n.items(),q[p],0)}a>1&&(m=j(m))}return h||(h=f.Collection),new h(m)}});return f}),bk(bm,[ab,aK,aC],function(d,j,h){var c,f,b=Array.prototype.push,g=Array.prototype.slice;return f={length:0,init:function(a){a&&this.add(a)},add:function(e){var a=this;return d.isArray(e)?b.apply(a,e):e instanceof c?a.add(e.toArray()):b.call(a,e),a},set:function(i){var l=this,k=l.length,a;for(l.length=0,l.add(i),a=l.length;k>a;a++){delete l[a]}return l},filter:function(m){var u=this,q,k,r=[],p,t;for("string"==typeof m?(m=new j(m),t=function(a){return m.match(a)}):t=m,q=0,k=u.length;k>q;q++){p=u[q],t(p)&&r.push(p)}return new c(r)},slice:function(){return new c(g.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return d.each(this,a),this},toArray:function(){return d.toArray(this)},indexOf:function(a){for(var k=this,i=k.length;i--&&k[i]!==a;){}return i},reverse:function(){return new c(d.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(k,o){var m=this,a,l;return o!==a?(m.each(function(e){e[k]&&e[k](o)}),m):(l=m[0],l&&l[k]?l[k]():void 0)},exec:function(i){var e=this,a=d.toArray(arguments).slice(1);return e.each(function(k){k[i]&&k[i].apply(k,a)}),e}},d.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){f[a]=function(){var e=d.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),d.each("text name disabled active selected checked visible parent value data".split(" "),function(a){f[a]=function(e){return this.prop(a,e)}}),c=h.extend(f),j.Collection=c,c}),bk(bC,[ab,av],function(a,b){return{id:function(){return b.DOM.uniqueId()},createFragment:function(c){return b.DOM.createFragment(c)},getWindowSize:function(){return b.DOM.getViewPort()},getSize:function(c){return b.DOM.getSize(c)},getPos:function(c,d){return b.DOM.getPos(c,d)},getViewPort:function(c){return b.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return b.DOM.addClass(c,d)},removeClass:function(c,d){return b.DOM.removeClass(c,d)},hasClass:function(c,d){return b.DOM.hasClass(c,d)},toggleClass:function(d,f,c){return b.DOM.toggleClass(d,f,c)},css:function(d,f,c){return b.DOM.setStyle(d,f,c)},on:function(d,g,c,f){return b.DOM.bind(d,g,c,f)},off:function(d,f,c){return b.DOM.unbind(d,f,c)},fire:function(d,f,c){return b.DOM.fire(d,f,c)}}}),bk(aQ,[aC,ab,bm,bC],function(k,g,c,b){var d=g.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),j={},h="onmousewheel" in document,m=!1,f=k.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(l){var q=this,p,a;if(q.settings=l=g.extend({},q.Defaults,l),q._id=b.id(),q._text=q._name="",q._width=q._height=0,q._aria={role:l.role},p=l.classes){for(p=p.split(" "),p.map={},a=p.length;a--;){p.map[p[a]]=!0}}q._classes=p||[],q.visible(!0),g.each("title text width height name classes visible disabled active value".split(" "),function(o){var e=l[o],n;e!==n?q[o](e):q["_"+o]===n&&(q["_"+o]=!1)}),q.on("click",function(){return q.disabled()?!1:void 0}),l.classes&&g.each(l.classes.split(" "),function(i){q.addClass(i)}),q.settings=l,q._borderBox=q.parseBox(l.border),q._paddingBox=q.parseBox(l.padding),q._marginBox=q.parseBox(l.margin),l.hidden&&q.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var i;a&&!(i=f.controlIdLookup[a.id]);){a=a.parentNode}return i},parseBox:function(a){var l,i=10;if(a){return"number"==typeof a?(a=a||0,{top:a,left:a,bottom:a,right:a}):(a=a.split(" "),l=a.length,1===l?a[1]=a[2]=a[3]=a[0]:2===l?(a[2]=a[0],a[3]=a[1]):3===l&&(a[3]=a[1]),{top:parseInt(a[0],i)||0,right:parseInt(a[1],i)||0,bottom:parseInt(a[2],i)||0,left:parseInt(a[3],i)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(i,o){function l(p){var e=document.defaultView;return e?(p=p.replace(/[A-Z]/g,function(n){return"-"+n}),e.getComputedStyle(i,null).getPropertyValue(p)):i.currentStyle[p]}function a(n){var p=parseInt(l(n),10);return isNaN(p)?0:p}return{top:a(o+"TopWidth"),right:a(o+"RightWidth"),bottom:a(o+"BottomWidth"),left:a(o+"LeftWidth")}},initLayoutRect:function(){var I=this,C=I.settings,w,q,x=I.getEl(),E,D,J,B,G,H,A;w=I._borderBox=I._borderBox||I.measureBox(x,"border"),I._paddingBox=I._paddingBox||I.measureBox(x,"padding"),I._marginBox=I._marginBox||I.measureBox(x,"margin"),H=C.minWidth,A=C.minHeight,J=H||x.offsetWidth,B=A||x.offsetHeight,E=C.width,D=C.height,G=C.autoResize,G="undefined"!=typeof G?G:!E&&!D,E=E||J,D=D||B;var z=w.left+w.right,y=w.top+w.bottom,F=C.maxWidth||65535,v=C.maxHeight||65535;return I._layoutRect=q={x:C.x||0,y:C.y||0,w:E,h:D,deltaW:z,deltaH:y,contentW:E-z,contentH:D-y,innerW:E-z,innerH:D-y,startMinWidth:H||0,startMinHeight:A||0,minW:Math.min(J,F),minH:Math.min(B,v),maxW:F,maxH:v,autoResize:G,scrollW:0},I._lastLayoutRect={},q},layoutRect:function(y){var u=this,p=u._layoutRect,l,q,w,v,z,x;return p||(p=u.initLayoutRect()),y?(w=p.deltaW,v=p.deltaH,y.x!==z&&(p.x=y.x),y.y!==z&&(p.y=y.y),y.minW!==z&&(p.minW=y.minW),y.minH!==z&&(p.minH=y.minH),q=y.w,q!==z&&(q=q<p.minW?p.minW:q,q=q>p.maxW?p.maxW:q,p.w=q,p.innerW=q-w),q=y.h,q!==z&&(q=q<p.minH?p.minH:q,q=q>p.maxH?p.maxH:q,p.h=q,p.innerH=q-v),q=y.innerW,q!==z&&(q=q<p.minW-w?p.minW-w:q,q=q>p.maxW-w?p.maxW-w:q,p.innerW=q,p.w=q+w),q=y.innerH,q!==z&&(q=q<p.minH-v?p.minH-v:q,q=q>p.maxH-v?p.maxH-v:q,p.innerH=q,p.h=q+v),y.contentW!==z&&(p.contentW=y.contentW),y.contentH!==z&&(p.contentH=y.contentH),l=u._lastLayoutRect,(l.x!==p.x||l.y!==p.y||l.w!==p.w||l.h!==p.h)&&(x=f.repaintControls,x&&x.map&&!x.map[u._id]&&(x.push(u),x.map[u._id]=!0),l.x=p.x,l.y=p.y,l.w=p.w,l.h=p.h),u):p},repaint:function(){var q=this,y,x,p,v,l=0,w=0,u;y=q.getEl().style,p=q._layoutRect,u=q._lastRepaintRect||{},v=q._borderBox,l=v.left+v.right,w=v.top+v.bottom,p.x!==u.x&&(y.left=p.x+"px",u.x=p.x),p.y!==u.y&&(y.top=p.y+"px",u.y=p.y),p.w!==u.w&&(y.width=p.w-l+"px",u.w=p.w),p.h!==u.h&&(y.height=p.h-w+"px",u.h=p.h),q._hasBody&&p.innerW!==u.innerW&&(x=q.getEl("body").style,x.width=p.innerW+"px",u.innerW=p.innerW),q._hasBody&&p.innerH!==u.innerH&&(x=x||q.getEl("body").style,x.height=p.innerH+"px",u.innerH=p.innerH),q._lastRepaintRect=u,q.fire("repaint",{},!1)},on:function(q,y){function x(a){var o,l;return function(e){return o||p.parents().each(function(n){var s=n.settings.callbacks;return s&&(o=s[a])?(l=n,!1):void 0}),o.call(l,e)}}var p=this,i,v,u,w;if(y){for("string"==typeof y&&(y=x(y)),u=q.toLowerCase().split(" "),w=u.length;w--;){q=u[w],i=p._bindings,i||(i=p._bindings={}),v=i[q],v||(v=i[q]=[]),v.push(y),d[q]&&(p._nativeEvents?p._nativeEvents[q]=!0:p._nativeEvents={name:!0},p._rendered&&p.bindPendingEvents())}}return p},off:function(z,w){var q=this,p,u=q._bindings,y,x,A,v;if(u){if(z){for(A=z.toLowerCase().split(" "),p=A.length;p--;){if(z=A[p],y=u[z],!z){for(x in u){u[x].length=0}return q}if(y){if(w){for(v=y.length;v--;){y[v]===w&&y.splice(v,1)}}else{y.length=0}}}}else{q._bindings=[]}}return q},fire:function(A,w,q){function p(){return !1}function u(){return !0}var y=this,x,B,v,z;if(A=A.toLowerCase(),w=w||{},w.type||(w.type=A),w.control||(w.control=y),w.preventDefault||(w.preventDefault=function(){w.isDefaultPrevented=u},w.stopPropagation=function(){w.isPropagationStopped=u},w.stopImmediatePropagation=function(){w.isImmediatePropagationStopped=u},w.isDefaultPrevented=p,w.isPropagationStopped=p,w.isImmediatePropagationStopped=p),y._bindings&&(v=y._bindings[A])){for(x=0,B=v.length;B>x&&(w.isImmediatePropagationStopped()||v[x].call(y,w)!==!1);x++){}}if(q!==!1){for(z=y.parent();z&&!w.isPropagationStopped();){z.fire(A,w,!1),z=z.parent()}}return w},parents:function(i){var l=this,a=new c;for(l=l.parent();l;l=l.parent()){a.add(l)}return i&&(a=a.filter(i)),a},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,l){for(var i;a;){for(i=l;i&&a!=i;){i=i.parent()}if(a==i){break}a=a.parent()}return a},hasClass:function(a,l){var i=this._classes[l||"control"];return a=this.classPrefix+a,i&&!!i.map[a]},addClass:function(l,q){var p=this,a,o;return l=this.classPrefix+l,a=p._classes[q||"control"],a||(a=[],a.map={},p._classes[q||"control"]=a),a.map[l]||(a.map[l]=l,a.push(l),p._rendered&&(o=p.getEl(q),o&&(o.className=a.join(" ")))),p},removeClass:function(p,u){var s=this,l,q,a;if(p=this.classPrefix+p,l=s._classes[u||"control"],l&&l.map[p]){for(delete l.map[p],q=l.length;q--;){l[q]===p&&l.splice(q,1)}}return s._rendered&&(a=s.getEl(u),a&&(a.className=l.join(" "))),s},toggleClass:function(i,o,l){var a=this;return o?a.addClass(i,l):a.removeClass(i,l),a},classes:function(a){var i=this._classes[a||"control"];return i?i.join(" "):""},getEl:function(a,p){var o,l=a?this._id+"-"+a:this._id;return o=j[l]=(p===!0?null:j[l])||b.get(l)},visible:function(a){var l=this,i;return"undefined"!=typeof a?(l._visible!==a&&(l._rendered&&(l.getEl().style.display=a?"":"none"),l._visible=a,i=l.parent(),i&&(i._lastRect=null),l.fire(a?"show":"hide")),l):l._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(i,o){var l=this,a=l.getEl();return"undefined"==typeof o?l._aria[i]:(l._aria[i]=o,l._rendered&&("label"==i&&a.setAttribute("aria-labeledby",l._id),a.setAttribute("role"==i?i:"aria-"+i,o)),l)},encode:function(a,i){return i!==!1&&f.translate&&(a=f.translate(a)),(a||"").replace(/[&<>"]/g,function(l){return"&#"+l.charCodeAt(0)+";"})},before:function(a){var l=this,i=l.parent();return i&&i.insert(a,i.items().indexOf(l),!0),l},after:function(a){var l=this,i=l.parent();return i&&i.insert(a,i.items().indexOf(l)),l},remove:function(){var p=this,u=p.getEl(),s=p.parent(),q;if(p.items){for(var l=p.items().toArray(),r=l.length;r--;){l[r].remove()}}return s&&s.items&&(q=[],s.items().each(function(a){a!==p&&q.push(a)}),s.items().set(q),s._lastRect=null),p._eventsRoot&&p._eventsRoot==p&&b.off(u),delete f.controlIdLookup[p._id],u.parentNode&&u.parentNode.removeChild(u),p},renderBefore:function(a){var i=this;return a.parentNode.insertBefore(b.createFragment(i.renderHtml()),a),i.postRender(),i},renderTo:function(a){var i=this;return a=a||i.getContainerElm(),a.appendChild(b.createFragment(i.renderHtml())),i.postRender(),i},postRender:function(){var q=this,x=q.settings,w,u,l,v,r;for(v in x){0===v.indexOf("on")&&q.on(v.substr(2),x[v])}if(q._eventsRoot){for(l=q.parent();!r&&l;l=l.parent()){r=l._eventsRoot}if(r){for(v in r._nativeEvents){q._nativeEvents[v]=!0}}}q.bindPendingEvents(),x.style&&(w=q.getEl(),w&&(w.setAttribute("style",x.style),w.style.cssText=x.style)),q._visible||b.css(q.getEl(),"display","none"),q.settings.border&&(u=q.borderBox(),b.css(q.getEl(),{"border-top-width":u.top,"border-right-width":u.right,"border-bottom-width":u.bottom,"border-left-width":u.left})),f.controlIdLookup[q._id]=q;for(var p in q._aria){q.aria(p,q._aria[p])}q.fire("postrender",{},!1)},scrollIntoView:function(C){function x(l,u){var s,a,o=l;for(s=a=0;o&&o!=u&&o.nodeType;){s+=o.offsetLeft||0,a+=o.offsetTop||0,o=o.offsetParent}return{x:s,y:a}}var q=this.getEl(),p=q.parentNode,v,z,y,D,w,A,B=x(q,p);return v=B.x,z=B.y,y=q.offsetWidth,D=q.offsetHeight,w=p.clientWidth,A=p.clientHeight,"end"==C?(v-=w-y,z-=A-D):"center"==C&&(v-=w/2-y/2,z-=A/2-D/2),p.scrollLeft=v,p.scrollTop=z,this},bindPendingEvents:function(){function B(i){var l=y.getParentCtrl(i.target);l&&l.fire(i.type,i)}function x(){var i=v._lastHoverCtrl;i&&(i.fire("mouseleave",{target:i.getEl()}),i.parents().each(function(l){l.fire("mouseleave",{target:l.getEl()})}),v._lastHoverCtrl=null)}function a(o){var E=y.getParentCtrl(o.target),D=v._lastHoverCtrl,l=0,u,C,p;if(E!==D){if(v._lastHoverCtrl=E,C=E.parents().toArray().reverse(),C.push(E),D){for(p=D.parents().toArray().reverse(),p.push(D),l=0;l<p.length&&C[l]===p[l];l++){}for(u=p.length-1;u>=l;u--){D=p[u],D.fire("mouseleave",{target:D.getEl()})}}for(u=l;u<C.length;u++){E=C[u],E.fire("mouseenter",{target:E.getEl()})}}}function q(i){i.preventDefault(),"mousewheel"==i.type?(i.deltaY=-1/40*i.wheelDelta,i.wheelDeltaX&&(i.deltaX=-1/40*i.wheelDeltaX)):(i.deltaX=0,i.deltaY=i.detail),i=y.fire("wheel",i)}var y=this,w,z,A,v,s,r;if(y._rendered=!0,s=y._nativeEvents){for(A=y.parents().toArray(),A.unshift(y),w=0,z=A.length;!v&&z>w;w++){v=A[w]._eventsRoot}for(v||(v=A[A.length-1]||y),y._eventsRoot=v,z=w,w=0;z>w;w++){A[w]._eventsRoot=v}for(r in s){if(!s){return !1}"wheel"!==r||m?("mouseenter"===r||"mouseleave"===r?v._hasMouseEnter||(b.on(v.getEl(),"mouseleave",x),b.on(v.getEl(),"mouseover",a),v._hasMouseEnter=1):v[r]||(b.on(v.getEl(),r,B),v[r]=!0),s[r]=!1):h?b.on(y.getEl(),"mousewheel",q):b.on(y.getEl(),"DOMMouseScroll",q)}}},reflow:function(){return this.repaint(),this}});return f}),bk(bI,[],function(){var a={},b;return{add:function(d,c){a[d.toLowerCase()]=c},has:function(c){return !!a[c.toLowerCase()]},create:function(g,d){var e,c,f;if(!b){f=tinymce.ui;for(c in f){a[c.toLowerCase()]=f[c]}b=!0}if("string"==typeof g?(d=d||{},d.type=g):(d=g,g=d.type),g=g.toLowerCase(),e=a[g],!e){throw new Error("Could not find control by type: "+g)}return e=new e(d),e.type=g,e}}}),bk(ar,[aQ,bm,aK,bI,ab,bC],function(d,j,h,c,f,b){var g={};return d.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new j,i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=c.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=g[a]=g[a]||new h(a),a.find(this)},add:function(a){var i=this;return i.items().add(i.create(a)).parent(i),i},focus:function(){var a=this;return a.keyNav?a.keyNav.focusFirst():a._super(),a},replace:function(k,o){for(var m,a=this.items(),l=a.length;l--;){if(a[l]===k){a[l]=o;break}}l>=0&&(m=o.getEl(),m&&m.parentNode.removeChild(m),m=k.getEl(),m&&m.parentNode.removeChild(m)),o.parent(this)},create:function(l){var k=this,e,i=[];return f.isArray(l)||(l=[l]),f.each(l,function(a){a&&(a instanceof d||("string"==typeof a&&(a={type:a}),e=f.extend({},k.settings.defaults,a),a.type=e.type=e.type||a.type||k.settings.defaultType||(e.defaults?e.defaults.type:null),a=c.create(e)),i.push(a))}),i},renderNew:function(){var a=this;return a.items().each(function(m,l){var e,k;m.parent(a),m._rendered||(e=a.getEl("body"),k=b.createFragment(m.renderHtml()),e.hasChildNodes()&&l<=e.childNodes.length-1?e.insertBefore(k,e.childNodes[l]):e.appendChild(k),m.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(a){var i=this;return i.items().set(i.create(a).concat(i.items().toArray())),i.renderNew()},insert:function(m,u,s){var l=this,p,k,q;return m=l.create(m),p=l.items(),!s&&u<p.length-1&&(u+=1),u>=0&&u<p.length&&(k=p.slice(0,u).toArray(),q=p.slice(u).toArray(),p.set(k.concat(m,q))),l.renderNew()},fromJSON:function(a){var k=this;for(var i in a){k.find("#"+i).value(a[i])}return k},toJSON:function(){var a=this,i={};return a.find("*").each(function(l){var m=l.name(),k=l.value();m&&"undefined"!=typeof k&&(i[m]=k)}),i},preRender:function(){},renderHtml:function(){var a=this,i=a._layout;return a.preRender(),i.preRender(a),'<div id="'+a._id+'" class="'+a.classes()+'" role="'+this.settings.role+'"><div id="'+a._id+'-body" class="'+a.classes("body")+'">'+(a.settings.html||"")+i.renderHtml(a)+"</div></div>"},postRender:function(){var a=this,i;return a.items().exec("postRender"),a._super(),a._layout.postRender(a),a._rendered=!0,a.settings.style&&b.css(a.getEl(),a.settings.style),a.settings.border&&(i=a.borderBox(),b.css(a.getEl(),{"border-top-width":i.top,"border-right-width":i.right,"border-bottom-width":i.bottom,"border-left-width":i.left})),a},initLayoutRect:function(){var a=this,i=a._super();return a._layout.recalc(a),i},recalc:function(){var a=this,k=a._layoutRect,i=a._lastRect;return i&&i.w==k.w&&i.h==k.h?void 0:(a._layout.recalc(a),k=a.layoutRect(),a._lastRect={x:k.x,y:k.y,w:k.w,h:k.h},!0)},reflow:function(){var e,a;if(this.visible()){for(d.repaintControls=[],d.repaintControls.map={},a=this.recalc(),e=d.repaintControls.length;e--;){d.repaintControls[e].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),d.repaintControls=[]}return this}})}),bk(ad,[bC],function(a){function b(){var q=document,j,f,d,g,m,k,u,h,p=Math.max;return j=q.documentElement,f=q.body,d=p(j.scrollWidth,f.scrollWidth),g=p(j.clientWidth,f.clientWidth),m=p(j.offsetWidth,f.offsetWidth),k=p(j.scrollHeight,f.scrollHeight),u=p(j.clientHeight,f.clientHeight),h=p(j.offsetHeight,f.offsetHeight),{width:m>d?g:d,height:h>k?u:k}}return function(g,e){function h(){return p.getElementById(e.handle||g)}var q,p=document,w,m,t,v,k,j;e=e||{},m=function(i){var f=b(),c,d;i.preventDefault(),w=i.button,c=h(),k=i.screenX,j=i.screenY,d=window.getComputedStyle?window.getComputedStyle(c,null).getPropertyValue("cursor"):c.runtimeStyle.cursor,q=p.createElement("div"),a.css(q,{position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:d}),p.body.appendChild(q),a.on(p,"mousemove",v),a.on(p,"mouseup",t),e.start(i)},v=function(c){return c.button!==w?t(c):(c.deltaX=c.screenX-k,c.deltaY=c.screenY-j,c.preventDefault(),e.drag(c),void 0)},t=function(c){a.off(p,"mousemove",v),a.off(p,"mouseup",t),q.parentNode.removeChild(q),e.stop&&e.stop(c)},this.destroy=function(){a.off(h())},a.on(h(),"mousedown",m)}}),bk(ay,[bC,ad],function(a,b){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function j(z,A,F,r,D,E){var x,w,q,C,n,o,B,G,k;if(w=e.getEl("scroll"+z)){if(G=A.toLowerCase(),k=F.toLowerCase(),e.getEl("absend")&&a.css(e.getEl("absend"),G,e.layoutRect()[r]-1),!D){return a.css(w,"display","none"),void 0}a.css(w,"display","block"),x=e.getEl("body"),q=e.getEl("scroll"+z+"t"),C=x["client"+F]-2*c,C-=i&&g?w["client"+E]:0,n=x["scroll"+F],o=C/n,B={},B[G]=x["offset"+A]+c,B[k]=C,a.css(w,B),B={},B[G]=x["scroll"+A]*o,B[k]=C*o,a.css(q,B)}}var i,g,h;h=e.getEl("body"),i=h.scrollWidth>h.clientWidth,g=h.scrollHeight>h.clientHeight,j("h","Left","Width","contentW",i,"Height"),j("v","Top","Height","contentH",g,"Width")}function d(){function g(q,h,m,k,p){var j,o=e._id+"-scroll"+q,i=e.classPrefix;e.getEl().appendChild(a.createFragment('<div id="'+o+'" class="'+i+"scrollbar "+i+"scrollbar-"+q+'"><div id="'+o+'t" class="'+i+'scrollbar-thumb"></div></div>')),e.draghelper=new b(o+"t",{start:function(){j=e.getEl("body")["scroll"+h],a.addClass(a.get(o),i+"active")},drag:function(r){var w,v,n,s,l=e.layoutRect();v=l.contentW>l.innerW,n=l.contentH>l.innerH,s=e.getEl("body")["client"+m]-2*c,s-=v&&n?e.getEl("scroll"+q)["client"+p]:0,w=s/e.getEl("body")["scroll"+m],e.getEl("body")["scroll"+h]=j+r["delta"+k]/w},stop:function(){a.removeClass(a.get(o),i+"active")}})}e.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var e=this,c=2;e.settings.autoScroll&&(e._hasScroll||(e._hasScroll=!0,d(),e.on("wheel",function(g){var h=e.getEl("body");h.scrollLeft+=10*(g.deltaX||0),h.scrollTop+=10*g.deltaY,f()}),a.on(e.getEl("body"),"scroll",f)),f())}}}),bk(ai,[ar,ay],function(a,b){return a.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[b],renderHtml:function(){var c=this,f=c._layout,d=c.settings.html;return c.preRender(),f.preRender(c),"undefined"==typeof d?d='<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+f.renderHtml(c)+"</div>":("function"==typeof d&&(d=d.call(c)),c._hasBody=!1),'<div id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c._preBodyHtml||"")+d+"</div>"}})}),bk(aA,[bC],function(a){function b(p,g,e){var h,v,q,y,m,w,x,k,j;return j=a.getViewPort(),v=a.getPos(g),q=v.x,y=v.y,p._fixed&&(q-=j.x,y-=j.y),h=p.getEl(),m=h.offsetWidth,w=h.offsetHeight,x=g.offsetWidth,k=g.offsetHeight,e=(e||"").split(""),"b"===e[0]&&(y+=k),"r"===e[1]&&(q+=x),"c"===e[0]&&(y+=Math.round(k/2)),"c"===e[1]&&(q+=Math.round(x/2)),"b"===e[3]&&(y-=w),"r"===e[4]&&(q-=m),"c"===e[3]&&(y-=Math.round(w/2)),"c"===e[4]&&(q-=Math.round(m/2)),{x:q,y:y,w:m,h:w}}return{testMoveRel:function(g,d){for(var e=a.getViewPort(),c=0;c<d.length;c++){var f=b(this,g,d[c]);if(this._fixed){if(f.x>0&&f.x+f.w<e.w&&f.y>0&&f.y+f.h<e.h){return d[c]}}else{if(f.x>e.x&&f.x+f.w<e.w+e.x&&f.y>e.y&&f.y+f.h<e.h+e.y){return d[c]}}}return d[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=b(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(d,g){var f=this,c=f.layoutRect();return f.moveTo(c.x+d,c.y+g),f},moveTo:function(h,g){function d(i,k,j){return 0>i?0:i+j>k?(i=k-j,0>i?0:i):i}var e=this;if(e.settings.constrainToViewport){var c=a.getViewPort(window),f=e.layoutRect();h=d(h,c.w+c.x,f.w),g=d(g,c.h+c.y,f.h)}return e._rendered?e.layoutRect({x:h,y:g}).repaint():(e.settings.x=h,e.settings.y=g),e.fire("move",{x:h,y:g}),e}}}),bk(bu,[bC],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(d,c){if(1>=d||1>=c){var b=a.getWindowSize();d=1>=d?d*b.w:d,c=1>=c?c*b.h:c}return this._layoutRect.autoResize=!1,this.layoutRect({minW:d,minH:c,w:d,h:c}).reflow()},resizeBy:function(c,f){var d=this,b=d.layoutRect();return d.resizeTo(b.w+c,b.h+f)}}}),bk(bg,[ai,aA,bu,bC],function(q,h,d,b){function f(a){var c;for(c=v.length;c--;){v[c]===a&&v.splice(c,1)}}var k,j,v=[],g=[],m,p=q.extend({Mixins:[h,d],init:function(c){function r(){var s,x=p.zIndex||65535,w;if(g.length){for(s=0;s<g.length;s++){g[s].modal&&(x++,w=g[s]),g[s].getEl().style.zIndex=x,g[s].zIndex=x,x++}}var u=document.getElementById(a.classPrefix+"modal-block");w?b.css(u,"z-index",w.zIndex-1):u&&(u.parentNode.removeChild(u),m=!1),p.currentZIndex=x}function o(i,n){for(;i;){if(i==n){return !0}i=i.parent()}}function l(i){function u(y,x){for(var e,w=0;w<v.length;w++){if(v[w]!=i){for(e=v[w].parent();e&&(e=e.parent());){e==i&&v[w].fixed(y).moveBy(0,x).repaint()}}}}var s=b.getViewPort().y;i.settings.autofix&&(i._fixed?i._autoFixY>s&&(i.fixed(!1).layoutRect({y:i._autoFixY}).repaint(),u(!1,i._autoFixY-s)):(i._autoFixY=i.layoutRect().y,i._autoFixY<s&&(i.fixed(!0).layoutRect({y:0}).repaint(),u(!0,s-i._autoFixY))))}var a=this;a._super(c),a._eventsRoot=a,a.addClass("floatpanel"),c.autohide&&(k||(k=function(s){var w,n=a.getParentCtrl(s.target);for(w=v.length;w--;){var u=v[w];if(u.settings.autohide){if(n&&(o(n,u)||u.parent()===n)){continue}s=u.fire("autohide",{target:s.target}),s.isDefaultPrevented()||u.hide()}}},b.on(document,"click",k)),v.push(a)),c.autofix&&(j||(j=function(){var i;for(i=v.length;i--;){l(v[i])}},b.on(window,"scroll",j)),a.on("move",function(){l(this)})),a.on("postrender show",function(s){if(s.control==a){var u,t=a.classPrefix;a.modal&&!m&&(u=b.createFragment('<div id="'+t+'modal-block" class="'+t+"reset "+t+'fade"></div>'),u=u.firstChild,a.getContainerElm().appendChild(u),setTimeout(function(){b.addClass(u,t+"in"),b.addClass(a.getEl(),t+"in")},0),m=!0),g.push(a),r()}}),a.on("close hide",function(i){if(i.control==a){for(var s=g.length;s--;){g[s]===a&&g.splice(s,1)}r()}}),a.on("show",function(){a.parents().each(function(i){return i._fixed?(a.fixed(!0),!1):void 0})}),c.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.addClass("popover").addClass("bottom").addClass("start"))},fixed:function(a){var i=this;if(i._fixed!=a){if(i._rendered){var c=b.getViewPort();a?i.layoutRect().y-=c.y:i.layoutRect().y+=c.y}i.toggleClass("fixed",a),i._fixed=a}return i},show:function(){var a=this,i,c=a._super();for(i=v.length;i--&&v[i]!==a;){}return -1===i&&v.push(a),c},hide:function(){return f(this),this._super()},hideAll:function(){p.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){f(this),this._super()}});return p.hideAll=function(){for(var a=v.length;a--;){var c=v[a];c.settings.autohide&&(c.fire("cancel",{},!1),c.hide(),v.splice(a,1))}},p}),bk(bz,[bC],function(a){return function(x){function g(){if(!A){if(A=[],v.find){v.find("*").each(function(f){f.canFocus&&A.push(f.getEl())})}else{for(var c=v.getEl().getElementsByTagName("*"),d=0;d<c.length;d++){c[d].id&&c[d]&&A.push(c[d])}}}}function b(){return document.getElementById(e)}function j(c){return c=c||b(),c&&c.getAttribute("role")}function z(c){for(var f,d=c||b();d=d.parentNode;){if(f=j(d)){return f}}}function y(c){var d=document.getElementById(e);return d?d.getAttribute("aria-"+c):void 0}function D(){var c=b();if(!c||"TEXTAREA"!=c.nodeName&&"text"!=c.type){return x.onAction?x.onAction(e):a.fire(b(),"click",{keyboard:!0}),!0}}function w(){var c;x.onCancel?((c=b())&&c.blur(),x.onCancel()):x.root.fire("cancel")}function B(f){function d(i){for(var l=v?v.getEl():document.body;i&&i!=l;){if("none"==i.style.display){return !1}i=i.parentNode}return !0}var h=-1,c,m,n=[];for(g(),m=n.length,m=0;m<A.length;m++){d(A[m])&&n.push(A[m])}for(m=n.length;m--;){if(n[m].id===e){h=m;break}}h+=f,0>h?h=n.length-1:h>=n.length&&(h=0),c=n[h],c.focus(),e=c.id,x.actOnFocus&&D()}function C(){var d,c;for(c=j(x.root.getEl()),g(),d=A.length;d--;){if("toolbar"==c&&A[d].id===e){return A[d].focus(),void 0}}A[0].focus()}var v=x.root,q=x.enableUpDown!==!1,k=x.enableLeftRight!==!1,A=x.items,e;return v.on("keydown",function(F){var i=37,f=39,E=38,p=40,t=27,l=14,o=13,s=32,G=9,c;switch(F.keyCode){case i:k&&(x.leftAction?x.leftAction():B(-1),c=!0);break;case f:k&&("menuitem"==j()&&"menu"==z()?y("haspopup")&&D():B(1),c=!0);break;case E:q&&(B(-1),c=!0);break;case p:q&&("menuitem"==j()&&"menubar"==z()?D():"button"==j()&&y("haspopup")?D():B(1),c=!0);break;case G:c=!0,F.shiftKey?B(-1):B(1);break;case t:c=!0,w();break;case l:case o:case s:c=D()}c&&(F.stopPropagation(),F.preventDefault())}),v.on("focusin",function(c){g(),e=c.target.id}),{moveFocus:B,focusFirst:C,cancel:w}}}),bk(a3,[bg,ai,bC,bz,ad],function(c,g,f,b,d){var a=c.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(h){var i=this;i._super(h),i.addClass("window"),i._fixed=!0,h.buttons&&(i.statusbar=new g({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:h.buttons}),i.statusbar.addClass("foot"),i.statusbar.parent(i)),i.on("click",function(j){-1!=j.target.className.indexOf(i.classPrefix+"close")&&i.close()}),i.aria("label",h.title),i._fullscreen=!1},recalc:function(){var k=this,m=k.statusbar,j,l,h;k._fullscreen&&(k.layoutRect(f.getWindowSize()),k.layoutRect().contentH=k.layoutRect().innerH),k._super(),j=k.layoutRect(),k.settings.title&&!k._fullscreen&&(l=j.headerW,l>j.w&&(k.layoutRect({w:l}),h=!0)),m&&(m.layoutRect({w:k.layoutRect().innerW}).recalc(),l=m.layoutRect().minW+j.deltaW,l>j.w&&(k.layoutRect({w:l}),h=!0)),h&&k.recalc()},initLayoutRect:function(){var k=this,m=k._super(),j=0,l;k.settings.title&&!k._fullscreen&&(l=k.getEl("head"),m.headerW=l.offsetWidth,m.headerH=l.offsetHeight,j+=m.headerH),k.statusbar&&(j+=k.statusbar.layoutRect().h),m.deltaH+=j,m.minH+=j,m.h+=j;var h=f.getWindowSize();return m.x=Math.max(0,h.w/2-m.w/2),m.y=Math.max(0,h.h/2-m.h/2),m},renderHtml:function(){var k=this,u=k._layout,q=k._id,j=k.classPrefix,m=k.settings,h="",p="",l=m.html;return k.preRender(),u.preRender(k),m.title&&(h='<div id="'+q+'-head" class="'+j+'window-head"><div class="'+j+'title">'+k.encode(m.title)+'</div><button type="button" class="'+j+'close" aria-hidden="true">&times;</button><div id="'+q+'-dragh" class="'+j+'dragh"></div></div>'),m.url&&(l='<iframe src="'+m.url+'" tabindex="-1"></iframe>'),"undefined"==typeof l&&(l=u.renderHtml(k)),k.statusbar&&(p=k.statusbar.renderHtml()),'<div id="'+q+'" class="'+k.classes()+'" hideFocus="1" tabIndex="-1">'+h+'<div id="'+q+'-body" class="'+k.classes("body")+'">'+l+"</div>"+p+"</div>"},fullscreen:function(k){var p=this,j=document.documentElement,m,h=p.classPrefix,n;if(k!=p._fullscreen){if(f.on(window,"resize",function(){var o;if(p._fullscreen){if(m){p._timer||(p._timer=setTimeout(function(){var q=f.getWindowSize();p.moveTo(0,0).resizeTo(q.w,q.h),p._timer=0},50))}else{o=(new Date).getTime();var i=f.getWindowSize();p.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-o>50&&(m=!0)}}}),n=p.layoutRect(),p._fullscreen=k,k){p._initial={x:n.x,y:n.y,w:n.w,h:n.h},p._borderBox=p.parseBox("0"),p.getEl("head").style.display="none",n.deltaH-=n.headerH+2,f.addClass(j,h+"fullscreen"),f.addClass(document.body,h+"fullscreen"),p.addClass("fullscreen");var l=f.getWindowSize();p.moveTo(0,0).resizeTo(l.w,l.h)}else{p._borderBox=p.parseBox(p.settings.border),p.getEl("head").style.display="",n.deltaH+=n.headerH,f.removeClass(j,h+"fullscreen"),f.removeClass(document.body,h+"fullscreen"),p.removeClass("fullscreen"),p.moveTo(p._initial.x,p._initial.y).resizeTo(p._initial.w,p._initial.h)}}return p.reflow()},postRender:function(){var i=this,l=[],k,h,j;setTimeout(function(){i.addClass("in")},0),i.keyboardNavigation=new b({root:i,enableLeftRight:!1,enableUpDown:!1,items:l,onCancel:function(){i.close()}}),i.find("*").each(function(m){m.canFocus&&(h=h||m.settings.autofocus,k=k||m,"filepicker"==m.type?(l.push(m.getEl("inp")),m.getEl("open")&&l.push(m.getEl("open").firstChild)):l.push(m.getEl()))}),i.statusbar&&i.statusbar.find("*").each(function(m){m.canFocus&&(h=h||m.settings.autofocus,k=k||m,l.push(m.getEl()))}),i._super(),i.statusbar&&i.statusbar.postRender(),!h&&k&&k.focus(),this.dragHelper=new d(i._id+"-dragh",{start:function(){j={x:i.layoutRect().x,y:i.layoutRect().y}},drag:function(e){i.moveTo(j.x+e.deltaX,j.y+e.deltaY)}}),i.on("submit",function(e){e.isDefaultPrevented()||i.close()})},submit:function(){var h=this.getParentCtrl(document.activeElement);return h&&h.blur(),this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this;h._super(),h.dragHelper.destroy(),h.statusbar&&this.statusbar.remove()}});return a}),bk(bJ,[a3],function(a){var b=a.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var c,d=e.callback||function(){};switch(e.buttons){case b.OK_CANCEL:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),d(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),d(!1)}}];break;case b.YES_NO:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),d(!0)}}];break;case b.YES_NO_CANCEL:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:c=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}]}return new a({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:e.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onClose:e.onClose}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,b.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=b.OK_CANCEL,b.msgBox(c)}}});return b}),bk(bD,[a3,bJ],function(a,b){return function(e){var c=this,d=[];c.windows=d,c.open=function(h,g){var f;return h.url=h.url||h.file,h.url&&(h.width=parseInt(h.width||320,10),h.height=parseInt(h.height||240,10)),h.body&&(h.items={defaults:h.defaults,type:h.bodyType||"form",items:h.body}),h.url||h.buttons||(h.buttons=[{text:"Ok",subtype:"primary",onclick:function(){f.find("form")[0].submit(),f.close()}},{text:"Cancel",onclick:function(){f.close()}}]),f=new a(h),d.push(f),f.on("close",function(){for(var i=d.length;i--;){d[i]===f&&d.splice(i,1)}e.focus()}),h.data&&f.on("postRender",function(){this.find("*").each(function(i){var j=i.name();j in h.data&&i.value(h.data[j])})}),f.params=g||{},e.nodeChanged(),f.renderTo(document.body).reflow()},c.alert=function(g,h,f){b.alert(g,function(){h.call(f||this)})},c.confirm=function(g,h,f){b.confirm(g,function(i){h.call(f||this,i)})},c.close=function(){d.length&&d[d.length-1].close()},c.getParams=function(){return d.length?d[d.length-1].params:null},c.setParams=function(f){d.length&&(d[d.length-1].params=f)}}}),bk(aF,[ak,bQ,bH,a6,bp,ab],function(c,g,f,b,d,a){return function(b7){function cb(h,l){try{b7.getDoc().execCommand(h,!1,l)}catch(k){}}function ce(){var h=b7.getDoc().documentMode;return h?h:6}function bX(h){return h.isDefaultPrevented()}function b3(){function h(z){function w(){if(3==v.nodeType){if(z&&x==v.length){return !0}if(!z&&0===x){return !0}}}var m,k,p,A,v,x,y;m=e.getRng();var q=[m.startContainer,m.startOffset,m.endContainer,m.endOffset];if(m.collapsed||(z=!0),v=m[(z?"start":"end")+"Container"],x=m[(z?"start":"end")+"Offset"],3==v.nodeType&&(k=o.getParent(m.startContainer,o.isBlock),z&&(k=o.getNext(k,o.isBlock)),!k||!w()&&m.collapsed||(p=o.create("em",{id:"__mceDel"}),i(a.grep(k.childNodes),function(l){p.appendChild(l)}),k.appendChild(p))),m=o.createRng(),m.setStart(q[0],q[1]),m.setEnd(q[2],q[3]),e.setRng(m),b7.getDoc().execCommand(z?"ForwardDelete":"Delete",!1,null),p){for(A=e.getBookmark();y=o.get("__mceDel");){o.remove(y,!0)}e.moveToBookmark(A)}}b7.on("keydown",function(l){var k;k=l.keyCode==at,bX(l)||!k&&l.keyCode!=cc||c.modifierPressed(l)||(l.preventDefault(),h(k))}),b7.addCommand("Delete",function(){h()})}function cd(){function h(l){var p=o.create("body"),m=l.cloneContents();return p.appendChild(m),e.serializer.serialize(p,{format:"html"})}function k(q){var p=h(q),l=o.createRng();l.selectNode(b7.getBody());var m=h(l);return p===m}b7.on("keydown",function(m){var p=m.keyCode,l;if(!bX(m)&&(p==at||p==cc)){if(l=b7.selection.isCollapsed(),l&&!o.isEmpty(b7.getBody())){return}if(bV&&!l){return}if(!l&&!k(b7.selection.getRng())){return}m.preventDefault(),b7.setContent(""),b7.selection.setCursorLocation(b7.getBody(),0),b7.nodeChanged()}})}function Z(){b7.on("keydown",function(h){!bX(h)&&65==h.keyCode&&c.metaKeyPressed(h)&&(h.preventDefault(),b7.execCommand("SelectAll"))})}function b0(){b7.settings.content_editable||(o.bind(b7.getDoc(),"focusin",function(){e.setRng(e.getRng())}),o.bind(b7.getDoc(),"mousedown",function(h){h.target==b7.getDoc().documentElement&&(b7.getWin().focus(),e.setRng(e.getRng()))}))}function r(){b7.on("keydown",function(h){if(!bX(h)&&h.keyCode===cc&&e.isCollapsed()&&0===e.getRng(!0).startOffset){var l=e.getNode(),k=l.previousSibling;k&&k.nodeName&&"hr"===k.nodeName.toLowerCase()&&(o.remove(k),h.preventDefault())}})}function Q(){window.Range.prototype.getClientRects||b7.on("mousedown",function(h){if(!bX(h)&&"HTML"===h.target.nodeName){var k=b7.getBody();k.blur(),setTimeout(function(){k.focus()},0)}})}function bt(){b7.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&e.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&o.hasClass(h,"mceItemAnchor")&&e.select(h),b7.nodeChanged()})}function j(){function h(){var l=o.getAttribs(e.getStart().cloneNode(!1));return function(){var m=e.getStart();m!==b7.getBody()&&(o.setAttrib(m,"style",null),i(l,function(p){m.setAttributeNode(p.cloneNode(!0))}))}}function k(){return !e.isCollapsed()&&o.getParent(e.getStart(),o.isBlock)!=o.getParent(e.getEnd(),o.isBlock)}b7.on("keypress",function(m){var l;return bX(m)||8!=m.keyCode&&46!=m.keyCode||!k()?void 0:(l=h(),b7.getDoc().execCommand("delete",!1,null),l(),m.preventDefault(),!1)}),o.bind(b7.getDoc(),"cut",function(m){var l;!bX(m)&&k()&&(l=h(),setTimeout(function(){l()},0))})}function X(){var h,k;b7.on("selectionchange",function(){k&&(clearTimeout(k),k=0),k=window.setTimeout(function(){var l=e.getRng();h&&g.compareRanges(l,h)||(b7.nodeChanged(),h=l)},50)})}function cg(){document.body.setAttribute("role","application")}function bW(){b7.on("keydown",function(h){if(!bX(h)&&h.keyCode===cc&&e.isCollapsed()&&0===e.getRng(!0).startOffset){var k=e.getNode().previousSibling;if(k&&k.nodeName&&"table"===k.nodeName.toLowerCase()){return h.preventDefault(),!1}}})}function b9(){ce()>7||(cb("RespectVisibilityInDesign",!0),b7.contentStyles.push(".mceHideBrInPre pre br {display: none}"),o.addClass(b7.getBody(),"mceHideBrInPre"),J.addNodeFilter("pre",function(l){for(var q=l.length,k,m,h,p;q--;){for(k=l[q].getAll("br"),m=k.length;m--;){h=k[m],p=h.prev,p&&3===p.type&&"\n"!=p.value.charAt(p.value-1)?p.value+="\n":h.parent.insert(new f("#text",3),h,!0).value="\n"}}}),Y.addNodeFilter("pre",function(l){for(var q=l.length,p,k,m,h;q--;){for(p=l[q].getAll("br"),k=p.length;k--;){m=p[k],h=m.prev,h&&3==h.type&&(h.value=h.value.replace(/\r?\n$/,""))}}}))}function bZ(){o.bind(b7.getBody(),"mouseup",function(){var h,k=e.getNode();"IMG"==k.nodeName&&((h=o.getStyle(k,"width"))&&(o.setAttrib(k,"width",h.replace(/[^0-9%]+/g,"")),o.setStyle(k,"width","")),(h=o.getStyle(k,"height"))&&(o.setAttrib(k,"height",h.replace(/[^0-9%]+/g,"")),o.setStyle(k,"height","")))})}function cf(){b7.on("keydown",function(v){var k,h,m,w,y,q,x,p;if(k=v.keyCode==at,!bX(v)&&(k||v.keyCode==cc)&&!c.modifierPressed(v)&&(h=e.getRng(),m=h.startContainer,w=h.startOffset,x=h.collapsed,3==m.nodeType&&m.nodeValue.length>0&&(0===w&&!x||x&&w===(k?0:1)))){if(q=m.previousSibling,q&&"IMG"==q.nodeName){return}p=b7.schema.getNonEmptyElements(),v.preventDefault(),y=o.create("br",{id:"__tmp"}),m.parentNode.insertBefore(y,m),b7.getDoc().execCommand(k?"ForwardDelete":"Delete",!1,null),m=e.getRng().startContainer,q=m.previousSibling,q&&1==q.nodeType&&!o.isBlock(q)&&o.isEmpty(q)&&!p[q.nodeName.toLowerCase()]&&o.remove(q),o.remove("__tmp")}})}function b2(){b7.on("keydown",function(q){var p,k,m,h,l;if(!bX(q)&&q.keyCode==c.BACKSPACE&&(p=e.getRng(),k=p.startContainer,m=p.startOffset,h=o.getRoot(),l=k,p.collapsed&&0===m)){for(;l&&l.parentNode&&l.parentNode.firstChild==l&&l.parentNode!=h;){l=l.parentNode}"BLOCKQUOTE"===l.tagName&&(b7.formatter.toggle("blockquote",null,l),p=o.createRng(),p.setStart(k,0),p.setEnd(k,0),e.setRng(p))}})}function ca(){function h(){b7._refreshContentEditable(),cb("StyleWithCSS",!1),cb("enableInlineTableEditing",!1),b5.object_resizing||cb("enableObjectResizing",!1)}b5.readonly||b7.on("BeforeExecCommand MouseDown",h)}function b1(){function h(){i(o.select("a"),function(k){var m=k.parentNode,l=o.getRoot();if(m.lastChild===k){for(;m&&!o.isBlock(m);){if(m.parentNode.lastChild!==m||m===l){return}m=m.parentNode}o.add(m,"br",{"data-mce-bogus":1})}})}b7.on("SetContent ExecCommand",function(k){("setcontent"==k.type||"mceInsertLink"===k.command)&&h()})}function t(){b5.forced_root_block&&b7.on("init",function(){cb("DefaultParagraphSeparator",b5.forced_root_block)})}function ch(){b7.on("Undo Redo SetContent",function(h){h.initial||b7.execCommand("mceRepaint")})}function b4(){b7.on("keydown",function(h){var k;bX(h)||h.keyCode!=cc||(k=b7.getDoc().selection.createRange(),k&&k.item&&(h.preventDefault(),b7.undoManager.beforeChange(),o.remove(k.item(0)),b7.undoManager.add()))})}function ci(){var h;ce()>=10&&(h="",i("p div h1 h2 h3 h4 h5 h6".split(" "),function(l,k){h+=(k>0?",":"")+l+":empty"}),b7.contentStyles.push(h+"{padding-right: 1px !important}"))}function b8(){ce()<9&&(J.addNodeFilter("noscript",function(k){for(var m=k.length,l,h;m--;){l=k[m],h=l.firstChild,h&&l.attr("data-mce-innertext",h.value)}}),Y.addNodeFilter("noscript",function(k){for(var p=k.length,l,h,m;p--;){l=k[p],h=k[p].firstChild,h?h.value=b.decode(h.value):(m=l.attributes.map["data-mce-innertext"],m&&(l.attr("data-mce-innertext",null),h=new f("#text",3),h.value=m,h.raw=!0,l.append(h)))}}))}function K(){function l(w,y){var x=p.createTextRange();try{x.moveToPoint(w,y)}catch(s){x=null}return x}function v(w){var s;w.button?(s=l(w.x,w.y),s&&(s.compareEndPoints("StartToStart",q)>0?s.setEndPoint("StartToStart",q):s.setEndPoint("EndToEnd",q),s.select())):u()}function u(){var s=k.selection.createRange();q&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&q.select(),o.unbind(k,"mouseup",u),o.unbind(k,"mousemove",v),q=h=0}var k=o.doc,p=k.body,h,q,m;k.documentElement.unselectable=!0,o.bind(k,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(h&&u(),m=k.documentElement,m.scrollHeight>m.clientHeight){return}h=1,q=l(s.x,s.y),q&&(o.bind(k,"mouseup",u),o.bind(k,"mousemove",v),o.win.focus(),q.select())}})}function n(){b7.on("keyup focusin",function(h){65==h.keyCode&&c.metaKeyPressed(h)||e.normalize()})}function bY(){b7.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}var i=a.each,cc=c.BACKSPACE,at=c.DELETE,o=b7.dom,e=b7.selection,b5=b7.settings,J=b7.parser,Y=b7.serializer,G=d.gecko,bV=d.ie,b6=d.webkit;bW(),b2(),cd(),n(),b6&&(cf(),b3(),b0(),bt(),t(),d.iOS?X():Z()),bV&&(r(),cg(),b9(),bZ(),b4(),ci(),b8(),K()),G&&(r(),Q(),j(),ca(),b1(),ch(),bY())}}),bk(aW,[ab],function(b){function f(){return !1}function d(){return !0}var a="__bindings",c=b.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(q,g,m){var k=this,r,j,n,p,h;if(q=q.toLowerCase(),g=g||{},g.type=q,g.target||(g.target=k),g.preventDefault||(g.preventDefault=function(){g.isDefaultPrevented=d},g.stopPropagation=function(){g.isPropagationStopped=d},g.stopImmediatePropagation=function(){g.isImmediatePropagationStopped=d},g.isDefaultPrevented=f,g.isPropagationStopped=f,g.isImmediatePropagationStopped=f),k[a]&&(r=k[a][q])){for(j=0,n=r.length;n>j&&(r[j]=p=r[j],!g.isImmediatePropagationStopped());j++){if(p.call(k,g)===!1){return g.preventDefault(),g}}}if(m!==!1&&k.parent){for(h=k.parent();h&&!g.isPropagationStopped();){h.fire(q,g,!1),h=h.parent()}}return g},on:function(h,p){var m=this,g,j,i,k;if(p===!1&&(p=function(){return !1}),p){for(i=h.toLowerCase().split(" "),k=i.length;k--;){h=i[k],g=m[a],g||(g=m[a]={}),j=g[h],j||(j=g[h]=[],m.bindNative&&c[h]&&m.bindNative(h)),j.push(p)}}return m},off:function(q,i){var g=this,k,j=g[a],r,h,m,p;if(j){if(q){for(m=q.toLowerCase().split(" "),k=m.length;k--;){if(q=m[k],r=j[q],!q){for(h in j){j[q].length=0}return g}if(r){if(i){for(p=r.length;p--;){r[p]===i&&r.splice(p,1)}}else{r.length=0}!r.length&&g.unbindNative&&c[q]&&(g.unbindNative(q),delete j[q])}}}else{if(g.unbindNative){for(q in j){g.unbindNative(q)}}g[a]=[]}}return g}}}),bk(aP,[ab,bp],function(b,f){var d=b.each,a=b.explode,c={f9:120,f10:121,f11:122};return function(e){var h=this,g={};e.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&d(g,function(k){var j=f.mac?i.ctrlKey||i.metaKey:i.ctrlKey;if(k.ctrl==j&&k.alt==i.altKey&&k.shift==i.shiftKey){return i.keyCode==k.keyCode||i.charCode&&i.charCode==k.charCode?(i.preventDefault(),"keydown"==i.type&&k.func.call(k.scope),!0):void 0}})}),h.add=function(n,j,m,i){var k;return k=m,"string"==typeof m?m=function(){e.execCommand(k,!1,null)}:b.isArray(k)&&(m=function(){e.execCommand(k[0],k[1],k[2])}),d(a(n.toLowerCase()),function(l){var o={func:m,scope:i||e,desc:e.translate(j),alt:!1,ctrl:!1,shift:!1};d(a(l,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":o[p]=!0;break;default:o.charCode=p.charCodeAt(0),o.keyCode=c[p]||p.toUpperCase().charCodeAt(0)}}),g[(o.ctrl?"ctrl":"")+","+(o.alt?"alt":"")+","+(o.shift?"shift":"")+","+o.keyCode]=o}),!0}}}),bk(aX,[av,aq,bH,bd,am,ac,bf,bA,bP,aB,aa,au,aY,bj,bD,bU,al,aF,bp,ab,aW,aP],function(b0,G,b6,b5,bX,bZ,b4,b9,X,bW,b8,U,at,z,J,V,q,K,cb,W,b2,Z){function ca(a,b){return"selectionchange"==b?a.getDoc():!a.inline&&/^mouse|click|contextmenu/.test(b)?a.getDoc():a.getBody()}function bV(d,h,c){var f=this,b,g;b=f.documentBaseUrl=c.documentBaseURL,g=c.baseURI,f.settings=h=cc({id:d,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:b,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:f.convertURL,url_converter_scope:f,ie7_compat:!0},h),G.settings=h,G.baseURL=c.baseURL,f.id=h.id=d,f.isNotDirty=!0,f.plugins={},f.documentBaseURI=new U(h.document_base_url||b,{base_uri:g}),f.baseURI=g,f.contentCSS=[],f.contentStyles=[],f.shortcuts=new Z(f),f.execCommands={},f.queryStateCommands={},f.queryValueCommands={},f.loadedCSS={},f.suffix=c.suffix,f.editorManager=c,f.inline=h.inline,f.execCallback("setup",f)}var b3=b0.DOM,bt=G.ThemeManager,F=G.PluginManager,cc=W.extend,bY=W.each,cd=W.explode,b1=W.inArray,I=W.trim,t=W.resolve,Y=z.Event,j=cb.gecko,b7=cb.ie,Q=cb.opera;return bV.prototype={render:function(){function c(){var h=at.ScriptLoader;f.language&&(f.language_url=g.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&h.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!bt.urls[f.theme]&&bt.load(f.theme,"themes/"+f.theme+"/theme"+d+".js"),W.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),bY(f.external_plugins,function(i,k){F.load(k,i),f.plugins+=" "+k}),bY(f.plugins.split(/[ ,]/),function(i){if(i=I(i),i&&!F.urls[i]){if("-"==i.charAt(0)){i=i.substr(1,i.length);var k=F.dependencies(i);bY(k,function(l){var m={prefix:"plugins/",resource:l,suffix:"/plugin"+d+".js"};l=F.createUrl(m,l),F.load(l.resource,l)})}else{F.load(i,{prefix:"plugins/",resource:i,suffix:"/plugin"+d+".js"})}}}),h.loadQueue(function(){g.removed||g.init()})}var g=this,f=g.settings,b=g.id,d=g.suffix;if(!Y.domLoaded){return b3.bind(window,"ready",function(){g.render()}),void 0}if(g.editorManager.settings=f,g.getElement()&&cb.contentEditable){f.inline?g.inline=!0:(g.orgVisibility=g.getElement().style.visibility,g.getElement().style.visibility="hidden");var a=g.getElement().form||b3.getParent(b,"form");a&&(g.formElement=a,f.hidden_input&&!/TEXTAREA|INPUT/i.test(g.getElement().nodeName)&&b3.insertAfter(b3.create("input",{type:"hidden",name:b}),b),g.formEventDelegate=function(h){g.fire(h.type,h)},b3.bind(a,"submit reset",g.formEventDelegate),g.on("reset",function(){g.setContent(g.startContent,{format:"raw"})}),!f.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return g.editorManager.triggerSave(),g.isNotDirty=!0,a._mceOldSubmit(a)})),g.windowManager=new J(g),"xml"==f.encoding&&g.on("GetContent",function(h){h.save&&(h.content=b3.encode(h.content))}),f.add_form_submit_trigger&&g.on("submit",function(){g.initialized&&(g.save(),g.isNotDirty=!0)}),f.add_unload_trigger&&(g._beforeUnload=function(){!g.initialized||g.destroyed||g.isHidden()||g.save({format:"raw",no_events:!0})},g.editorManager.on("BeforeUnload",g._beforeUnload)),c()}},init:function(){function M(e){var c=F.get(e),d,a;d=F.urls[e]||B.documentBaseUrl.replace(/\/$/,""),e=I(e),c&&-1===b1(E,e)&&(bY(F.dependencies(e),function(f){M(f)}),a=new c(B,d),B.plugins[e]=a,a.init&&(a.init(B,d),E.push(e)))}var B=this,k=B.settings,b=B.getElement(),v,D,C,N,A,H,L,y,x,w,E=[];if(B.editorManager.add(B),k.aria_label=k.aria_label||b3.getAttrib(b,"aria-label",B.getLang("aria.rich_text_area")),k.theme&&("function"!=typeof k.theme?(k.theme=k.theme.replace(/-/,""),A=bt.get(k.theme),B.theme=new A(B,bt.urls[k.theme]),B.theme.init&&B.theme.init(B,bt.urls[k.theme]||B.documentBaseUrl.replace(/\/$/,""))):B.theme=k.theme),bY(k.plugins.replace(/\-/g,"").split(/[ ,]/),M),B.fire("BeforeRenderUI"),k.render_ui&&B.theme&&(B.orgDisplay=b.style.display,"function"!=typeof k.theme?(v=k.width||b.style.width||b.offsetWidth,D=k.height||b.style.height||b.offsetHeight,C=k.min_height||100,x=/^[0-9\.]+(|px)$/i,x.test(""+v)&&(v=Math.max(parseInt(v,10)+(A.deltaWidth||0),100)),x.test(""+D)&&(D=Math.max(parseInt(D,10)+(A.deltaHeight||0),C)),A=B.theme.renderUI({targetNode:b,width:v,height:D,deltaWidth:k.delta_width,deltaHeight:k.delta_height}),k.content_editable||(b3.setStyles(A.sizeContainer||A.editorContainer,{wi2dth:v,h2eight:D}),D=(A.iframeHeight||D)+("number"==typeof D?A.deltaHeight||0:""),C>D&&(D=C))):(A=k.theme(B,b),A.editorContainer.nodeType&&(A.editorContainer=A.editorContainer.id=A.editorContainer.id||B.id+"_parent"),A.iframeContainer.nodeType&&(A.iframeContainer=A.iframeContainer.id=A.iframeContainer.id||B.id+"_iframecontainer"),D=A.iframeHeight||b.offsetHeight),B.editorContainer=A.editorContainer),k.content_css&&bY(cd(k.content_css),function(a){B.contentCSS.push(B.documentBaseURI.toAbsolute(a))}),k.content_style&&B.contentStyles.push(k.content_style),k.content_editable){return b=N=A=null,B.initContentBody()}for(document.domain&&location.hostname!=document.domain&&(B.editorManager.relaxedDomain=document.domain),B.iframeHTML=k.doctype+"<html><head>",k.document_base_url!=B.documentBaseUrl&&(B.iframeHTML+='<base href="'+B.documentBaseURI.getURI()+'" />'),!cb.caretAfter&&k.ie7_compat&&(B.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),B.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',w=0;w<B.contentCSS.length;w++){var g=B.contentCSS[w];B.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+g+'" />',B.loadedCSS[g]=!0}L=k.body_id||"tinymce",-1!=L.indexOf("=")&&(L=B.getParam("body_id","","hash"),L=L[B.id]||L),y=k.body_class||"",-1!=y.indexOf("=")&&(y=B.getParam("body_class","","hash"),y=y[B.id]||""),B.iframeHTML+='</head><body id="'+L+'" class="mce-content-body '+y+'" onload="window.parent.tinymce.get(\''+B.id+"').fire('load');\"><br></body></html>",B.editorManager.relaxedDomain&&(b7||Q&&parseFloat(window.opera.version())<11)&&(H='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+B.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),N=b3.add(A.iframeContainer,"iframe",{id:B.id+"_ifr",src:H||'javascript:""',frameBorder:"0",allowTransparency:"true",title:B.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:D,display:"block"}}),B.contentAreaContainer=A.iframeContainer,A.editorContainer&&(b3.get(A.editorContainer).style.display=B.orgDisplay),b3.get(B.id).style.display="none",b3.setAttrib(B.id,"aria-hidden",!0),B.editorManager.relaxedDomain&&H||B.initContentBody(),b=N=A=null},initContentBody:function(){var g=this,e=g.settings,a=b3.get(g.id),c=g.getDoc(),b,d;e.inline||(g.getElement().style.visibility=g.orgVisibility),b7&&g.editorManager.relaxedDomain||e.content_editable||(c.open(),c.write(g.iframeHTML),c.close(),g.editorManager.relaxedDomain&&(c.domain=g.editorManager.relaxedDomain)),e.content_editable&&(g.on("remove",function(){var f=this.getBody();b3.removeClass(f,"mce-content-body"),b3.removeClass(f,"mce-edit-focus"),b3.setAttrib(f,"tabIndex",null),b3.setAttrib(f,"contentEditable",null)}),b3.addClass(a,"mce-content-body"),a.tabIndex=-1,g.contentDocument=c=e.content_document||document,g.contentWindow=e.content_window||window,g.bodyElement=a,e.content_document=e.content_window=null,e.root_name=a.nodeName.toLowerCase()),b=g.getBody(),b.disabled=!0,e.readonly||(b.contentEditable=g.getParam("content_editable_state",!0)),b.disabled=!1,g.schema=new V(e),g.dom=new b0(c,{keep_values:!0,url_converter:g.convertURL,url_converter_scope:g,hex_colors:e.force_hex_style_colors,class_filter:e.class_filter,update_styles:!0,root_element:e.content_editable?g.id:null,schema:g.schema,onSetAttrib:function(f){g.fire("SetAttrib",f)}}),g.parser=new q(e,g.schema),g.parser.addAttributeFilter("src,href,style",function(k,u){for(var h=k.length,m,f=g.dom,p,l;h--;){m=k[h],p=m.attr(u),l="data-mce-"+u,m.attributes.map[l]||("style"===u?m.attr(l,f.serializeStyle(f.parseStyle(p),m.name)):m.attr(l,g.convertURL(p,u,m.name)))}}),g.parser.addNodeFilter("script",function(f){for(var i=f.length,h;i--;){h=f[i],h.attr("type","mce-"+(h.attr("type")||"text/javascript"))}}),g.parser.addNodeFilter("#cdata",function(f){for(var i=f.length,h;i--;){h=f[i],h.type=8,h.name="#comment",h.value="[CDATA["+h.value+"]]"}}),g.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(h){for(var l=h.length,k,f=g.schema.getNonEmptyElements();l--;){k=h[l],k.isEmpty(f)&&(k.empty().append(new b6("br",1)).shortEnded=!0)}}),g.serializer=new b5(e,g),g.selection=new bZ(g.dom,g.getWin(),g.serializer,g),g.formatter=new b4(g),g.undoManager=new b9(g),g.forceBlocks=new bW(g),g.enterKey=new X(g),g.editorCommands=new b8(g),g.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(c.body.spellcheck=!1),g.fire("PostRender"),g.quirks=K(g),e.directionality&&(b.dir=e.directionality),e.nowrap&&(b.style.whiteSpace="nowrap"),e.protect&&g.on("BeforeSetContent",function(f){bY(e.protect,function(h){f.content=f.content.replace(h,function(i){return"<!--mce:protected "+escape(i)+"-->"})})}),g.on("SetContent",function(){g.addVisual(g.getBody())}),e.padd_empty_editor&&g.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),g.load({initial:!0,format:"html"}),g.startContent=g.getContent({format:"raw"}),g.initialized=!0,bY(g._pendingNativeEvents,function(f){g.dom.bind(ca(g,f),f,function(h){g.fire(h.type,h)})}),g.fire("init"),g.focus(!0),g.nodeChanged({initial:!0}),g.execCallback("init_instance_callback",g),g.contentStyles.length>0&&(d="",bY(g.contentStyles,function(f){d+=f+"\r\n"}),g.dom.addStyle(d)),bY(g.contentCSS,function(f){g.loadedCSS[f]||(g.dom.loadCSS(f),g.loadedCSS[f]=!0)}),e.auto_focus&&setTimeout(function(){var f=g.editorManager.get(e.auto_focus);f.selection.select(f.getBody(),1),f.selection.collapse(1),f.getBody().focus(),f.getWin().focus()},100),a=c=b=null},focus:function(m){var g,c=this,b=c.selection,d=c.settings.content_editable,k,h,p=c.getDoc(),f;m||(k=b.getRng(),k.item&&(h=k.item(0)),c._refreshContentEditable(),d||(c.getBody().focus(),c.getWin().focus()),(j||d)&&(f=c.getBody(),f.setActive?f.setActive():f.focus(),d&&b.normalize()),h&&h.ownerDocument==p&&(k=p.body.createControlRange(),k.addElement(h),k.select())),c.editorManager.activeEditor!=c&&((g=c.editorManager.activeEditor)&&g.fire("deactivate",{relatedTarget:c}),c.fire("activate",{relatedTarget:g})),c.editorManager.activeEditor=c},execCallback:function(b){var d=this,c=d.settings[b],a;if(c){return d.callbackLookup&&(a=d.callbackLookup[b])&&(c=a.func,a=a.scope),"string"==typeof c&&(a=c.replace(/\.\w+$/,""),a=a?t(a):0,c=t(c),d.callbackLookup=d.callbackLookup||{},d.callbackLookup[b]={func:c,scope:a}),c.apply(a||d,Array.prototype.slice.call(arguments,1))}},translate:function(a){var c=this.settings.language||"en",b=this.editorManager.i18n;return a?b[c+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(f,d){return b[c+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n[(this.settings.language||"en")+"."+a]||(b!==bs?b:"{#"+a+"}")},getParam:function(b,f,d){var a=b in this.settings?this.settings[b]:f,c;return"hash"===d?(c={},"string"==typeof a?bY(a.indexOf("=")>0?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(g){g=g.split("="),c[I(g[0])]=g.length>1?I(g[1]):I(g)}):c=a,c):a},nodeChanged:function(){var b=this,f=b.selection,d,a,c;b.initialized&&!b.settings.disable_nodechange&&(c=b.getBody(),d=f.getStart()||c,d=b7&&d.ownerDocument!=b.getDoc()?b.getBody():d,"IMG"==d.nodeName&&f.isCollapsed()&&(d=d.parentNode),a=[],b.dom.getParent(d,function(g){return g===c?!0:(a.push(g),void 0)}),b.fire("NodeChange",{element:d,parents:a}))},addButton:function(a,c){var b=this;c.cmd&&(c.onclick=function(){b.execCommand(c.cmd)}),b.buttons=b.buttons||{},c.tooltip=c.tooltip||c.title,c.icon=c.icon||(c.icon!==!1?a:!1),b.buttons[a]=c},addMenuItem:function(a,c){var b=this;c.cmd&&(c.onclick=function(){b.execCommand(c.cmd)}),b.menuItems=b.menuItems||{},b.menuItems[a]=c},addCommand:function(a,c,b){this.execCommands[a]={func:c,scope:b||this}},addQueryStateHandler:function(a,c,b){this.queryStateCommands[a]={func:c,scope:b||this}},addQueryValueHandler:function(a,c,b){this.queryValueCommands[a]={func:c,scope:b||this}},addShortcut:function(b,d,c,a){this.shortcuts.add(b,d,c,a)},execCommand:function(d,k,h,c){var f=this,b=0,g;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(d)||c&&c.skip_focus||f.focus(),c=cc({},c),c=f.fire("BeforeExecCommand",{command:d,ui:k,value:h}),c.isDefaultPrevented()?!1:(g=f.execCommands[d])&&g.func.call(g.scope,k,h)!==!0?(f.fire("ExecCommand",{command:d,ui:k,value:h}),!0):(bY(f.plugins,function(a){return a.execCommand&&a.execCommand(d,k,h)?(f.fire("ExecCommand",{command:d,ui:k,value:h}),b=!0,!1):void 0}),b?b:f.theme&&f.theme.execCommand&&f.theme.execCommand(d,k,h)?(f.fire("ExecCommand",{command:d,ui:k,value:h}),!0):f.editorCommands.execCommand(d,k,h)?(f.fire("ExecCommand",{command:d,ui:k,value:h}),!0):(f.getDoc().execCommand(d,k,h),f.fire("ExecCommand",{command:d,ui:k,value:h}),void 0))},queryCommandState:function(b){var f=this,d,a;if(!f._isHidden()){if((d=f.queryStateCommands[b])&&(a=d.func.call(d.scope),a!==!0)){return a}if(a=f.editorCommands.queryCommandState(b),-1!==a){return a}try{return f.getDoc().queryCommandState(b)}catch(c){}}},queryCommandValue:function(c){var f=this,b,d;if(!f._isHidden()){if((b=f.queryValueCommands[c])&&(d=b.func.call(b.scope),d!==!0)){return d}if(d=f.editorCommands.queryCommandValue(c),d!==bs){return d}try{return f.getDoc().queryCommandValue(c)}catch(a){}}},show:function(){var a=this;b3.show(a.getContainer()),b3.hide(a.id),a.load(),a.fire("show")},hide:function(){var a=this,b=a.getDoc();b7&&b&&b.execCommand("SelectAll"),a.save(),b3.hide(a.getContainer()),b3.setStyle(a.id,"display",a.orgDisplay),a.fire("hide")},isHidden:function(){return !b3.isHidden(this.id)},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(b){var d=this,a=d.getElement(),c;return a?(b=b||{},b.load=!0,c=d.setContent(a.value!==bs?a.value:a.innerHTML,b),b.element=a,b.no_events||d.fire("LoadContent",b),b.element=a=null,c):void 0},save:function(b){var f=this,d=f.getElement(),a,c;if(d&&f.initialized){return b=b||{},b.save=!0,b.element=d,a=b.content=f.getContent(b),b.no_events||f.fire("SaveContent",b),a=b.content,/TEXTAREA|INPUT/i.test(d.nodeName)?d.value=a:(d.innerHTML=a,(c=b3.getParent(f.id,"form"))&&bY(c.elements,function(g){return g.name==f.id?(g.value=a,!1):void 0})),b.element=d=null,f.isNotDirty=!0,a}},setContent:function(b,f){var d=this,a=d.getBody(),c;return f=f||{},f.format=f.format||"html",f.set=!0,f.content=b,f.no_events||d.fire("BeforeSetContent",f),b=f.content,b7||0!==b.length&&!/^\s+$/.test(b)?("raw"!==f.format&&(b=new bX({},d.schema).serialize(d.parser.parse(b,{isRootContent:!0}))),f.content=I(b),d.dom.setHTML(a,f.content),f.no_events||d.fire("SetContent",f),d.settings.content_editable&&document.activeElement!==d.getBody()||d.selection.normalize(),f.content):(c=d.settings.forced_root_block,b=c&&d.schema.isValidChild(a.nodeName.toLowerCase(),c.toLowerCase())?"<"+c+'><br data-mce-bogus="1"></'+c+">":'<br data-mce-bogus="1">',a.innerHTML=b,d.selection.select(a,!0),d.selection.collapse(!0),d.fire("SetContent",f),void 0)},getContent:function(b){var d=this,c,a=d.getBody();return b=b||{},b.format=b.format||"html",b.get=!0,b.getInner=!0,b.no_events||d.fire("BeforeGetContent",b),c="raw"==b.format?a.innerHTML:"text"==b.format?a.innerText||a.textContent:d.serializer.serialize(a,b),b.content="text"!=b.format?I(c):c,b.no_events||d.fire("GetContent",b),b.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=b3.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return b3.get(this.settings.content_element||this.id)},getWin:function(){var a=this,b;return a.contentWindow||(b=b3.get(a.id+"_ifr"),b&&(a.contentWindow=b.contentWindow)),a.contentWindow},getDoc:function(){var a=this,b;return a.contentDocument||(b=a.getWin(),b&&(a.contentDocument=b.document)),a.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(b,f,d){var a=this,c=a.settings;return c.urlconverter_callback?a.execCallback("urlconverter_callback",b,d,!0,f):!c.convert_urls||d&&"LINK"==d.nodeName||0===b.indexOf("file:")||0===b.length?b:c.relative_urls?a.documentBaseURI.toRelative(b):b=a.documentBaseURI.toAbsolute(b,c.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,d=f.dom,a;c=c||f.getBody(),f.hasVisual===bs&&(f.hasVisual=b.visual),bY(d.select("table,a",c),function(g){var h;switch(g.nodeName){case"TABLE":return a=b.visual_table_class||"mce-item-table",h=d.getAttrib(g,"border"),h&&"0"!=h||(f.hasVisual?d.addClass(g,a):d.removeClass(g,a)),void 0;case"A":return d.getAttrib(g,"href",!1)||(h=d.getAttrib(g,"name")||g.id,a="mce-item-anchor",h&&(f.hasVisual?d.addClass(g,a):d.removeClass(g,a))),void 0}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var a=this,c=a.getContainer(),b=a.getDoc();a.removed||(a.removed=1,b7&&b&&b.execCommand("SelectAll"),a.save(),b3.setStyle(a.id,"display",a.orgDisplay),a.settings.content_editable||(Y.unbind(a.getWin()),Y.unbind(a.getDoc())),Y.unbind(a.getBody()),Y.unbind(c),a.fire("remove"),a.editorManager.remove(a),b3.remove(c))},bindNative:function(a){var b=this;b.initialized?b.dom.bind(ca(b,a),a,function(c){b.fire(a,c)}):b._pendingNativeEvents?b._pendingNativeEvents.push(a):b._pendingNativeEvents=[a]},unbindNative:function(a){var b=this;b.initialized&&b.dom.unbind(a)},destroy:function(a){var c=this,b;c.destroyed||(j&&(Y.unbind(c.getDoc()),Y.unbind(c.getWin()),Y.unbind(c.getBody())),a||(c.editorManager.off("beforeunload",c._beforeUnload),c.theme&&c.theme.destroy&&c.theme.destroy(),c.selection.destroy(),c.dom.destroy()),b=c.formElement,b&&(b.submit=b._mceOldSubmit,b._mceOldSubmit=null,b3.unbind(b,"submit reset",c.formEventDelegate)),c.contentAreaContainer=c.formElement=c.container=null,c.settings.content_element=c.bodyElement=c.contentDocument=c.contentWindow=null,c.selection&&(c.selection=c.selection.win=c.selection.dom=c.selection.dom.doc=null),c.destroyed=1)},_refreshContentEditable:function(){var a=this,c,b;a._isHidden()&&(c=a.getBody(),b=c.parentNode,b.removeChild(c),b.appendChild(c),c.focus())},_isHidden:function(){var a;return j?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},cc(bV.prototype,b2),bV}),bk(aN,[],function(){var a={};return{add:function(d,c){for(var b in c){a[b]=c[b]}},translate:function(c){if("undefined"==typeof c){return c}if("string"!=typeof c&&c.raw){return c.raw}if(c.push){var b=c.slice(1);c=(a[c[0]]||c[0]).replace(/\{([^\}]+)\}/g,function(d,f){return b[f]})}return a[c]||c},data:a}}),bk(aI,[av,bp],function(a,c){function b(e){function f(){try{return document.activeElement}catch(g){return document.body}}function d(g){function j(l){return !!a.DOM.getParent(l,b.isEditorUIElement)}var i=g.editor,m,h,k;i.on("init",function(){"onbeforedeactivate" in document?i.dom.bind(i.getBody(),"beforedeactivate",function(){var l=i.getDoc().selection;h=l&&l.createRange?l.createRange():i.selection.getRng()}):i.inline&&(i.on("nodechange",function(){for(var l,n=document.activeElement;n;){if(n==i.getBody()){l=!0;break}n=n.parentNode}l&&(h=i.selection.getRng())}),c.webkit&&(k=function(){var l=i.selection.getRng();l.collapsed||(h=l)},a.DOM.bind(document,"selectionchange",k),i.on("remove",function(){a.DOM.unbind(document,"selectionchange",k)})))}),i.on("focusin",function(){var l=e.focusedEditor;m&&(i.selection.setRng(m),m=null),l!=i&&(l&&l.fire("blur",{focusedEditor:i}),i.fire("focus",{blurredEditor:l}),i.focus(!1),e.focusedEditor=i)}),i.on("focusout",function(){m=h,window.setTimeout(function(){var l=e.focusedEditor;l!=i&&(m=null),j(f())||l!=i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null,m=null)},0)})}e.on("AddEditor",d)}return b.isEditorUIElement=function(d){return -1!==d.className.indexOf("mce-")},b}),bk(a5,[aX,av,au,bp,ab,aW,aN,aI],function(C,j,b,k,y,x,D,w){var A=j.DOM,B=y.explode,v=y.each,t=y.extend,q=0,z,g={majorVersion:"4",minorVersion:"0",releaseDate:"2013-06-13",editors:[],i18n:D,activeEditor:null,setup:function(){var h=this,u,r,m="",d;if(r=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"),d=window.tinymce||window.tinyMCEPreInit){u=d.base||d.baseURL,m=d.suffix}else{for(var p=document.getElementsByTagName("script"),l=0;l<p.length;l++){var f=p[l].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=f.indexOf(".min")&&(m=".min"),u=f.substring(0,f.lastIndexOf("/"));break}}}h.baseURL=new b(r).toAbsolute(u),h.documentBaseURL=r,h.baseURI=new b(h.baseURL),h.suffix=m,h.focusManager=new w(h)},init:function(m){function l(a){var i=a.id;return i||(i=a.name,i=i&&!A.get(i)?a.name:A.uniqueId(),a.setAttribute("id",i)),i}function d(i,p,o){var a=i[p];if(a){return a.apply(o||this,Array.prototype.slice.call(arguments,2))}}function f(a,i){return i.constructor===RegExp?i.test(a.className):A.hasClass(a,i)}var c=this,h=[],e;c.settings=m,A.bind(window,"ready",function(){var i,a;if(d(m,"onpageload"),m.types){return v(m.types,function(n){v(A.select(n.selector),function(p){var o=new C(l(p),t({},m,n),c);h.push(o),o.render(1)})}),void 0}if(m.selector){return v(A.select(m.selector),function(n){var o=new C(l(n),m,c);h.push(o),o.render(1)}),void 0}switch(m.mode){case"exact":i=m.elements||"",i.length>0&&v(B(i),function(o){A.get(o)?(e=new C(o,m,c),h.push(e),e.render(!0)):v(document.forms,function(n){v(n.elements,function(p){p.name===o&&(o="mce_editor_"+q++,A.setAttrib(p,"id",o),e=new C(o,m,c),h.push(e),e.render(1))})})});break;case"textareas":case"specific_textareas":v(A.select("textarea"),function(n){m.editor_deselector&&f(n,m.editor_deselector)||(!m.editor_selector||f(n,m.editor_selector))&&(e=new C(l(n),m,c),h.push(e),e.render(!0))})}m.oninit&&(i=a=0,v(h,function(n){a++,n.initialized?i++:n.on("init",function(){i++,i==a&&d(m,"oninit")}),i==a&&d(m,"oninit")}))})},get:function(a){return a===bs?this.editors:this.editors[a]},add:function(a){var d=this,c=d.editors;return c[a.id]=a,c.push(a),d.activeEditor=a,d.fire("AddEditor",{editor:a}),z||(z=function(){d.fire("BeforeUnload")},A.bind(window,"beforeunload",z)),a},createEditor:function(c,a){return this.add(new C(c,a,this))},remove:function(c){var h=this,f,a=h.editors,d;if(c){if("string"==typeof c){return c=c.selector||c,v(A.select(c),function(i){h.remove(a[i.id])}),void 0}if(d=c,!a[d.id]){return null}for(delete a[d.id],f=0;f<a.length;f++){if(a[f]==d){a.splice(f,1);break}}if(h.activeEditor==d&&(h.activeEditor=a[0]),d&&!d.removed){return d.remove(),d.destroy(),h.fire("RemoveEditor",{editor:d}),a.length||A.unbind(window,"beforeunload",z),d}}else{for(f=a.length-1;f>=0;f--){h.remove(a[f])}}},execCommand:function(f,e,c){var d=this,a=d.get(c);switch(f){case"mceAddEditor":return d.get(c)||new C(c,d.settings,d).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(d.execCommand("mceAddEditor",0,c),!0)}return d.activeEditor?d.activeEditor.execCommand(f,e,c):!1},triggerSave:function(){v(this.editors,function(a){a.save()})},addI18n:function(a,c){D.add(a,c)},translate:function(a){return D.translate(a)}};return t(g,x),g.setup(),window.tinymce=window.tinyMCE=g,g}),bk(bE,[a5,ab],function(b,d){var c=d.each,a=d.explode;b.on("AddEditor",function(f){var g=f.editor;g.on("preInit",function(){function j(i,l){c(l,function(o,e){o&&k.setStyle(i,e,o)}),k.rename(i,"span")}function m(i){k=g.dom,p.convert_fonts_to_spans&&c(k.select("font,u,strike",i.node),function(l){h[l.nodeName.toLowerCase()](k,l)})}var h,n,k,p=g.settings;p.inline_styles&&(n=a(p.font_size_legacy_values),h={font:function(i,e){j(e,{backgroundColor:e.style.backgroundColor,color:e.color,fontFamily:e.face,fontSize:n[parseInt(e.size,10)-1]})},u:function(i,e){j(e,{textDecoration:"underline"})},strike:function(i,e){j(e,{textDecoration:"line-through"})}},g.on("PreProcess SetContent",m))})})}),bk(ap,[],function(){return{send:function(b){function d(){!b.async||4==c.readyState||a++>10000?(b.success&&10000>a&&200==c.status?b.success.call(b.success_scope,""+c.responseText,c,b):b.error&&b.error.call(b.error_scope,a>10000?"TIMED_OUT":"GENERAL",c,b),c=null):setTimeout(d,10)}var c,a=0;if(b.scope=b.scope||this,b.success_scope=b.success_scope||b.scope,b.error_scope=b.error_scope||b.scope,b.async=b.async===!1?!1:!0,b.data=b.data||"",c=new XMLHttpRequest){if(c.overrideMimeType&&c.overrideMimeType(b.content_type),c.open(b.type||(b.data?"POST":"GET"),b.url,b.async),b.content_type&&c.setRequestHeader("Content-Type",b.content_type),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(b.data),!b.async){return d()}setTimeout(d,10)}}}}),bk(bv,[],function(){function a(g,f){var c,d,b,e;if(f=f||'"',null===g){return"null"}if(b=typeof g,"string"==b){return d="\bb	t\nn\ff\rr\"\"''\\\\",f+g.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(h,i){return'"'===f&&"'"===h?h:(c=d.indexOf(i),c+1?"\\"+d.charAt(c+1):(h=i.charCodeAt().toString(16),"\\u"+"0000".substring(h.length)+h))})+f}if("object"==b){if(g.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(g)){for(c=0,d="[";c<g.length;c++){d+=(c>0?",":"")+a(g[c],f)}return d+"]"}d="{";for(e in g){g.hasOwnProperty(e)&&(d+="function"!=typeof g[e]?(d.length>1?","+f:f)+e+f+":"+a(g[e],f):"")}return d+"}"}return""+g}return{serialize:a,parse:function(b){try{return window[String.fromCharCode(101)+"val"]("("+b+")")}catch(c){}}}}),bk(be,[bv,ap,ab],function(b,f,d){function a(g){this.settings=c({},g),this.count=0}var c=d.extend;return a.sendRPC=function(g){return(new a).send(g)},a.prototype={send:function(h){var g=h.error,e=h.success;h=c(this.settings,h),h.success=function(k,j){k=b.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?g.call(h.error_scope||h.scope,k.error,j):e.call(h.success_scope||h.scope,k.result)},h.error=function(i,j){g&&g.call(h.error_scope||h.scope,i,j)},h.data=b.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",f.send(h)}},a}),bk(az,[av],function(a){return{callbacks:{},count:0,send:function(f){var c=this,d=a.DOM,b=f.count!==bs?f.count:c.count,e="tinymce_jsonp_"+b;c.callbacks[b]=function(g){d.remove(e),delete c.callbacks[b],f.callback(g)},d.add(d.doc.body,"script",{id:e,src:f.url,type:"text/javascript"}),c.count++}}}),bk(br,[],function(){function d(){f=[];for(var a in h){f.push(a)}g.length=f.length}function k(){function o(p){var q,i;return i=p!==bs?e+p:m.indexOf(",",e),-1===i||i>m.length?null:(q=m.substring(e,i),e=i+1,q)}var a,m,l,e=0;h={},b.load(j),m=b.getAttribute(j)||"";do{a=o(parseInt(o(),32)||0),null!==a&&(l=o(parseInt(o(),32)||0),h[a]=l)}while(null!==a);d()}function c(){var i,e="";for(var a in h){i=h[a],e+=(e?",":"")+a.length.toString(32)+","+a+","+i.length.toString(32)+","+i}b.setAttribute(j,e),b.save(j),d()}var g,b,h,f,j;return window.localStorage?localStorage:(j="tinymce",b=document.documentElement,b.addBehavior("#default#userData"),g={key:function(a){return f[a]},getItem:function(a){return a in h?h[a]:null},setItem:function(a,i){h[a]=""+i,c()},removeItem:function(a){delete h[a],c()},clear:function(){h={},c()}},k(),g)}),bk(aR,[av,bj,aY,aq,ab,bp],function(d,j,h,c,f,b){var g=window.tinymce;return g.DOM=d.DOM,g.ScriptLoader=h.ScriptLoader,g.PluginManager=c.PluginManager,g.ThemeManager=c.ThemeManager,g.dom=g.dom||{},g.dom.Event=j.Event,f.each(f,function(a,i){g[i]=a}),f.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){g[a]=b[a.substr(2).toLowerCase()]}),{}}),bk(ba,[aC,ab],function(a,b){return a.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=b.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(f){var j=this,h=j.settings,d,g,c;d=f.items().filter(":visible"),g=h.firstControlClass,c=h.lastControlClass,d.each(function(i){i.removeClass(g).removeClass(c),h.controlClass&&i.addClass(h.controlClass)}),d.eq(0).addClass(g),d.eq(-1).addClass(c)},renderHtml:function(d){var h=this,g=h.settings,c,f="";return c=d.items(),c.eq(0).addClass(g.firstControlClass),c.eq(-1).addClass(g.lastControlClass),c.each(function(i){g.controlClass&&i.addClass(g.controlClass),f+=i.renderHtml()}),f},recalc:function(){},postRender:function(){}})}),bk(by,[ba],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(c){var d=c.settings;c.layoutRect({x:d.x,y:d.y,w:d.w,h:d.h}),c.recalc&&c.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),bk(bo,[aQ,aA],function(a,b){return a.extend({Mixins:[b],Defaults:{classes:"widget tooltip tooltip-n"},text:function(c){var d=this;return"undefined"!=typeof c?(d._value=c,d._rendered&&(d.getEl().lastChild.innerHTML=d.encode(c)),d):d._value},renderHtml:function(){var c=this,d=c.classPrefix;return'<div id="'+c._id+'" class="'+c.classes()+'" role="presentation"><div class="'+d+'tooltip-arrow"></div><div class="'+d+'tooltip-inner">'+c.encode(c._text)+"</div></div>"},repaint:function(){var c=this,f,d;f=c.getEl().style,d=c._layoutRect,f.left=d.x+"px",f.top=d.y+"px",f.zIndex=131070}})}),bk(bB,[aQ,bo],function(b,d){var c,a=b.extend({init:function(f){var g=this;g._super(f),g.canFocus=!0,f.tooltip&&a.tooltips!==!1&&g.on("mouseenter mouseleave",function(j){var e=g.tooltip().moveTo(-65535);if(j.control==g&&"mouseenter"==j.type){var h=e.text(f.tooltip).show().testMoveRel(g.getEl(),["bc-tc","bc-tl","bc-tr"]);e.toggleClass("tooltip-n","bc-tc"==h),e.toggleClass("tooltip-nw","bc-tl"==h),e.toggleClass("tooltip-ne","bc-tr"==h),e.moveRel(g.getEl(),h)}else{e.hide()}}),g.aria("label",f.tooltip)},tooltip:function(){var f=this;return c||(c=new d({type:"tooltip"}),c.renderTo(f.getContainerElm())),c},active:function(f){var h=this,g;return f!==g&&(h.aria("pressed",f),h.toggleClass("active",f)),h._super(f)},disabled:function(f){var h=this,g;return f!==g&&(h.aria("disabled",f),h.toggleClass("disabled",f)),h._super(f)},postRender:function(){var f=this,g=f.settings;f._rendered=!0,f._super(),f.parent()||!g.width&&!g.height||(f.initLayoutRect(),f.repaint()),g.autofocus&&setTimeout(function(){f.focus()},0)},remove:function(){this._super(),c&&(c.remove(),c=null)}});return a}),bk(bM,[bB],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(b){var d=this,c;d.on("click mousedown",function(f){f.preventDefault()}),d._super(b),c=b.size,b.subtype&&d.addClass(b.subtype),c&&d.addClass("btn-"+c)},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},renderHtml:function(){var c=this,g=c._id,f=c.classPrefix,b=c.settings.icon,d="";return c.settings.image&&(b="none",d=" style=\"background-image: url('"+c.settings.image+"')\""),b=c.settings.icon?f+"ico "+f+"i-"+b:"",'<div id="'+g+'" class="'+c.classes()+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+d+"></i>":"")+(c._text?(b?" ":"")+c.encode(c._text):"")+"</button></div>"}})}),bk(aV,[ar],function(a){return a.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var b=this,c=b._layout;return b.addClass("btn-group"),b.preRender(),c.preRender(b),'<div id="'+b._id+'" class="'+b.classes()+'"><div id="'+b._id+'-body">'+(b.settings.html||"")+c.renderHtml(b)+"</div></div>"}})}),bk(aj,[bB],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(b){var c=this;c._super(b),c.on("click mousedown",function(d){d.preventDefault()}),c.on("click",function(d){d.preventDefault(),c.disabled()||c.checked(!c.checked())}),c.checked(c.settings.checked)},checked:function(b){var c=this;return"undefined"!=typeof b?(b?c.addClass("checked"):c.removeClass("checked"),c._checked=b,c.aria("checked",b),c):c._checked},value:function(b){return this.checked(b)},renderHtml:function(){var b=this,d=b._id,c=b.classPrefix;return'<div id="'+d+'" class="'+b.classes()+'" unselectable="on" aria-labeledby="'+d+'-al" tabindex="-1"><i class="'+c+"ico "+c+'i-checkbox"></i><span id="'+d+'-al" class="'+c+'label">'+b.encode(b._text)+"</span></div>"}})}),bk(aZ,[bM,bg],function(a,b){return a.extend({showPanel:function(){var c=this,d=c.settings;d.panel.popover=!0,d.panel.autohide=!0,c.active(!0),c.panel?c.panel.show():(c.panel=new b(d.panel).on("hide",function(){c.active(!1)}).parent(c).renderTo(c.getContainerElm()),c.panel.fire("show"),c.panel.reflow().moveRel(c.getEl(),d.popoverAlign||"bc-tc"))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.on("click",function(d){d.control===c&&c.showPanel()}),c._super()}})}),bk(a1,[aZ,av],function(a,c){var b=c.DOM;return a.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var f=this,j=f._id,h=f.classPrefix,d=f.settings.icon?h+"ico "+h+"i-"+f.settings.icon:"",g=f.settings.image?" style=\"background-image: url('"+f.settings.image+"')\"":"";return'<div id="'+j+'" class="'+f.classes()+'"><button role="presentation" hidefocus type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+g+"></i>":"")+'<span id="'+j+'-preview" class="'+h+'preview"></span>'+(f._text?(d?" ":"")+f._text:"")+'</button><button type="button" class="'+h+'open" hidefocus tabindex="-1"> <i class="'+h+'caret"></i></button></div>'},postRender:function(){var d=this,f=d.settings.onclick;return d.on("click",function(e){e.control!=d||b.getParent(e.target,"."+d.classPrefix+"open")||(e.stopImmediatePropagation(),f.call(d,e))}),delete d.settings.onclick,d._super()}})}),bk(ao,[bB,bC],function(a,b){return a.extend({init:function(c){var d=this;d._super(c),d.addClass("combobox"),d.on("click",function(f){for(var g=f.target;g;){g.id&&-1!=g.id.indexOf("-open")&&d.fire("action"),g=g.parentNode}}),d.on("keydown",function(f){"INPUT"==f.target.nodeName&&13==f.keyCode&&d.parents().reverse().each(function(e){return f.preventDefault(),d.fire("change"),e.submit?(e.submit(),!1):void 0})}),c.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(b.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=c.placeholder,d.addClass("placeholder"))}))},value:function(c){var d=this;return"undefined"!=typeof c?(d._value=c,d.removeClass("placeholder"),d._rendered&&(d.getEl("inp").value=c),d):d._rendered?(c=d.getEl("inp").value,c!=d.settings.placeholder?c:""):d._value},disabled:function(c){var d=this;d._super(c),d._rendered&&(d.getEl("inp").disabled=c)},focus:function(){this.getEl("inp").focus()},repaint:function(){var f=this,k=f.getEl(),d=f.getEl("open"),h=f.layoutRect(),c,j;c=d?h.w-d.offsetWidth-10:h.w-10;var g=document;return g.all&&(!g.documentMode||g.documentMode<=8)&&(j=f.layoutRect().h-2+"px"),b.css(k.firstChild,{width:c,lineHeight:j}),f._super(),f},postRender:function(){var c=this;return b.on(this.getEl("inp"),"change",function(){c.fire("change")}),c._super()},renderHtml:function(){var f=this,l=f._id,k=f.settings,d=f.classPrefix,h=k.value||k.placeholder||"",c,j,g="";return c=k.icon?d+"ico "+d+"i-"+k.icon:"",j=f._text,(c||j)&&(g='<div id="'+l+'-open" class="'+d+"btn "+d+'open" tabIndex="-1"><button id="'+l+'-action" type="button" hidefocus tabindex="-1">'+(c?'<i class="'+c+'"></i>':'<i class="'+d+'caret"></i>')+(j?(c?" ":"")+j:"")+"</button></div>",f.addClass("has-open")),'<div id="'+l+'" class="'+f.classes()+'"><input id="'+l+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+h+'" hidefocus="true">'+g+"</div>"}})}),bk(bT,[aQ,bz],function(a,b){return a.extend({Defaults:{delimiter:"\xbb"},init:function(c){var d=this;d._super(c),d.addClass("path"),d.canFocus=!0,d.on("click",function(g){var h,f=g.target;(h=f.getAttribute("data-index"))&&d.fire("select",{value:d.data()[h],index:h})})},focus:function(){var c=this;return c.keyNav=new b({root:c,enableLeftRight:!0}),c.keyNav.focusFirst(),c},data:function(c){var d=this;return"undefined"!=typeof c?(d._data=c,d.update(),d):d._data},update:function(){this.getEl().innerHTML=this._getPathHtml()},postRender:function(){var c=this;c._super(),c.data(c.settings.data)},renderHtml:function(){var c=this;return'<div id="'+c._id+'" class="'+c.classPrefix+'path">'+c._getPathHtml()+"</div>"},_getPathHtml:function(){var f=this,j=f._data||[],h,d,g="",c=f.classPrefix;for(h=0,d=j.length;d>h;h++){g+=(h>0?'<div class="'+c+'divider" aria-hidden="true"> '+f.settings.delimiter+" </div>":"")+'<div role="button" class="'+c+"path-item"+(h==d-1?" "+c+"last":"")+'" data-index="'+h+'" tabindex="-1" id="'+f._id+"-"+h+'">'+j[h].name+"</div>"}return g||(g='<div class="'+c+'path-item">&nbsp;</div>'),g}})}),bk(bS,[bT,a5],function(a,b){return a.extend({postRender:function(){function d(g){return 1===g.nodeType&&("BR"==g.nodeName||!!g.getAttribute("data-mce-bogus"))}var f=this,c=b.activeEditor;return f.on("select",function(j){for(var h=[],g=c.selection.getNode(),e=c.getBody();g&&(d(g)||h.push(g),g=g.parentNode,g!=e);){}c.focus(),c.selection.select(h[h.length-1-j.index]),c.nodeChanged()}),c.on("nodeChange",function(k){for(var h=[],e=k.parents,j=e.length;j--;){if(1==e[j].nodeType&&!d(e[j])){var g=c.fire("ResolveName",{name:e[j].nodeName.toLowerCase(),target:e[j]});h.push({name:g.name})}}f.data(h)}),f._super()}})}),bk(bF,[ar],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var b=this,d=b._layout,c=b.classPrefix;return b.addClass("formitem"),d.preRender(b),'<div id="'+b._id+'" class="'+b.classes()+'" hideFocus="1" tabIndex="-1">'+(b.settings.title?'<div id="'+b._id+'-title" class="'+c+'title">'+b.settings.title+"</div>":"")+'<div id="'+b._id+'-body" class="'+b.classes("body")+'">'+(b.settings.html||"")+d.renderHtml(b)+"</div></div>"}})}),bk(aM,[ar,bF],function(a,b){return a.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var c=this,d=c.items();d.each(function(g){var e,f=g.settings.label;f&&(e=new b({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:f,flex:0,forId:g._id}]}),e.type="formitem","undefined"==typeof g.settings.flex&&(g.settings.flex=1),c.replace(g,e),e.add(g))})},recalcLabels:function(){var d=this,h=0,g=[],c,f;if(d.settings.labelGapCalc!==!1){for(d.items().filter("formitem").each(function(k){var j=k.items()[0],l=j.getEl().clientWidth;h=l>h?l:h,g.push(j)}),f=d.settings.labelGap||0,c=g.length;c--;){g[c].settings.minWidth=h+f}}},visible:function(c){var d=this._super(c);return c===!0&&this._rendered&&this.recalcLabels(),d},submit:function(){var c=this.getParentCtrl(document.activeElement);return c&&c.blur(),this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),bk(ag,[aM],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var b=this,d=b._layout,c=b.classPrefix;return b.preRender(),d.preRender(b),'<fieldset id="'+b._id+'" class="'+b.classes()+'" hideFocus="1" tabIndex="-1">'+(b.settings.title?'<legend id="'+b._id+'-title" class="'+c+'fieldset-title">'+b.settings.title+"</legend>":"")+'<div id="'+b._id+'-body" class="'+b.classes("body")+'">'+(b.settings.html||"")+d.renderHtml(b)+"</div></fieldset>"}})}),bk(a2,[ao],function(a){return a.extend({init:function(c){var f=this,d=tinymce.activeEditor,b;c.spellcheck=!1,b=d.settings.file_browser_callback,b&&(c.icon="browse",c.onaction=function(){b(f.getEl("inp").id,f.getEl("inp").value,c.filetype,window)}),f._super(c)}})}),bk(bb,[by],function(a){return a.extend({recalc:function(b){var d=b.layoutRect(),c=b.paddingBox();b.items().filter(":visible").each(function(f){f.layoutRect({x:c.left,y:c.top,w:d.innerW-c.right-c.left,h:d.innerH-c.top-c.bottom}),f.recalc&&f.recalc()})}})}),bk(aU,[by],function(a){return a.extend({recalc:function(cg){var X,bV,cm,cl,cc,cf,ck,cp,b5,cb,co,b1,b8,Y,bX,b2,J=[],bY,cr,b4,ci,b7,cq,ca,cj,b9,Z,cs,cd,ct,ch,bW,K,b6,G,cn,b0,Q,j,ce,bt,bZ=Math.max,at=Math.min;for(cm=cg.items().filter(":visible"),cl=cg.layoutRect(),cc=cg._paddingBox,cf=cg.settings,b1=cf.direction,ck=cf.align,cp=cf.pack,b5=cf.spacing||0,("row-reversed"==b1||"column-reverse"==b1)&&(cm=cm.set(cm.toArray().reverse()),b1=b1.split("-")[0]),"column"==b1?(b9="y",ca="h",cj="minH",Z="maxH",cd="innerH",cs="top",ct="bottom",ch="deltaH",bW="contentH",Q="left",G="w",K="x",b6="innerW",cn="minW",b0="maxW",j="right",ce="deltaW",bt="contentW"):(b9="x",ca="w",cj="minW",Z="maxW",cd="innerW",cs="left",ct="right",ch="deltaW",bW="contentW",Q="top",G="h",K="y",b6="innerH",cn="minH",b0="maxH",j="bottom",ce="deltaH",bt="contentH"),co=cl[cd]-cc[cs]-cc[cs],cq=cb=0,X=0,bV=cm.length;bV>X;X++){b8=cm[X],Y=b8.layoutRect(),bX=b8.settings,b2=bX.flex,co-=bV-1>X?b5:0,b2>0&&(cb+=b2,Y[Z]&&J.push(b8),Y.flex=b2),co-=Y[cj],bY=cc[Q]+Y[cn]+cc[j],bY>cq&&(cq=bY)}if(ci={},ci[cj]=0>co?cl[cj]-co+cl[ch]:cl[cd]-co+cl[ch],ci[cn]=cq+cl[ce],ci[bW]=cl[cd]-co,ci[bt]=cq,ci.minW=at(ci.minW,cl.maxW),ci.minH=at(ci.minH,cl.maxH),ci.minW=bZ(ci.minW,cl.startMinWidth),ci.minH=bZ(ci.minH,cl.startMinHeight),!cl.autoResize||ci.minW==cl.minW&&ci.minH==cl.minH){for(b4=co/cb,X=0,bV=J.length;bV>X;X++){b8=J[X],Y=b8.layoutRect(),cr=Y[Z],bY=Y[cj]+Math.ceil(Y.flex*b4),bY>cr?(co-=Y[Z]-Y[cj],cb-=Y.flex,Y.flex=0,Y.maxFlexSize=cr):Y.maxFlexSize=0}for(b4=co/cb,b7=cc[cs],ci={},0===cb&&("end"==cp?b7=co+cc[cs]:"center"==cp?(b7=Math.round(cl[cd]/2-(cl[cd]-co)/2)+cc[cs],0>b7&&(b7=cc[cs])):"justify"==cp&&(b7=cc[cs],b5=Math.floor(co/(cm.length-1)))),ci[K]=cc[Q],X=0,bV=cm.length;bV>X;X++){b8=cm[X],Y=b8.layoutRect(),bY=Y.maxFlexSize||Y[cj],"center"===ck?ci[K]=Math.round(cl[b6]/2-Y[G]/2):"stretch"===ck?(ci[G]=bZ(Y[cn]||0,cl[b6]-cc[Q]-cc[j]),ci[K]=cc[Q]):"end"===ck&&(ci[K]=cl[b6]-Y[G]-cc.top),Y.flex>0&&(bY+=Math.ceil(Y.flex*b4)),ci[ca]=bY,ci[b9]=b7,b8.layoutRect(ci),b8.recalc&&b8.recalc(),b7+=bY+b5}}else{if(ci.w=ci.minW,ci.h=ci.minH,cg.layoutRect(ci),this.recalc(cg),null===cg._lastRect){var b3=cg.parent();b3&&(b3._lastRect=null,b3.recalc())}}}})}),bk(bc,[ba],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),bk(aD,[bI,aQ,bB,bg,ab,a5,bp],function(q,h,d,b,f,k,j){function v(B){function y(a){return a.replace(/%(\w+)/g,"")}var u=k.activeEditor,o,w,z=u.dom,C="",x,A;return A=u.settings.preview_styles,A===!1?"":(A||(A="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(B=u.formatter.get(B))?(B=B[0],o=B.block||B.inline||"span",w=z.create(o),p(B.styles,function(a,c){a=y(a),a&&z.setStyle(w,c,a)}),p(B.attributes,function(a,c){a=y(a),a&&z.setAttrib(w,c,a)}),p(B.classes,function(a){a=y(a),z.hasClass(w,a)||z.addClass(w,a)}),u.fire("PreviewFormats"),z.setStyles(w,{position:"absolute",left:-65535}),u.getBody().appendChild(w),x=z.getStyle(u.getBody(),"fontSize",!0),x=/px$/.test(x)?parseInt(x,10):0,p(A.split(" "),function(a){var c=z.getStyle(w,a,!0);if(!("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(c)&&(c=z.getStyle(u.getBody(),a,!0),"#ffffff"==z.toHex(c).toLowerCase())||"color"==a&&"#000000"==z.toHex(c).toLowerCase())){if("font-size"==a&&/em|%$/.test(c)){if(0===x){return}c=parseFloat(c,10)/(/%$/.test(c)?100:1),c=c*x+"px"}"border"==a&&c&&(C+="padding:0 2px;"),C+=a+":"+c+";"}}),u.fire("AfterPreviewFormats"),z.remove(w),C):void 0)}function g(a,c){return function(){var e=this;k.activeEditor.on("nodeChange",function(l){var n=k.activeEditor.formatter,o=null;p(l.parents,function(i){return p(a,function(r){return c?n.matchNode(i,c,{value:r.value})&&(o=r.value):n.matchNode(i,r.value)&&(o=r.value),o?!1:void 0}),o?!1:void 0}),e.value(o)})}}function m(a){a=a.split(";");for(var c=a.length;c--;){a[c]=a[c].split("=")}return a}var p=f.each;h.translate=function(a){return k.translate(a)},d.tooltips=!j.iOS,k.on("AddEditor",function(s){function c(){function y(n){var t=[];if(n){return p(n,function(D){var C={text:{raw:D.title},icon:D.icon};if(D.items){C.menu=y(D.items)}else{var E=D.format||"custom"+B++;D.format||(D.name=E,A.push(D)),C.textStyle=function(){return v(E)},C.onclick=function(){e(E)}}t.push(C)}),t}}var B=0,A=[],a=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];i.on("init",function(){p(A,function(n){i.formatter.register(n.name,n)})});var z=y(i.settings.style_formats||a);return z}function u(){return i.undoManager?i.undoManager.hasUndo():!1}function o(){return i.undoManager?i.undoManager.hasRedo():!1}function l(){var a=this;a.disabled(!u()),i.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!u())})}function r(){var a=this;a.disabled(!o()),i.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!o())})}function x(){var a=this;i.on("VisualAid",function(n){a.active(n.hasVisual)}),a.active(i.hasVisual)}function e(a){a.control&&(a=a.control.value()),a&&k.activeEditor.execCommand("mceToggleFormat",!1,a)}var i=s.editor,w;w=c(),p({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,n){i.addButton(n,{tooltip:a,onPostRender:function(){var t=this;i.formatter?i.formatter.formatChanged(n,function(y){t.active(y)}):i.on("init",function(){i.formatter.formatChanged(n,function(y){t.active(y)})})},onclick:function(){e(n)}})}),p({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,n){i.addButton(n,{tooltip:a[0],cmd:a[1]})}),p({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bulleted list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,n){i.addButton(n,{tooltip:a[0],cmd:a[1],onPostRender:function(){var t=this;i.formatter?i.formatter.formatChanged(n,function(y){t.active(y)}):i.on("init",function(){i.formatter.formatChanged(n,function(y){t.active(y)})})}})}),i.addButton("undo",{tooltip:"Undo",onPostRender:l,cmd:"undo"}),i.addButton("redo",{tooltip:"Redo",onPostRender:r,cmd:"redo"}),i.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),i.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:l,cmd:"undo"}),i.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:r,cmd:"redo"}),i.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:x,cmd:"mceToggleVisualAid"}),p({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,n){i.addMenuItem(n,{text:a[0],icon:n,shortcut:a[2],cmd:a[1]})}),i.on("mousedown",function(){b.hideAll()}),q.add("styleselect",function(y){var a=[].concat(w);return q.create("menubutton",f.extend({text:"Formats",menu:a},y))}),q.add("formatselect",function(z){var y=[],a=m(i.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return p(a,function(n){y.push({text:{raw:n[0]},value:n[1],textStyle:function(){return v(n[1])}})}),q.create("listbox",f.extend({text:{raw:a[0][0]},values:y,fixedWidth:!0,onselect:e,onPostRender:g(y)},z))}),q.add("fontselect",function(B){var A="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",y=[],z=m(i.settings.font_formats||A);return p(z,function(a){y.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})}),q.create("listbox",f.extend({text:"Font Family",tooltip:"Font Family",values:y,fixedWidth:!0,onPostRender:g(y,"fontname"),onselect:function(a){a.control.settings.value&&k.activeEditor.execCommand("FontName",!1,a.control.settings.value)}},B))}),q.add("fontsizeselect",function(B){var A=[],y="8pt 10pt 12pt 14pt 18pt 24pt 36pt",z=i.settings.fontsize_formats||y;return p(z.split(" "),function(a){A.push({text:a,value:a})}),q.create("listbox",f.extend({text:"Font Sizes",tooltip:"Font Sizes",values:A,fixedWidth:!0,onPostRender:g(A,"fontsize"),onclick:function(a){a.control.settings.value&&k.activeEditor.execCommand("FontSize",!1,a.control.settings.value)}},B))}),i.addMenuItem("formats",{text:"Formats",menu:w})})}),bk(ax,[by],function(a){return a.extend({recalc:function(b0){var F=b0.settings,J,b6,b5,bX,bZ,b4,b9,X,bW,b8,U,at,G,O,V,q,Q,cb,W,b2,Z,ca,bV=[],b3=[],bt,I,cc,bY,cd,b1;for(F=b0.settings,b5=b0.items().filter(":visible"),bX=b0.layoutRect(),b6=F.columns||Math.ceil(Math.sqrt(b5.length)),J=Math.ceil(b5.length/b6),Q=F.spacingH||F.spacing||0,cb=F.spacingV||F.spacing||0,W=F.alignH||F.align,b2=F.alignV||F.align,V=b0._paddingBox,W&&"string"==typeof W&&(W=[W]),b2&&"string"==typeof b2&&(b2=[b2]),b8=0;b6>b8;b8++){bV.push(0)}for(U=0;J>U;U++){b3.push(0)}for(U=0;J>U;U++){for(b8=0;b6>b8&&(bW=b5[U*b6+b8],bW);b8++){X=bW.layoutRect(),bt=X.minW,I=X.minH,bV[b8]=bt>bV[b8]?bt:bV[b8],b3[U]=I>b3[U]?I:b3[U]}}for(cd=bX.innerW-V.left-V.right,Z=0,b8=0;b6>b8;b8++){Z+=bV[b8]+(b8>0?Q:0),cd-=(b8>0?Q:0)+bV[b8]}for(b1=bX.innerH-V.top-V.bottom,ca=0,U=0;J>U;U++){ca+=b3[U]+(U>0?cb:0),b1-=(U>0?cb:0)+b3[U]}if(Z+=V.left+V.right,ca+=V.top+V.bottom,b9={},b9.minW=Z+(bX.w-bX.innerW),b9.minH=ca+(bX.h-bX.innerH),b9.contentW=b9.minW-bX.deltaW,b9.contentH=b9.minH-bX.deltaH,b9.minW=Math.min(b9.minW,bX.maxW),b9.minH=Math.min(b9.minH,bX.maxH),b9.minW=Math.max(b9.minW,bX.startMinWidth),b9.minH=Math.max(b9.minH,bX.startMinHeight),!bX.autoResize||b9.minW==bX.minW&&b9.minH==bX.minH){bX.autoResize&&(b9=b0.layoutRect(b9),b9.contentW=b9.minW-bX.deltaW,b9.contentH=b9.minH-bX.deltaH);var K;K="start"==F.packV?0:b1>0?Math.floor(b1/J):0;var z=0,Y=F.flexWidths;if(Y){for(b8=0;b8<Y.length;b8++){z+=Y[b8]}}else{z=b6}var j=cd/z;for(b8=0;b6>b8;b8++){bV[b8]+=Y?Math.ceil(Y[b8]*j):j}for(G=V.top,U=0;J>U;U++){for(at=V.left,b4=b3[U]+K,b8=0;b6>b8&&(bW=b5[U*b6+b8],bW);b8++){O=bW.settings,X=bW.layoutRect(),bZ=bV[b8],cc=bY=0,X.x=at,X.y=G,q=O.alignH||(W?W[b8]||W[0]:null),"center"==q?X.x=at+bZ/2-X.w/2:"right"==q?X.x=at+bZ-X.w:"stretch"==q&&(X.w=bZ),q=O.alignV||(b2?b2[b8]||b2[0]:null),"center"==q?X.y=G+b4/2-X.h/2:"bottom"==q?X.y=G+b4-X.h:"stretch"==q&&(X.h=b4),bW.layoutRect(X),at+=bZ+Q,bW.recalc&&bW.recalc()}G+=b4+cb}}else{if(b9.w=b9.minW,b9.h=b9.minH,b0.layoutRect(b9),this.recalc(b0),null===b0._lastRect){var b7=b0.parent();b7&&(b7._lastRect=null,b7.recalc())}}}})}),bk(aO,[bB],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(b){return this.getEl().contentWindow.document.body.innerHTML=b,this}})}),bk(bN,[bB],function(a){return a.extend({init:function(b){var c=this;c._super(b),c.addClass("widget"),c.addClass("label"),c.canFocus=!1,b.multiline&&c.addClass("autoscroll"),b.strong&&c.addClass("strong")},initLayoutRect:function(){var b=this,c=b._super();return b.settings.multiline&&(b.getEl().offsetWidth>c.maxW&&(c.minW=c.maxW,b.addClass("multiline")),b.getEl().style.width=c.minW+"px",c.startMinH=c.h=c.minH=Math.min(c.maxH,b.getEl().offsetHeight)),c},disabled:function(b){var d=this,c;return b!==c&&(d.toggleClass("label-disabled",b),d._rendered&&(d.getEl()[0].className=d.classes())),d._super(b)},repaint:function(){var b=this;return b.settings.multiline||(b.getEl().style.lineHeight=b.layoutRect().h+"px"),b._super()},text:function(b){var c=this;return c._rendered&&b&&(c.getEl().innerHTML=c.encode(b)),c._super(b)},renderHtml:function(){var b=this,c=b.settings.forId;return'<label id="'+b._id+'" class="'+b.classes()+'"'+(c?' for="'+c:"")+'">'+b.encode(b._text)+"</label>"}})}),bk(an,[ar,bz],function(a,b){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var d=this;d._super(c),d.addClass("toolbar")},postRender:function(){var c=this;return c.items().addClass("toolbar-item"),c.keyNav=new b({root:c,enableLeftRight:!0}),c._super()}})}),bk(aS,[an],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),bk(bw,[bM,bI,aS],function(b,f,d){function a(g,h){for(;g;){if(h===g){return !0}g=g.parentNode}return !1}var c=b.extend({init:function(g){var h=this;h._renderOpen=!0,h._super(g),h.addClass("menubtn"),g.fixedWidth&&h.addClass("fixed-width"),h.aria("haspopup",!0),h.hasPopup=!0},showMenu:function(){var h=this,i=h.settings,g;return h.menu&&h.menu.visible()?h.hideMenu():(h.menu||(g=i.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",h.menu=f.create(g).parent(h).renderTo(h.getContainerElm()),h.fire("createmenu"),h.menu.reflow(),h.menu.on("cancel",function(e){e.control===h.menu&&h.focus()}),h.menu.on("show hide",function(e){e.control==h.menu&&h.activeMenu("show"==e.type)}).fire("show"),h.aria("expanded",!0)),h.menu.show(),h.menu.layoutRect({w:h.layoutRect().w}),h.menu.moveRel(h.getEl(),["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide(),g.aria("expanded",!1))},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var h=this,k=h._id,g=h.classPrefix,j=h.settings.icon?g+"ico "+g+"i-"+h.settings.icon:"";return h.aria("role",h.parent() instanceof d?"menuitem":"button"),'<div id="'+k+'" class="'+h.classes()+'" tabindex="-1"><button id="'+k+'-open" role="presentation" type="button" tabindex="-1">'+(j?'<i class="'+j+'"></i>':"")+"<span>"+(h._text?(j?" ":"")+h.encode(h._text):"")+'</span> <i class="'+g+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&a(e.target,g.getEl())&&(g.showMenu(),e.keyboard&&g.menu.items()[0].focus())}),g.on("mouseenter",function(j){var i=j.control,h=g.parent(),e;i&&h&&i instanceof c&&i.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=i&&(k.menu&&k.menu.visible()&&(e=!0),k.hideMenu())}),e&&i.showMenu())}),g._super()},text:function(h){var j=this,i,g;if(j._rendered){for(g=j.getEl("open").getElementsByTagName("span"),i=0;i<g.length;i++){g[i].innerHTML=j.encode(h)}}return this._super(h)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return c}),bk(af,[bw],function(a){return a.extend({init:function(d){var j=this,h,c,f,b,g;if(j._values=h=d.values,h){for(c=0;c<h.length;c++){f=h[c].selected||d.value===h[c].value,f&&(b=b||h[c].text,j._value=h[c].value)}d.menu=h}d.text=d.text||b||h[0].text,j._super(d),j.addClass("listbox"),j.on("select",function(i){var e=i.control;g&&(i.lastControl=g),d.multiple?e.active(!e.active()):j.value(i.control.settings.value),g=e})},value:function(d){function j(i,k){i.items().each(function(l){c=l.value()===k,c&&(f=f||l.text()),l.active(c),l.menu&&j(l.menu,k)})}var h=this,c,f,b,g;if("undefined"!=typeof d){if(h.menu){j(h.menu,d)}else{for(b=h.settings.menu,g=0;g<b.length;g++){c=b[g].value==d,c&&(f=f||b[g].text),b[g].active=c}}h.text(f||this.settings.text)}return h._super(d)}})}),bk(aJ,[bB,bI],function(a,b){return a.extend({Defaults:{border:0,role:"menuitem"},init:function(c){var d=this;d.hasPopup=!0,d._super(c),c=d.settings,d.addClass("menu-item"),c.menu&&d.addClass("menu-item-expand"),("-"===d._text||"|"===d._text)&&(d.addClass("menu-item-sep"),d.aria("role","separator"),d.canFocus=!1,d._text="-"),c.selectable&&(d.aria("role","menuitemcheckbox"),d.aria("checked",!0),d.addClass("menu-item-checkbox"),c.icon="selected"),d.on("mousedown",function(f){f.preventDefault()}),d.on("mouseenter click",function(e){e.control===d&&(c.menu||"click"!==e.type?(d.showMenu(),e.keyboard&&setTimeout(function(){d.menu.items()[0].focus()},0)):(d.parent().hideAll(),d.fire("cancel"),d.fire("select")))}),c.menu&&d.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var d=this,g=d.settings,c;if(d.parent().items().each(function(e){e!==d&&e.hideMenu()}),g.menu){c=d.menu,c?c.show():(c=g.menu,c.length?c={type:"menu",items:c}:c.type=c.type||"menu",c=d.menu=b.create(c).parent(d).renderTo(d.getContainerElm()),c.reflow(),c.fire("show"),c.on("cancel",function(){d.focus()}),c.on("hide",function(e){e.control===c&&d.removeClass("selected")})),c._parentMenu=d.parent(),c.addClass("menu-sub");var f=c.testMoveRel(d.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]);c.moveRel(d.getEl(),f),f="menu-sub-"+f,c.removeClass(c._lastRel),c.addClass(f),c._lastRel=f,d.addClass("selected"),d.aria("expanded",!0)}},hideMenu:function(){var c=this;return c.menu&&(c.menu.items().each(function(d){d.hideMenu&&d.hideMenu()}),c.menu.hide(),c.aria("expanded",!1)),c},renderHtml:function(){var f=this,j=f._id,h=f.settings,d=f.classPrefix,g=f.encode(f._text),c=f.settings.icon;return c&&f.parent().addClass("menu-has-icons"),c=d+"ico "+d+"i-"+(f.settings.icon||"none"),'<div id="'+j+'" class="'+f.classes()+'" tabindex="-1">'+("-"!==g?'<i class="'+c+'"></i>&nbsp;':"")+("-"!==g?'<span id="'+j+'-text" class="'+d+'text">'+g+"</span>":"")+(h.shortcut?'<div id="'+j+'-shortcut" class="'+d+'menu-shortcut">'+h.shortcut+"</div>":"")+(h.menu?'<div class="'+d+'caret"></div>':"")+"</div>"},postRender:function(){var d=this,g=d.settings,f=g.textStyle;if("function"==typeof f&&(f=f()),f){var c=d.getEl("text");c&&c.setAttribute("style",f)}return d._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),bk(bL,[bg,bz,aJ],function(b,d,c){var a=b.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(g){var f=this;g.autohide=!0,g.constrainToViewport=!0,f._super(g),f.addClass("menu"),f.keyNav=new d({root:f,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){f.parent() instanceof c&&f.keyNav.cancel()},onCancel:function(){f.fire("cancel",{},!1),f.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("cancel"),f.fire("select")},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(g){var e=g.settings;return e.icon||e.selectable?(f._hasIcons=!0,!1):void 0}),f._super()}});return a}),bk(bR,[aj],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),bk(aG,[bB,ad],function(a,b){return a.extend({renderHtml:function(){var c=this,d=c.classPrefix;return c.addClass("resizehandle"),"both"==c.settings.direction&&c.addClass("resizehandle-both"),c.canFocus=!1,'<div id="'+c._id+'" class="'+c.classes()+'"><i class="'+d+"ico "+d+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new b(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},end:function(){c.fire("ResizeEnd")}})}})}),bk(aH,[bB],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),bk(bO,[bw,av],function(a,c){var b=c.DOM;return a.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var g=this,k=g.getEl(),f=g.layoutRect(),h,d,j;return g._super(),h=k.firstChild,d=k.lastChild,b.css(h,{width:f.w-d.offsetWidth,height:f.h-2}),b.css(d,{height:f.h-2}),j=h.firstChild.style,j.width=j.height="100%",j=d.firstChild.style,j.width=j.height="100%",g},activeMenu:function(d){var f=this;b.toggleClass(f.getEl().lastChild,f.classPrefix+"active",d)},renderHtml:function(){var f=this,h=f._id,g=f.classPrefix,d=f.settings.icon?g+"ico "+g+"i-"+f.settings.icon:"";return'<div id="'+h+'" class="'+f.classes()+'"><button type="button" hidefocus tabindex="-1">'+(d?'<i class="'+d+'"></i>':"")+(f._text?(d?" ":"")+f._text:"")+'</button><button type="button" class="'+g+'open" hidefocus tabindex="-1">'+(f._menuBtnText?(d?" ":"")+f._menuBtnText:"")+' <i class="'+g+'caret"></i></button></div>'},postRender:function(){var d=this,f=d.settings.onclick;return d.on("click",function(g){g.control!=this||b.getParent(g.target,"."+this.classPrefix+"open")||(g.stopImmediatePropagation(),f.call(this,g))}),delete d.settings.onclick,d._super()}})}),bk(a0,[bc],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),bk(bK,[ai,bC],function(a,b){return a.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){this.activeTabId&&b.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+c,b.addClass(this.getEl("t"+c),this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var d=this,g=d._layout,f="",c=d.classPrefix;return d.preRender(),g.preRender(d),d.items().each(function(h,e){f+='<div id="'+d._id+"-t"+e+'" class="'+c+'tab" unselectable="on">'+d.encode(h.settings.title)+"</div>"}),'<div id="'+d._id+'" class="'+d.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+d._id+'-head" class="'+c+'tabs">'+f+'</div><div id="'+d._id+'-body" class="'+d.classes("body")+'">'+g.renderHtml(d)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(f){var e=f.target.parentNode;if(f.target.parentNode.id==c._id+"-head"){for(var d=e.childNodes.length;d--;){e.childNodes[d]==f.target&&c.activateTab(d)}}})},initLayoutRect:function(){var d=this,h,g,c;g=c=0,d.items().each(function(j,e){g=Math.max(g,j.layoutRect().minW),c=Math.max(c,j.layoutRect().minH),d.settings.activeTab!=e&&j.hide()}),d.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=g,i.settings.h=c,i.layoutRect({x:0,y:0,w:g,h:c})});var f=d.getEl("head").offsetHeight;return d.settings.minWidth=g,d.settings.minHeight=c+f,h=d._super(),h.deltaH+=d.getEl("head").offsetHeight,h.innerH=h.h-h.deltaH,h}})}),bk(aL,[bB,bC],function(a,b){return a.extend({init:function(c){var d=this;d._super(c),d._value=c.value||"",d.addClass("textbox"),c.multiline?d.addClass("multiline"):d.on("keydown",function(f){13==f.keyCode&&d.parents().reverse().each(function(e){return f.preventDefault(),e.submit?(e.submit(),!1):void 0})})},value:function(c){var d=this;return"undefined"!=typeof c?(d._value=c,d._rendered&&(d.getEl().value=c),d):d._rendered?d.getEl().value:d._value},repaint:function(){var f=this,l,k,d,h=0,c=0,j;l=f.getEl().style,k=f._layoutRect,j=f._lastRepaintRect||{};var g=document;return !f.settings.multiline&&g.all&&(!g.documentMode||g.documentMode<=8)&&(l.lineHeight=k.h-c+"px"),d=f._borderBox,h=d.left+d.right+8,c=d.top+d.bottom+(f.settings.multiline?8:0),k.x!==j.x&&(l.left=k.x+"px",j.x=k.x),k.y!==j.y&&(l.top=k.y+"px",j.y=k.y),k.w!==j.w&&(l.width=k.w-h+"px",j.w=k.w),k.h!==j.h&&(l.height=k.h-c+"px",j.h=k.h),f._lastRepaintRect=j,f.fire("repaint",{},!1),f},renderHtml:function(){var d=this,h=d._id,g=d.settings,c=d.encode(d._value,!1),f="";return"spellcheck" in g&&(f+=' spellcheck="'+g.spellcheck+'"'),g.maxLength&&(f+=' maxlength="'+g.maxLength+'"'),g.size&&(f+=' size="'+g.size+'"'),g.subtype&&(f+=' type="'+g.subtype+'"'),g.multiline?'<textarea id="'+h+'" class="'+d.classes()+'" '+(g.rows?' rows="'+g.rows+'"':"")+' hidefocus="true"'+f+">"+c+"</textarea>":'<input id="'+h+'" class="'+d.classes()+'" value="'+c+'" hidefocus="true"'+f+">"},postRender:function(){var c=this;return b.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()}})}),bk(bG,[bC],function(a){return function(d){var c=this,b;c.show=function(e){return c.hide(),b=!0,window.setTimeout(function(){b&&d.appendChild(a.createFragment('<div class="mce-throbber"></div>'))},e||0),c},c.hide=function(){var f=d.lastChild;return f&&-1!=f.className.indexOf("throbber")&&f.parentNode.removeChild(f),b=!1,c}}}),a9([bj,ae,bx,a7,ah,ab,bh,a6,bp,av,aY,aq,bH,bU,aw,al,aT,am,bd,a8,ak,aE,ac,bQ,bf,bA,bP,aB,aa,au,aC,aK,bm,bC,aQ,bI,ar,ad,ay,ai,aA,bu,bg,bz,a3,bJ,bD,aF,aW,aP,aX,aN,aI,a5,bE,ap,bv,be,az,br,aR,ba,by,bo,bB,bM,aV,aj,aZ,a1,ao,bT,bS,bF,aM,ag,a2,bb,aU,bc,aD,ax,aO,bN,an,aS,bw,af,aJ,bL,bR,aG,aH,bO,a0,bK,aL,bG])}(this);
$(document).ready(function(){$("#stage-list-container").on("click","#add-more-stages",function(a){a.preventDefault();$.get(Routing.generate("ctf_admin_stage_form",null),null,function(b){$("#stage-form-dyn").empty();$("#stage-form-dyn").html(b).fadeIn()})});$("#stage-list-container").on("click","a.list-item",function(a){a.preventDefault();$.get($(this).attr("href"),null,function(b){$("#stage-form-dyn").empty();$("#stage-form-dyn").html(b).fadeIn()})});$("#stage-form-container").on("submit","#stage-form",function(a){a.preventDefault();$.post($("#stage-form").attr("action"),$("#stage-form").serialize(),function(b){if("true"==b){$("#stage-form").fadeOut();$("#stage-form").fadeIn("fast",function(){$("#ctf_questbundle_stagetype_name").val("");$("#ctf_questbundle_stagetype_description").val("")});$("#stage-form-status").html('<div class="alert alert-success">Successfully Saved!</div>').show().fadeOut(2200);$.get(Routing.generate("ctf_admin_stage_list",null),null,function(c){$("#stage-list-dyn").html(c).show()});$.get(Routing.generate("ctf_admin_stage_list",{q:1}),null,function(c){$("#qlist-dyn").html(c).show()})}else{$("#stage-form-status").html('<div class="alert alert-error">Could not save!</div>').show().fadeOut(1200)}})});$("#qlist-container").on("click","a.list-item",function(a){a.preventDefault();$.get($(this).attr("href"),null,function(b){$("#question-form-dyn").empty();$("#question-form-dyn").html(b).fadeIn();tinyMCE.init({selector:".rich",mode:"specific_textareas"})})});$("#qlist-container").on("click","#add-more-questions",function(a){a.preventDefault();$.get(Routing.generate("ctf_admin_stage_question",null),null,function(b){$("#question-form-dyn").empty();$("#question-form-dyn").html(b).show();tinyMCE.init({selector:".rich",mode:"specific_textareas"});$("#qtabs").tab()})})});